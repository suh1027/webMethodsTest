(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{ojYn:function(e,t,i){"use strict";i.r(t),i.d(t,"MonitoringModule",function(){return Dr}),i.d(t,"createTranslateLoader",function(){return Ar});var n=i("TSSN"),a=i("G0yt"),c=i("2ilO"),r=i("/dUA"),s=i("SVse"),o=i("IheW"),l=i("QGev"),d=i("iInd"),u=i("8Y7J"),h=i("D3+B"),g=i("JIr8"),p=i("LRne"),f=i("wd/R");let m=(()=>{class e{constructor(e,t,i){this.http=e,this.translateService=t,this.dateTimeService=i,this.documentsUrl="/admin/monitor"}getDocumentList(e,t,i="AUDITTIMESTRING",n,a,c,r){let s=(new o.f).set("pageNumber",e).set("pageSize",t).set("sortColumn",i).set("sortAscending",n);if(r&&r.length>0)for(let o=0;o<r.length;o++)if("durationInHours"===r[o].filterBy){const e=this.setStartAndFromDateWithoutSeconds(r[o].filterValue,a,c);a=e.startTime,c=e.endTime,r.splice(o,1);break}return a&&(s=s.append("fromDate",a)),c&&(s=s.append("toDate",c)),this.hasIsAnd(r)||(s=s.append("isAnd","TRUE")),s=h.J.getFliterToQueryParam(r,s),this.http.get(this.documentsUrl+"/document",{params:s})}hasIsAnd(e){if(!e||0===e.length)return!1;for(let t=0;t<e.length;t++)if("isAnd"===e[t].filterBy)return!0;return!1}getDocumentDetails(e){return this.http.get(this.documentsUrl+"/document/"+e+"/details").pipe(Object(g.a)(this.handleError("getDocumentDetails")))}setStartAndFromDateWithoutSeconds(e,t,i){return{startTime:(i=f.utc().startOf("minute")).clone().subtract(e,"hours").valueOf(),endTime:i=i.valueOf()}}getDocumentChartData(e,t,i){let n=new o.f;if(t||i||e||(e=1),e){const n=this.setStartAndFromDateWithoutSeconds(e,t,i);t=n.startTime,i=n.endTime}return t&&(n=n.append("fromDate",t)),i&&(n=n.append("toDate",i)),n=n.append("isAnd","TRUE"),n=n.append("customIntervals","20"),this.http.get(this.documentsUrl+"/document/summary",{params:n})}summarizedChartData(e,t,i,n){if(e){const a=[];let c="";const r=[],s=[],o=[],l=[];c=this.getLabelForBarChartXAxis(t,i,n);for(const t of e.documentArray){const e=t.startTimestamp,i=t.endTimestamp;let n;0===a.length&&(n=n);let c="0",r="0",s="0",o="0";if(t.statusDetails.length>0)for(const a of t.statusDetails)"Failed"===a.status?s=a.numberOfExecutions.toString():"Broker"===a.status?r=a.numberOfExecutions.toString():"Retries Exceeded"===a.status?o=a.numberOfExecutions.toString():"In Doubt"===a.status&&(c=a.numberOfExecutions.toString());const l={Broker:r,BrokerOriginal:r,Failed:s,FailedOriginal:s,"Retries Exceeded":o,"Retries ExceededOriginal":o,"In Doubt":c,"In DoubtOriginal":c,startTime:this.dateTimeService.converUTCTimeStampToLocalJsDate(e),endTime:this.dateTimeService.converUTCTimeStampToLocalJsDate(i)};a.push(l)}for(let e=0;e<a.length;e++)r.push(a[e].brokerType),s.push(a[e].failed),o.push(a[e].inDoubt),l.push(a[e].retriesExceeded);const d=r.reduce((e,t)=>Math.max(e,t)),u=s.reduce((e,t)=>Math.max(e,t)),h=o.reduce((e,t)=>Math.max(e,t)),g=l.reduce((e,t)=>Math.max(e,t)),p=Math.max(d,u,h,g);if(p>0)for(let e=0;e<a.length;e++){if("0"!==a[e].brokerType){let t=Number(a[e].brokerType)/Number(p)*100;for(;t<6;)a[e].brokerType=(Number(a[e].brokerType)+1).toString(),t=Number(a[e].brokerType)/Number(p)*100}if("0"!==a[e].failed){let t=Number(a[e].failed)/Number(p)*100;for(;t<6;)a[e].failed=(Number(a[e].failed)+1).toString(),t=Number(a[e].failed)/Number(p)*100}if("0"!==a[e].inDoubt){let t=Number(a[e].inDoubt)/Number(p)*100;for(;t<6;)a[e].inDoubt=(Number(a[e].inDoubt)+1).toString(),t=Number(a[e].inDoubt)/Number(p)*100}if("0"!==a[e].retriesExceeded){let t=Number(a[e].retriesExceeded)/Number(p)*100;for(;t<6;)a[e].retriesExceeded=(Number(a[e].retriesExceeded)+1).toString(),t=Number(a[e].retriesExceeded)/Number(p)*100}}const f=new Map;return f.set("barData",a),f.set("barChartLabel",c),f.set("donutData",this.getDonutData(e)),f.set("columnKeyColorArray",this.getDocumentBarColumnKeyColorArray(e.totalInDoubt,e.totalBrokerDocs,e.totalFailed,e.totalRetriesExceeded)),f}throw new Error("Invalid response format for integration serivce execution chart")}getDonutData(e){return[{label:"Broker",displayLabel:"monitoring.documents.document.type.broker",value:e.totalBrokerDocs,color:r.COLOR_HEX.BROKER},{label:"Failed",displayLabel:"monitoring.services.service.status.failed",value:e.totalFailed,color:r.COLOR_HEX.FAILED},{label:"Retries Exceeded",displayLabel:"monitoring.documents.document.type.RetriesExceeded",value:e.totalRetriesExceeded,color:r.COLOR_HEX.RETRIES_EXCEEDED},{label:"In Doubt",displayLabel:"monitoring.documents.document.type.InDoubt",value:e.totalInDoubt,color:r.COLOR_HEX.INDOUBT}]}getDocumentBarColumnKeyColorArray(e,t,i,n){return[{key:"Broker",color:r.COLOR_HEX.BROKER,displayValue:"monitoring.documents.document.type.broker",count:t},{key:"Failed",color:r.COLOR_HEX.FAILED,displayValue:"monitoring.services.service.status.failed",count:i},{key:"Retries Exceeded",color:r.COLOR_HEX.RETRIES_EXCEEDED,displayValue:"monitoring.documents.document.type.RetriesExceeded",count:n},{key:"In Doubt",color:r.COLOR_HEX.INDOUBT,displayValue:"monitoring.documents.document.type.InDoubt",count:e}]}getLabelForBarChartXAxis(e,t,i){let n="";return e&&e<=24?n=this.translateService.instant(1===e?"common.chart.label.time.duration.hour":"common.chart.label.time.duration.hours",{value:e}):e&&48===e?n=this.translateService.instant("common.chart.label.time.duration.days",{value:e/24}):e&&e>48?n=this.translateService.instant(168===e?"common.chart.label.time.duration.week":"common.chart.label.time.duration.weeks",{value:e/168}):t&&i&&(n=this.translateService.instant("common.chart.label.time.duration.custom",{value1:this.dateTimeService.converUTCTimeStampToLocalDateFormatString(t),value2:this.dateTimeService.converUTCTimeStampToLocalDateFormatString(i)})),n}getMonitorStatus(){return this.http.get(this.documentsUrl+"/status")}resubmitDocument(e,t,i){const n=this.documentsUrl+"/document/"+encodeURIComponent(e)+"?action=resubmit&name="+encodeURIComponent(t);return this.http.post(n,i).pipe(Object(g.a)(this.handleResubmitError))}resubmitDocuments(e){let t=this.documentsUrl+"/document?action=resubmit";for(const i of e)t+="&docIDs[]="+encodeURIComponent(i);return this.http.post(t,{})}handleError(e="operation",t){return i=>(console.error(i),this.log(`${e} failed: ${i.message}`),Object(p.a)(t))}handleResubmitError(e){let t=null;return t=e instanceof Response?`${e.status} - ${e.statusText||""} ${e||""}`:e.message?e.message:e.toString(),console.error(t),Object(p.a)(t)}log(e){u.fb&&console.log(`DocumentApiService: ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(u.mc(o.b),u.mc(n.d),u.mc(r.DateTimeService))},e.\u0275prov=u.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var b=i("2Vo4");class v{constructor(e,t){this.serviceName=e,this.contextId=t}}class y{constructor(e,t){this.documentName=e,this.documentId=t}}let C=(()=>{class e{constructor(e){this.http=e,this.serviceInfoSource=new b.a(new v("","")),this.currentServiceInfo=this.serviceInfoSource.asObservable(),this.documentInfoSource=new b.a(new y("","")),this.currentDocumentInfo=this.documentInfoSource.asObservable(),this.servicesUrl="/admin/monitor"}getCurrentServiceInfo(){return this.currentServiceInfo}getCurrentDocumentInfo(){return this.currentDocumentInfo}setCurrentServiceInfo(e,t){this.serviceInfoSource.next(new v(e,t))}setCurrentDocumentInfo(e,t){this.documentInfoSource.next(new y(e,t))}getServiceSignature(e){return this.http.get(this.servicesUrl+"/service/"+e+"/input_signature").pipe(Object(g.a)(this.handleError("getServiceSignature")))}getServicePipeline(e){return this.http.get(this.servicesUrl+"/service/"+e+"/pipeline?jsonDateEncoding=long").pipe(Object(g.a)(this.handleError("getServicePipeline")))}getDocumentPipeline(e){return this.http.get(this.servicesUrl+"/document/"+e).pipe(Object(g.a)(this.handleError("getDocumentPipeline")))}getDocumentSignature(e){return this.http.get(this.servicesUrl+"/document/"+e+"/input_signature").pipe(Object(g.a)(this.handleError("getDocumentSignature")))}handleError(e="operation",t){return i=>(console.error(i),this.log(`${e} failed: ${i.message}`),Object(p.a)(t))}log(e){u.fb&&console.log(`ServiceApiService: ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(u.mc(o.b))},e.\u0275prov=u.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),S=(()=>{class e{constructor(e){this.http=e,this.navSource=new b.a(""),this.navLink=this.navSource.asObservable(),this.services="/monitoring/services",this.changeNavItem(this.services)}changeNavItem(e){this.navSource.next(e)}}return e.\u0275fac=function(t){return new(t||e)(u.mc(o.b))},e.\u0275prov=u.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var x=i("EApP"),T=i("GX/v"),L=i("YHJu"),w=i("hhfa"),I=i("LvDl");class M{constructor(e){this.document=e}}class O{constructor(e){this.inputPipeline=e}}const _={string:{dataTypeName:"string",bgColor:"#FEF6BE",icon:"str"},table:{dataTypeName:"table",bgColor:"#f4f456",icon:"tab"},record:{dataTypeName:"record",bgColor:"#C0FFE0",icon:"doc"},recref:{dataTypeName:"recref",bgColor:"#C9FBFE",icon:"ref"},object:{dataTypeName:"object",bgColor:"#FFCDD0",icon:"obj"},"java.lang.Short":{dataTypeName:"java.lang.Short",bgColor:"#FFFF00",icon:"16"},"java.lang.Integer":{dataTypeName:"java.lang.Integer",bgColor:"#dfaade",icon:"32"},"java.lang.Long":{dataTypeName:"java.lang.Long",bgColor:"#e8ce97",icon:"64"},"java.lang.Double":{dataTypeName:"java.lang.Double",bgColor:"#e8ce97",icon:"64"},"java.lang.Float":{dataTypeName:"java.lang.Float",bgColor:"#7bff69",icon:"32"},"java.lang.Boolean":{dataTypeName:"java.lang.Boolean",bgColor:"lightblue",icon:"bool"},"java.util.Date":{dataTypeName:"java.util.Date",bgColor:"lightblue",icon:"date"},"com.wm.util.XOPObject":{dataTypeName:"com.wm.util.XOPObject",bgColor:"#FFCDD0",icon:"obj"}},P={string:{dataTypeImage:"assets/images/service-input/string.svg",altText:"serviceinput.data.type.string"},table:{dataTypeImage:"assets/images/service-input/string-table.svg",altText:"serviceinput.data.type.string.table"},record:{dataTypeImage:"assets/images/service-input/document.svg",altText:"serviceinput.data.type.document"},recref:{dataTypeImage:"assets/images/service-input/document-reference.svg",altText:"serviceinput.data.type.document.reference"},object:{dataTypeImage:"assets/images/service-input/object.svg",altText:"serviceinput.data.type.object"},"java.lang.Short":{dataTypeImage:"assets/images/service-input/obj-integer-short.svg",altText:"serviceinput.data.type.short"},"java.lang.Integer":{dataTypeImage:"assets/images/service-input/obj-integer.svg",altText:"serviceinput.data.type.integer"},"java.lang.Long":{dataTypeImage:"assets/images/service-input/obj-integer-long.svg",altText:"serviceinput.data.type.long"},"java.lang.Double":{dataTypeImage:"assets/images/service-input/obj-double.svg",altText:"serviceinput.data.type.double"},"java.lang.Float":{dataTypeImage:"assets/images/service-input/obj-float.svg",altText:"serviceinput.data.type.float"},"java.lang.Boolean":{dataTypeImage:"assets/images/service-input/obj-boolean.svg",altText:"serviceinput.data.type.boolean"},"java.lang.Byte":{dataTypeImage:"assets/images/service-input/obj-byte.svg",altText:"serviceinput.data.type.byte"},"byte []":{dataTypeImage:"assets/images/service-input/obj-byte-array.svg",altText:"serviceinput.data.type.byte.array"},"java.lang.Character":{dataTypeImage:"assets/images/service-input/obj-character.svg",altText:"serviceinput.data.type.character"},"java.util.Date":{dataTypeImage:"assets/images/service-input/obj-date-time.svg",altText:"serviceinput.data.type.date"},"com.wm.util.XOPObject":{dataTypeImage:"assets/images/service-input/obj-integer-short.svg",altText:"com.wm.util.XOPObject"}},D={string:{dataTypeImage:"assets/images/service-input/string-list.svg",altText:"serviceinput.data.type.string.list"},record:{dataTypeImage:"assets/images/service-input/document-list.svg",altText:"serviceinput.data.type.document.list"},recref:{dataTypeImage:"assets/images/service-input/document-reference-list.svg",altText:"serviceinput.data.type.document.reference.list"},object:{dataTypeImage:"assets/images/service-input/object-list.svg",altText:"serviceinput.data.type.object.list"},"java.lang.Short":{dataTypeImage:"assets/images/service-input/obj-integer-short-list.svg",altText:"serviceinput.data.type.short.list"},"java.lang.Integer":{dataTypeImage:"assets/images/service-input/obj-integer-list.svg",altText:"serviceinput.data.type.integer.list"},"java.lang.Long":{dataTypeImage:"assets/images/service-input/obj-integer-long-list.svg",altText:"serviceinput.data.type.long.list"},"java.lang.Double":{dataTypeImage:"assets/images/service-input/obj-double-list.svg",altText:"serviceinput.data.type.double.list"},"java.lang.Float":{dataTypeImage:"assets/images/service-input/obj-float-list.svg",altText:"serviceinput.data.type.float.list"},"java.lang.Boolean":{dataTypeImage:"assets/images/service-input/obj-boolean-list.svg",altText:"serviceinput.data.type.boolean.list"},"java.lang.Byte":{dataTypeImage:"assets/images/service-input/obj-byte-list.svg",altText:"serviceinput.data.type.byte.list"},"java.lang.Character":{dataTypeImage:"assets/images/service-input/obj-character-list.svg",altText:"serviceinput.data.type.character.list"},"java.util.Date":{dataTypeImage:"assets/images/service-input/obj-date-time-list.svg",altText:"serviceinput.data.type.date.list"},"com.wm.util.XOPObject":{dataTypeImage:"assets/images/service-input/object-list.svg",altText:"com.wm.util.XOPObject.list"}};class A{static isString(e){return"string"==typeof e}static isNumber(e){return"number"==typeof e}static isInteger(e){return e%1==0}static isBoolean(e){return"boolean"==typeof e}static isPrimitiveType(e){return this.isString(e)||this.isNumber(e)||this.isBoolean(e)}static isObject(e){return"object"==typeof e}static isArray(e){return Array.isArray(e)}static getListWithKeys(e){return e?Object.keys(e):[]}static hasKeys(e){return Object.keys(e).length>0}static getFieldType(e){let t="object";return this.isString(e)?t="string":this.isNumber(e)?t=A.__handleNumbers(e):this.isBoolean(e)?t="java.lang.Boolean":this.isObject(e)&&(t=A.__handleObject(e)),t}static __handleObject(e){let t="record";return this.isArray(e)&&(t=A.__handleArray(e)),t}static __handleArray(e){let t="object";return e.length&&this.isArray(e[0])&&(e[0][0]&&e[0][0].fieldValue&&this.isArray(e[0][0].fieldValue)||this.isDocument(e[0])?t="record":e[0][0]&&e[0][0].fieldValue&&(t=this.getFieldType(e[0][0].fieldValue))),t}static __handleNumbers(e){let t="java.lang.Double";return this.isInteger(e)&&(t="java.lang.Integer"),t}static isDocument(e){let t=!1;if(Array.isArray(e)&&e.length>1){const i=e[0],n=e[1],a=i.fieldName?i.fieldName.split("[")[0]:void 0;t=!a||n.fieldName.split("[")[0]!==a}return t}static computeJSONTree(e,t){const i=[];return this.__getKeys(e).map((n,a)=>{const c={index:a,fieldName:void 0===t?n:`${t} [ ${n} ]`},r=e[n];r instanceof Array||r instanceof Object?this.__handleComplexTypes(r,n,c):this.__handleSimpleTypes(r,c),i.push(c)}),i}static __getKeys(e){let t;return e instanceof Object?t=Object.keys(e):e instanceof Array&&(t=e.values()),t}static __handleSimpleTypes(e,t){"string"!=typeof e&&"number"!=typeof e&&"boolean"!=typeof e||(t.fieldValue=e,t.hasChildren=!1)}static __handleComplexTypes(e,t,i){const n=[];n.push(this.computeJSONTree(e,e instanceof Array?t:void 0)),i.fieldValue=n,i.hasChildren=!0}static validateDouble(e,t){if(e){const i=t.instant("serviceinput.validate.double.error.msg");if(isNaN(e))return i;{const t=parseFloat(e);if(isNaN(t))return i}}return null}static validateFloat(e,t){if(e){const i=t.instant("serviceinput.validate.double.error.msg");if(isNaN(e))return i;{const t=parseFloat(e);if(isNaN(t))return i}}return null}static validateLong(e,t){if(e){I.isString(e)||(e+="");const i=t.instant("serviceinput.validate.long.error.msg");if(isNaN(e)||e.indexOf(".")>-1)return i;let n=e;const a=n.startsWith("-");a&&(n=n.substring(1));const c=n.length,r=parseInt(n.substring(0,n.length%10),10);if(isNaN(r))return i;const s=n.length%10;if(s<n.length){const e=parseInt(n.substring(s),10);if(isNaN(e))return i;if(!a&&(c>19||19===c&&(r>922337203||922337203===r&&e>6854775807)))return i;if(a&&(c>19||19===c&&(r>922337203||922337203===r&&e>6854775808)))return i}}return null}static validateInteger(e,t){if(e){I.isString(e)||(e+="");const i=t.instant("serviceinput.validate.integer.error.msg");if(isNaN(e)||e.indexOf(".")>-1)return i;{const t=parseInt(e,10);if(isNaN(t))return i;if(t>2147483647||t<-2147483648)return i}}return null}static validateShort(e,t){if(e){I.isString(e)||(e+="");const i=t.instant("serviceinput.validate.short.error.msg");if(isNaN(e)||e.indexOf(".")>-1)return i;{const t=parseInt(e,10);if(isNaN(t))return i;if(t>32767||t<-32768)return i}}return null}static validateCharacter(e,t){return e&&e.length>1?t.instant("serviceinput.validate.character.error.msg"):null}static validateByte(e,t,i){if(t){if(null==A.parseByteValue(t+""))return i.instant("serviceinput.validate.byte.error.msg");"0"===e.field_dim&&(e.value=+t)}return null}static parseByteValue(e){try{const t=e.indexOf("-");let i=0,n=0;if(0===t?(i=-1,e=e.substring(1)):t===e.length-1?(e=e.substring(0,e.length-1),i=-1):i=1,0===e.indexOf("0")&&1===e.indexOf("x")){const t=e.substring(2);if(!A.isHexadecimal(t))return null;n=parseInt(t,16)}else if(0===e.indexOf("/")||0===e.indexOf("\\"))if(1===e.indexOf("x")){const t=e.substring(2);if(!A.isHexadecimal(t))return null;n=parseInt(t,16)}else if(1===e.indexOf("o")){const t=e.substring(2);if(!A.isOctal(t))return null;n=parseInt(t,8)}else n=parseInt(e.substring(1));else n=parseInt(e,16);if(isNaN(n))return null;let a=n;return a*=i,a>=-128&&a<128?a:null}catch(t){return null}}static isHexadecimal(e){return!!/^[0-9a-fA-F]+$/.test(e)}static isOctal(e){return!!/^[0-7]+$/.test(e)}static specialByteFormat(e){let t="",i=!1;for(128==(128&e)?(t+=(0-e).toString(16).toUpperCase(),i=!0):t+=e.toString(16).toUpperCase();t.length<2;)t="0"+t;return t="0x"+t,i&&(t="-"+t),t}static validateDate(e,t){if(e){const n=t.instant("serviceinput.validate.date.error.msg");if((e.length>0||e.toString().length>0)&&!this.isNumeric(e))try{const t=Date.parse(e);if(isNaN(t))return n}catch(i){return n}}return null}static getValueBasedOnDataType(e,t){let i=null;if("object"===e.field_type)if("java.lang.Boolean"===e.wrapper_type){i=null;let e=null;t.value?e=t.value:t.originalEvent&&t.originalEvent.value?e=t.originalEvent.value:t.target.textContent&&t.target.textContent.length>0&&"empty"!==t.target.textContent&&(e=t.target.textContent),i=!0===e||!1===e?String(e):e}else"java.util.Date"===e.wrapper_type?t.picker&&t.picker.startDate&&t.picker.startDate._d&&(i=Date.parse(t.picker.startDate._d)):"java.lang.Byte"===e.wrapper_type?t.target&&t.target.value&&(i=A.parseByteValue(t.target.value)):"java.lang.Short"===e.wrapper_type||"java.lang.Long"===e.wrapper_type||"java.lang.Integer"===e.wrapper_type?t.target&&t.target.value&&(i=parseInt(t.target.value,10)):"java.lang.Double"!==e.wrapper_type&&"java.lang.Float"!==e.wrapper_type||(i=t.target.value.toUpperCase().indexOf("E")>-1?Number(t.target.value):parseFloat(t.target.value));return null!=i&&0!==i.length||(t.target&&t.target.value?i=t.target.value:t.data?i=t.data:t.value?i=t.value:t.originalEvent&&t.originalEven.value&&(t=t.originalEvent.value)),i}static isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)}static isNodeBoolean(e){return"java.lang.Boolean"===e.wrapper_type}static isNodeNumeric(e){return"java.lang.Short"===e.wrapper_type||"java.lang.Integer"===e.wrapper_type||"java.lang.Long"===e.wrapper_type||"java.lang.Double"===e.wrapper_type||"java.lang.Float"===e.wrapper_type}static isNodeDate(e){return"java.util.Date"===e.wrapper_type}}let R=(()=>{class e{static createPath(e,t){if(null==e)return"";let i=e.parentNode;if(null==i)return"";if(e===i)return"";"recref"===e.field_type&&"recref"===i.field_type&&"1"===i.field_dim&&(i=i.parentNode);let n="";if(i.path&&(n+=this.createPath(i,-1)),e.path)return e.path;n+=this.SEPARATOR_PATH,n+=this.encodePathName(e.field_name);const a=this.getPosition(e);return a>=0&&(n+=this.SEPARATOR_LPBRACKET,n+=a,n+=this.SEPARATOR_RPBRACKET),t>-1&&("recref"===i.field_type&&i.parentNode&&"1"===i.parentNode.field_dim||(n+=this.SEPARATOR_LBRACKET,n+=t,n+=this.SEPARATOR_RBRACKET)),n+=this.SEPARATOR_TYPE,n+=e.field_type,null!=e.wrapper_type&&0!==e.wrapper_type&&(n+=this.SEPARATOR_SUBTYPE,n+=e.wrapper_type),n+=this.SEPARATOR_TYPE,n+=e.field_dim,"recref"===e.field_type&&e.rec_ref&&(n+=this.SEPARATOR_TYPE,n+=e.rec_ref),e.level||(e.level=(n.match(/\//g)||[]).length),n}static encodePathName(e){return this.containsSep(e)?this.FIELDNAME_ENCODECHAR+this.checkForQuotes(e)+this.FIELDNAME_ENCODECHAR:e}static containsSep(e){if(null==e)return!1;const t=this.SEPARATOR_PATH+this.SEPARATOR_TYPE+this.SEPARATOR_LBRACKET+this.SEPARATOR_RBRACKET+this.SEPARATOR_LPBRACKET+this.SEPARATOR_RPBRACKET+this.FIELDNAME_ENCODECHAR;for(let i=0;i<t.length;i++)if(e.indexOf(t.charAt(i))>=0)return!0;return!1}static checkForQuotes(e){let t="",i=0,n=0;for(;i>=0;)i=e.indexOf(this.FIELDNAME_ENCODECHAR.charAt(0),n),i>=0&&(t+=e.substring(n,i),t+="\\\\"+this.FIELDNAME_ENCODECHAR,n=i+1);return t+=e.substring(n),t.toString()}static getPosition(e){if(null==parent)return-1;const t=this.getFieldsByName(e.parentNode,e.field_name);if(null==t||t.length<1)return-1;for(let i=0;i<t.length;i++)if(e.uid===t[i].uid)return i;return-1}static getFieldsByName(e,t){const i=new Array;if(e&&e.rec_fields&&e.rec_fields.length>0)for(const n of e.rec_fields)n.field_name===t&&i.push(n);return i}static getKeyFromPath(e,t){const i=e.path.split("/");let n="",a=0;if(e.parentNode&&e.parentNode.valueKey&&(e.parentNode.valueKey.endsWith(this.SEPARATOR_RBRACKET)&&(n=e.parentNode.valueKey+".",a=i.length-1),e.parentNode.valueKey.indexOf(".")>-1)){n=e.parentNode.valueKey;const t="."+e.field_name;n.endsWith(t)&&("recref"!==e.field_type&&"record"!==e.field_type||"1"===e.parentNode.field_dim)?n=n.substring(0,n.lastIndexOf(t))+".":n+=".",a=i.length-1}if(i&&i.length>0)for(let c=a;c<i.length;c++){const a=i[c].split(";");if(a&&a.length>2){if("record.IData"===a[1]||"recref.IData"===a[1]||"record"===a[1]||"recref"===a[1])a[0].indexOf(this.SEPARATOR_RPBRACKET)>0?n+=a[0].substring(0,a[0].lastIndexOf(this.SEPARATOR_LPBRACKET))+a[0].substring(a[0].indexOf(this.SEPARATOR_RPBRACKET)+1):n+=a[0],"recref"===e.field_type&&e.parentNode&&"recref"===e.parentNode.field_type&&"1"===e.parentNode.field_dim||t>-1&&(n+=this.SEPARATOR_LBRACKET+t+this.SEPARATOR_RBRACKET);else if("string"===a[1]||a[1].startsWith("object")){const e=a[0].indexOf(this.SEPARATOR_LBRACKET),t=a[0].indexOf(this.SEPARATOR_RBRACKET),i=a[0].indexOf(this.SEPARATOR_LPBRACKET),c=a[0].indexOf(this.SEPARATOR_RPBRACKET);let r="";i>-1&&c>i?(r=a[0].substring(i,c+1),"(0)"===r?n+=a[0].substring(0,i):r=""):e>-1&&t>e&&(r=a[0].substring(e,t+1),n+=a[0].substring(0,e)),0===r.length&&(n+=a[0])}if(c===i.length-2&&"0"===e.field_dim&&e.parentNode&&"1"===e.parentNode.field_dim&&("record"===e.field_type||"recref"===e.field_type))break;c<i.length-1&&(n+=".")}}return n}}return e.SEPARATOR_PATH="/",e.SEPARATOR_TYPE=";",e.SEPARATOR_SUBTYPE=".",e.SEPARATOR_LBRACKET="[",e.SEPARATOR_RBRACKET="]",e.SEPARATOR_LPBRACKET="(",e.SEPARATOR_RPBRACKET=")",e.FIELDNAME_ENCODECHAR='"',e.VARSUBST_CHAR="%",e})();var k=i("7Cbv");let E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=u.Ub({type:e,selectors:[["","treeNode",""]]}),e})();const F=["treeNode"];function B(e,t){if(1&e){const e=u.gc();u.fc(0,"button",12),u.pc("keydown.arrowright",function(t){u.Rc(e);const i=u.tc(3).$implicit;return u.tc(2).expandNode(i,t)})("click",function(t){u.Rc(e);const i=u.tc(3).$implicit;return u.tc(2).expandNode(i,t)}),u.uc(1,"translate"),u.uc(2,"translate"),u.ac(3,"i",13),u.ec()}if(2&e){const e=u.tc(3).$implicit;u.Cc("id","expandTreeNode_",e.path,""),u.Bc("pTooltip",u.vc(1,3,"common.expand")),u.Mb("aria-label",u.vc(2,5,"common.expand"))}}function N(e,t){if(1&e){const e=u.gc();u.fc(0,"button",14),u.pc("keydown.arrowleft",function(t){u.Rc(e);const i=u.tc(3).$implicit;return u.tc(2).collapseNode(i,t)})("click",function(t){u.Rc(e);const i=u.tc(3).$implicit;return u.tc(2).collapseNode(i,t)}),u.uc(1,"translate"),u.uc(2,"translate"),u.ac(3,"i",15),u.ec()}if(2&e){const e=u.tc(3).$implicit;u.Cc("id","collapseTreeNode_",e.path,""),u.Bc("pTooltip",u.vc(1,3,"common.collapse")),u.Mb("aria-label",u.vc(2,5,"common.collapse"))}}function H(e,t){if(1&e&&(u.fc(0,"span"),u.Zc(1,B,4,7,"button",10),u.Zc(2,N,4,7,"button",11),u.ec()),2&e){const e=u.tc(2).$implicit;u.Lb(1),u.Ac("ngIf",e&&e.state&&!e.state.open),u.Lb(1),u.Ac("ngIf",e&&e.state&&e.state.open)}}function V(e,t){if(1&e&&(u.dc(0),u.ac(1,"img",16),u.cc()),2&e){const e=u.tc(2).$implicit,t=u.tc(2);u.Lb(1),u.Ac("src",t.getImage(e),u.Uc)("alt",t.getAltText(e))}}function Z(e,t){1&e&&u.bc(0)}function j(e,t){1&e&&u.bc(0)}const z=function(e){return{$implicit:e}};function U(e,t){if(1&e&&(u.dc(0),u.Zc(1,j,1,0,"ng-container",3),u.cc()),2&e){const e=u.tc(2).$implicit,t=u.tc(2),i=u.Pc(3);u.Lb(1),u.Ac("ngTemplateOutlet",i)("ngTemplateOutletContext",u.Gc(2,z,t.getChildNodes(e)))}}const $=function(e,t,i){return{"tree-node-selected":e,"tree-branch":t,"index-border":i}},Q=function(e){return{showBorder:e}};function K(e,t){if(1&e){const e=u.gc();u.fc(0,"div",6),u.pc("click",function(t){u.Rc(e);const i=u.tc().$implicit;return u.tc(2).selectNode(t,i)}),u.fc(1,"div",7),u.Zc(2,H,3,2,"span",8),u.ec(),u.Zc(3,V,2,2,"ng-container",8),u.fc(4,"div",9),u.Zc(5,Z,1,0,"ng-container",3),u.ec(),u.Zc(6,U,2,4,"ng-container",8),u.ec()}if(2&e){const e=u.tc().$implicit,t=u.tc(2);u.Ac("ngClass",u.Ic(9,$,t.selectedNode&&t.selectedNode.id===e.id,t.showBranch,e&&e.state&&e.state.open)),u.Mb("aria-expanded",e.expanded)("id",e.id?e.id:null),u.Lb(2),u.Ac("ngIf",e&&t.hasChildren(e)),u.Lb(1),u.Ac("ngIf",t.getFieldType),u.Lb(1),u.Ac("ngClass",u.Gc(13,Q,e.state.open&&t.getChildNodes(e)&&t.getChildNodes(e).length>0)),u.Lb(1),u.Ac("ngTemplateOutlet",t.treeNodeTemplate)("ngTemplateOutletContext",u.Gc(15,z,e)),u.Lb(1),u.Ac("ngIf",e&&e.state&&e.state.open)}}function W(e,t){if(1&e&&(u.dc(0),u.Zc(1,K,7,17,"div",5),u.cc()),2&e){const e=t.$implicit,i=u.tc(2);u.Lb(1),u.Ac("ngIf",i.getNodeVisibility(e))}}function q(e,t){1&e&&u.Zc(0,W,2,1,"ng-container",4),2&e&&u.Ac("ngForOf",t.$implicit)}function X(e,t){1&e&&u.bc(0)}const J=function(e,t){return{height:e,width:t,overflow:"hidden","padding-left":"2px"}},G=function(e){return{"compact-view":e}};let Y=(()=>{class e{constructor(e,t,i){this.cd=e,this.translate=t,this.sharedMessageService=i,this.childKey="children",this.enableCompactView=!0,this.nodeExpanded=new u.p,this.allNodeExpanded=new u.p,this.nodeCollapsed=new u.p,this.nodeSelected=new u.p,this.afterViewInit=new u.p,this.nodeCollapseStart=new u.p,this.changesEvent=new u.p,this.filterNodesEvent=new u.p,this.compactView=!0,this.treeData=[],this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})}ngOnInit(){this.treeData=this.input,this._setState(this.treeData,null,!1)}ngAfterViewInit(){this.afterViewInit.emit(this),setTimeout(()=>{this.cd.detectChanges()},300)}_setState(e,t,i){e.forEach((e,n)=>{e.state=i?{open:!1}:e.state?e.state:{open:!1},e.index=n,e.parentIndex=t})}ngOnChanges(e){e.input&&(this.treeData=e.input.currentValue,this._setState(this.treeData,null,!1)),this.changesEvent.emit(this)}__getNodeIndex(e){return this.treeData.indexOf(e.id)}expandNode(e,t,i){if(t&&t.stopPropagation(),!e)return null;e.state=e.state?e.state:{},e.state.open=!0,this.nodeExpanded&&(!0===i||setTimeout(()=>{this.nodeExpanded.emit(e);const t=document.getElementById("collapseTreeNode_"+e.path);t&&t.focus()},100))}getChildNodes(e){const t=this.getChildren(e);return this._setState(t,e.index,!1),t}collapseNode(e,t){if(this.nodeCollapseStart&&this.nodeCollapseStart.emit(e),t&&t.stopPropagation(),!e)return null;e.state.open=!1,this.nodeCollapsed&&setTimeout(()=>{this.nodeCollapsed.emit(e);const t=document.getElementById("expandTreeNode_"+e.path);t&&t.focus()},100)}selectNode(e,t){this.selectedNode=t,this.nodeSelected&&this.nodeSelected.emit(t)}toggleNode(e){e.state.open?this.collapseNode(e):this.expandNode(e)}focusHandler(e,t,i){0===i&&(this.selectedNode=t)}enterKeyHandler(e,t,i){t.state.open?this.collapseNode(t,e):this.expandNode(t,e)}getIcon(e){let t="";if(this.getFieldType){const i=this.getFieldType(e);t=_[i]?_[i].icon:""}return t}getIconBackground(e){let t="";if(this.getFieldType){const i=this.getFieldType(e);t=_[i]?_[i].bgColor:""}return t}getImage(e){let t="";if(this.getFieldType){const i=this.getFieldType(e);t=this.isList(e)?D[i]?D[i].dataTypeImage:"":P[i]?P[i].dataTypeImage:""}return t}getAltText(e){let t="serviceinput.data.type.unknown";if(this.getFieldType){const i=this.getFieldType(e);t=this.isList(e)?D[i]?D[i].altText:"":P[i]?P[i].altText:""}return this.translate.instant(t)}expandAll(e,t){this.__expandedNodes(this.treeData,e,t),this.cd.detectChanges(),this.allNodeExpanded&&setTimeout(()=>{this.allNodeExpanded.emit()},100)}expandToLevel(e,t){this.__expandedNodes(this.treeData,t,null,e),this.cd.detectChanges()}__expandedNodes(e,t,i,n){let a=!1,c=null;e.forEach(e=>{t?e[t]&&(a=!0,c=e[t]):(a=this.hasChildren(e),c=this.getChildNodes(e)),a&&(!n||n&&n>e.index?(this.expandNode(e,!1,i),this.__expandedNodes(c,t,i,n)):this.collapseNode(e))})}setData(e){this.treeData=e,this._setState(this.treeData,null,!1),this.cd.detectChanges()}filterNodes(e,t,i,n){this.searchText=e,this.searchKey=t,this.childKey=i,this.secondarySearchKey=n,this.cd.detectChanges(),this.filterNodesEvent.emit()}_filterData(e,t,i,n,a){return e.filter(e=>(e[n]&&(e[n]=this._filterData(e[n],t,i,n,a),e.state={open:!0},e[n].length>0&&this._updateNodeState(this.treeData,e,n)),a?e[i].toLowerCase().includes(t.toLowerCase())||e[a].toLowerCase().includes(t.toLowerCase())||e[n]&&e[n].length>0:e[i].toLowerCase().includes(t.toLowerCase())||e[n]&&e[n].length>0))}_updateNodeState(e,t,i){const n=I.find(e,{field_name:t.field_name});n&&(n.state={open:!0},t[i].length>0&&t[i].forEach(e=>{if(e[i]){const t=I.find(n[i],{field_name:e.field_name});t&&(t.state={open:!0})}}))}getNodeVisibility(e){const t=this.searchText,i=this.childKey,n=this.searchKey;let a=I.cloneDeep(e[i]),c=!0;return this.isNodeVisible&&(c=this.isNodeVisible(e)),this.searchText&&c?(a&&Array.isArray(a)&&(a=this._filterData(a,t,n,i,this.secondarySearchKey),e.state={open:!0}),e[n].toLowerCase().includes(t.toLowerCase())||a&&a.length>0):c}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(u.h),u.Zb(n.d),u.Zb(h.A))},e.\u0275cmp=u.Tb({type:e,selectors:[["svc-tree"]],contentQueries:function(e,t,i){if(1&e&&u.Sb(i,u.T,1),2&e){let e;u.Oc(e=u.qc())&&(t.treeNodeTemplate=e.first)}},viewQuery:function(e,t){if(1&e&&u.hd(F,1),2&e){let e;u.Oc(e=u.qc())&&(t.treeNode=e.first)}},inputs:{input:"input",height:"height",hasChildren:"hasChildren",getChildren:"getChildren",getNodeId:"getNodeId",getFieldType:"getFieldType",isList:"isList",isNodeVisible:"isNodeVisible",showBranch:"showBranch",showBorder:"showBorder",width:"width",selectedNode:"selectedNode",childKey:"childKey",enableCompactView:"enableCompactView"},outputs:{nodeExpanded:"nodeExpanded",allNodeExpanded:"allNodeExpanded",nodeCollapsed:"nodeCollapsed",nodeSelected:"nodeSelected",afterViewInit:"afterViewInit",nodeCollapseStart:"nodeCollapseStart",changesEvent:"changesEvent",filterNodesEvent:"filterNodesEvent"},features:[u.Jb],decls:5,vars:11,consts:[[1,"tree",3,"ngStyle","ngClass"],["treeNode",""],["recursiveList",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],["class","tree-node",3,"ngClass","click",4,"ngIf"],[1,"tree-node",3,"ngClass","click"],[1,"tree-icon-container"],[4,"ngIf"],[1,"tree-context",3,"ngClass"],["tabIndex","0","type","button","pButton","","class","dlt-button dlt-button-icon btn-1tree","showDelay","250",3,"id","pTooltip","keydown.arrowright","click",4,"ngIf"],["tabIndex","0","type","button","pButton","","class","dlt-button dlt-button-icon btn-1tree","showDelay","250",3,"id","pTooltip","keydown.arrowleft","click",4,"ngIf"],["tabIndex","0","type","button","pButton","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1tree",3,"id","pTooltip","keydown.arrowright","click"],[1,"dlt-icon-caret-right","dlg-icon-btn","dlt-icon"],["tabIndex","0","type","button","pButton","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1tree",3,"id","pTooltip","keydown.arrowleft","click"],[1,"dlt-icon-caret-down","dlg-icon-btn","dlt-icon"],["tabindex","-1",1,"type-icon",3,"src","alt"]],template:function(e,t){if(1&e&&(u.fc(0,"div",0,1),u.Zc(2,q,1,1,"ng-template",null,2,u.ad),u.Zc(4,X,1,0,"ng-container",3),u.ec()),2&e){const e=u.Pc(3);u.Ac("ngStyle",u.Hc(4,J,t.height,t.width))("ngClass",u.Gc(7,G,t.enableCompactView&&t.compactView)),u.Lb(4),u.Ac("ngTemplateOutlet",e)("ngTemplateOutletContext",u.Gc(9,z,t.treeData))}},directives:[s.o,s.l,s.s,s.m,s.n,T.a],pipes:[n.c],styles:['.tree[_ngcontent-%COMP%]{overflow:auto;position:relative}.tree-node[_ngcontent-%COMP%]{outline:0;padding-bottom:4px;white-space:nowrap}.tree-node[_ngcontent-%COMP%]   .tree-node[_ngcontent-%COMP%]{margin:0 1rem}.tree-branch[_ngcontent-%COMP%]{border-left:1px solid #e5e5e4;position:relative;margin:0 .5rem;padding-left:0}.tree-branch[_ngcontent-%COMP%]   .tree-branch[_ngcontent-%COMP%]{margin:0 0 0 1.88rem}.tree-branch[_ngcontent-%COMP%]   .tree-icon-container[_ngcontent-%COMP%]{margin-left:-8px;position:absolute;left:0;padding:11px 4px 0 0;color:#a5a4a4}.tree-branch[_ngcontent-%COMP%]   .tree-icon-container[_ngcontent-%COMP%]   .tree-icon[_ngcontent-%COMP%]:before{background:#fff}.tree-branch[_ngcontent-%COMP%]:before{position:relative;top:-.2rem;height:1.6rem;width:1.2rem;color:#fff;border-bottom:1px solid #e5e5e4;border-top:0 transparent;border-right:0 transparent;border-radius:0 0 0 8px;content:"";display:inline-block;left:-1px;vertical-align:top}.tree-branch[_ngcontent-%COMP%]:first-child:before{border-left:1px solid #fff!important;border-radius:0}.tree-branch[_ngcontent-%COMP%]:last-child{border-left:1px solid transparent;padding-bottom:0}.tree-branch[_ngcontent-%COMP%]:last-child:before{border-left:1px solid #e5e5e4}.tree-branch[_ngcontent-%COMP%]:last-child   .type-icon[_ngcontent-%COMP%]{margin-left:1px}.tree-context[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-bottom;padding-top:10px}.tree-icon-container[_ngcontent-%COMP%]{width:.8rem;color:#1776bf}.tree-icon-container[_ngcontent-%COMP%], .type-icon[_ngcontent-%COMP%]{display:inline-block;padding:0;vertical-align:top}.type-icon[_ngcontent-%COMP%]{border-radius:0 6px 6px 0;margin-top:12px;margin-right:13px;min-width:16px;text-align:center;font-family:Roboto,Helvetica,Arial,sans-serif;font-size:12px;color:#686868}.tree-icon[_ngcontent-%COMP%]{cursor:pointer}button.btn-1tree[_ngcontent-%COMP%]{margin-top:-8px;margin-left:-3px;margin-right:0;font-size:1.25rem;font-weight:400;vertical-align:middle;background-color:transparent;border-color:transparent;background-repeat:no-repeat;-webkit-box-shadow:none;-moz-box-shadow:none;width:22px;height:22px}',".tree.compact-view[_ngcontent-%COMP%]{padding-left:3px}.tree.compact-view[_ngcontent-%COMP%]   .tree-node[_ngcontent-%COMP%]{padding-bottom:0}.tree.compact-view[_ngcontent-%COMP%]   .tree-branch[_ngcontent-%COMP%]   .tree-icon-container[_ngcontent-%COMP%]{padding:5px 4px 0 0}.tree.compact-view[_ngcontent-%COMP%]   .tree-branch[_ngcontent-%COMP%]:before{height:1.15rem}.tree.compact-view[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{margin-top:5px}.tree.compact-view[_ngcontent-%COMP%]   .tree-context[_ngcontent-%COMP%]{padding-top:3px}"],changeDetection:0}),e})();var ee=i("y1st"),te=i("s7LF");const ie=["inputRef"];function ne(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"textarea",8,9),u.pc("change",function(t){u.Rc(e);const i=u.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return u.Rc(e),u.tc(2).blurHandler(t)}),u.uc(3,"translate"),u.bd(4,"        "),u.ec(),u.cc()}if(2&e){const e=u.tc(2);u.Lb(1),u.Bc("cols",e.numCols),u.Bc("placeholder",u.vc(3,4,"serviceinput.enter.value.placeholder")),u.Cc("id","dataValue_",e.node.path,""),u.Ac("value",e.value?e.value:"")}}function ae(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"input",10,9),u.pc("change",function(t){u.Rc(e);const i=u.tc(3);return i.inputChangeHandler(t,i.node)})("blur",function(t){return u.Rc(e),u.tc(3).blurHandler(t)}),u.uc(3,"translate"),u.ec(),u.cc()}if(2&e){const e=u.tc(3);u.Lb(1),u.Bc("placeholder",u.vc(3,3,"serviceinput.enter.value.placeholder")),u.Cc("id","dataValue_",e.node.path,""),u.Ac("value",e.value?e.value:"")}}function ce(e,t){if(1&e&&u.Zc(0,ae,4,5,"ng-container",4),2&e){u.tc();const e=u.Pc(7),t=u.tc();u.Ac("ngIf",t.node.node_hints&&"true"===t.node.node_hints.field_password)("ngIfElse",e)}}function re(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"p-dropdown",11,9),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc(3).picklistVal=t})("onChange",function(t){u.Rc(e);const i=u.tc(3);return i.inputChangeHandler(t,i.node)})("onBlur",function(t){return u.Rc(e),u.tc(3).blurHandler(t)}),u.uc(3,"translate"),u.ec(),u.cc()}if(2&e){const e=u.tc(3);u.Lb(1),u.Bc("placeholder",u.vc(3,9,"serviceinput.select.value.placeholder")),u.Cc("id","pickListVal_",e.node.path,""),u.Cc("inputId","dataValue_",e.node.path,""),u.Ac("options",e.pickListItems)("ngModel",e.picklistVal)("editable",e.node.node_hints&&"true"==e.node.node_hints.field_usereditable)("virtualScroll",!0)("autoZIndex",!0)("showClear",!0)}}function se(e,t){if(1&e&&u.Zc(0,re,4,11,"ng-container",4),2&e){u.tc();const e=u.Pc(9),t=u.tc();u.Ac("ngIf",t.pickListItems&&t.pickListItems.length>0&&t.node.field_options&&t.node.field_options.length>0)("ngIfElse",e)}}function oe(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"textarea",12,9),u.pc("change",function(t){u.Rc(e);const i=u.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return u.Rc(e),u.tc(2).blurHandler(t)}),u.uc(3,"translate"),u.bd(4,"          "),u.ec(),u.cc()}if(2&e){const e=u.tc(2);u.Lb(1),u.Bc("cols",e.numCols),u.Bc("placeholder",u.vc(3,4,"serviceinput.enter.value.placeholder")),u.Cc("id","dataValue_",e.node.path,""),u.Ac("value",e.value?e.value:"")}}function le(e,t){if(1&e&&(u.dc(0),u.fc(1,"div",2,3),u.Zc(3,ne,5,6,"ng-container",4),u.Zc(4,ce,1,2,"ng-template",null,5,u.ad),u.Zc(6,se,1,2,"ng-template",null,6,u.ad),u.Zc(8,oe,5,6,"ng-template",null,7,u.ad),u.ec(),u.cc()),2&e){const e=u.Pc(5),t=u.tc();u.Lb(3),u.Ac("ngIf",t.node.node_hints&&"true"===t.node.node_hints.field_largerEditor)("ngIfElse",e)}}function de(e,t){if(1&e){const e=u.gc();u.fc(0,"input",22,9),u.pc("keypress",function(t){return u.Rc(e),u.tc(2).keyPressForInteger(t)})("input",function(t){u.Rc(e);const i=u.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return u.Rc(e),u.tc(2).blurHandler(t)}),u.uc(2,"translate"),u.ec()}if(2&e){const e=u.tc(2);u.Bc("placeholder",u.vc(2,3,"serviceinput.enter.value.placeholder")),u.Cc("id","dataValue_",e.node.path,""),u.Ac("value",e.value?e.value:"")}}function ue(e,t){if(1&e){const e=u.gc();u.fc(0,"input",23,9),u.pc("keypress",function(t){return u.Rc(e),u.tc(2).keyPressForFloat(t)})("input",function(t){u.Rc(e);const i=u.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return u.Rc(e),u.tc(2).blurHandler(t)}),u.uc(2,"translate"),u.ec()}if(2&e){const e=u.tc(2);u.Bc("placeholder",u.vc(2,3,"serviceinput.enter.value.placeholder")),u.Cc("id","dataValue_",e.node.path,""),u.Ac("value",e.value?e.value:"")}}function he(e,t){if(1&e){const e=u.gc();u.fc(0,"input",23,9),u.pc("keypress",function(t){return u.Rc(e),u.tc(2).keyPressForFloat(t)})("input",function(t){u.Rc(e);const i=u.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return u.Rc(e),u.tc(2).blurHandler(t)}),u.uc(2,"translate"),u.ec()}if(2&e){const e=u.tc(2);u.Bc("placeholder",u.vc(2,3,"serviceinput.enter.value.placeholder")),u.Cc("id","dataValue_",e.node.path,""),u.Ac("value",e.value?e.value:"")}}function ge(e,t){if(1&e){const e=u.gc();u.fc(0,"input",24,9),u.pc("keypress",function(t){return u.Rc(e),u.tc(2).keyPressForInteger(t)})("input",function(t){u.Rc(e);const i=u.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return u.Rc(e),u.tc(2).blurHandler(t)}),u.uc(2,"translate"),u.ec()}if(2&e){const e=u.tc(2);u.Bc("placeholder",u.vc(2,3,"serviceinput.enter.value.placeholder")),u.Cc("id","dataValue_",e.node.path,""),u.Ac("value",e.value?e.value:"")}}function pe(e,t){if(1&e){const e=u.gc();u.fc(0,"input",25,9),u.pc("keypress",function(t){return u.Rc(e),u.tc(2).keyPressForInteger(t)})("input",function(t){u.Rc(e);const i=u.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return u.Rc(e),u.tc(2).blurHandler(t)}),u.uc(2,"translate"),u.ec()}if(2&e){const e=u.tc(2);u.Bc("placeholder",u.vc(2,3,"serviceinput.enter.value.placeholder")),u.Cc("id","dataValue_",e.node.path,""),u.Ac("value",e.value?e.value:"")}}function fe(e,t){if(1&e){const e=u.gc();u.fc(0,"input",26,9),u.pc("change",function(t){u.Rc(e);const i=u.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return u.Rc(e),u.tc(2).blurHandler(t)}),u.uc(2,"translate"),u.ec()}if(2&e){const e=u.tc(2);u.Bc("placeholder",u.vc(2,3,"serviceinput.enter.value.placeholder")),u.Cc("id","dataValue_",e.node.path,""),u.Ac("value",e.value?e.value:"")}}function me(e,t){if(1&e){const e=u.gc();u.fc(0,"input",27,9),u.pc("change",function(t){u.Rc(e);const i=u.tc(2);return i.inputChangeHandler(t,i.node)})("blur",function(t){return u.Rc(e),u.tc(2).blurHandler(t)}),u.uc(2,"translate"),u.ec()}if(2&e){const e=u.tc(2);u.Bc("placeholder",u.vc(2,3,"serviceinput.enter.value.placeholder")),u.Cc("id","dataValue_",e.node.path,""),u.Ac("value",e.byteVal?e.byteVal:"")}}function be(e,t){if(1&e&&u.ac(0,"input",28,9),2&e){const e=u.tc(2);u.Cc("id","dataValue_",e.node.path,""),u.Ac("value",e.value?e.value:"")}}function ve(e,t){if(1&e){const e=u.gc();u.fc(0,"div",29),u.fc(1,"p-dropdown",30,9),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc(2).booleanVal=t})("onChange",function(t){u.Rc(e);const i=u.tc(2);return i.inputChangeHandler(t,i.node)}),u.uc(3,"translate"),u.ec(),u.ec()}if(2&e){const e=u.tc(2);u.Lb(1),u.Bc("placeholder",u.vc(3,8,"serviceinput.select.value.placeholder")),u.Cc("id","booleanVal_",e.node.path,""),u.Cc("inputId","dataValue_",e.node.path,""),u.Ac("options",e.booleanVals)("ngModel",e.booleanVal)("editable",!1)("autoZIndex",!0)("showClear",!0)}}function ye(e,t){if(1&e&&(u.dc(0),u.bd(1),u.uc(2,"preferredDateTime"),u.cc()),2&e){const e=u.tc(3);u.Lb(1),u.dd(" ",u.xc(2,1,e.dateDVal,e.preferencesService,e.dateTimePreferenceService)," ")}}function Ce(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"div",31),u.Zc(2,ye,3,5,"ng-container",32),u.ec(),u.fc(3,"button",33),u.pc("showDaterangepicker",function(t){return u.Rc(e),u.tc(2).showDaterangepicker(t)})("applyDaterangepicker",function(t){u.Rc(e);const i=u.tc(2);return i.inputChangeHandler(t,i.node)})("change",function(t){u.Rc(e);const i=u.tc(2);return i.changeDaterangepicker(t,i.node)}),u.uc(4,"translate"),u.uc(5,"translate"),u.ac(6,"i",34),u.ec(),u.fc(7,"button",35),u.pc("click",function(t){u.Rc(e);const i=u.tc(2);return i.clearDateVal(t,i.node)}),u.uc(8,"translate"),u.uc(9,"translate"),u.ac(10,"i",36),u.ec(),u.cc()}if(2&e){const e=u.tc(2);u.Lb(2),u.Ac("ngIf",e.dateDVal),u.Lb(1),u.Cc("id","svcInputCalendar_",e.node.path,""),u.Bc("pTooltip",u.vc(4,9,"serviceinput.date.selection.button")),u.Bc("value",e.dateDVal),u.Ac("options",e.dateOptions),u.Mb("aria-label",u.vc(5,11,"serviceinput.date.selection.button")),u.Lb(4),u.Cc("id","clearCalendarDate_",e.node.path,""),u.Bc("pTooltip",u.vc(8,13,"serviceinput.date.clear.button")),u.Mb("aria-label",u.vc(9,15,"serviceinput.date.clear.button"))}}function Se(e,t){if(1&e&&(u.dc(0),u.fc(1,"div",13),u.Zc(2,de,3,5,"input",14),u.Zc(3,ue,3,5,"input",15),u.Zc(4,he,3,5,"input",15),u.Zc(5,ge,3,5,"input",16),u.Zc(6,pe,3,5,"input",17),u.Zc(7,fe,3,5,"input",18),u.Zc(8,me,3,5,"input",19),u.Zc(9,be,2,2,"input",20),u.Zc(10,ve,4,10,"div",21),u.Zc(11,Ce,11,17,"ng-container",1),u.ec(),u.cc()),2&e){const e=u.tc();u.Lb(1),u.Ac("ngSwitch",e.node.wrapper_type),u.Lb(1),u.Ac("ngSwitchCase","java.lang.Integer"),u.Lb(1),u.Ac("ngSwitchCase","java.lang.Float"),u.Lb(1),u.Ac("ngSwitchCase","java.lang.Double"),u.Lb(1),u.Ac("ngSwitchCase","java.lang.Long"),u.Lb(1),u.Ac("ngSwitchCase","java.lang.Short"),u.Lb(1),u.Ac("ngSwitchCase","java.lang.Character"),u.Lb(1),u.Ac("ngSwitchCase","java.lang.Byte"),u.Lb(1),u.Ac("ngSwitchCase","byte []"),u.Lb(1),u.Ac("ngSwitchCase","java.lang.Boolean"),u.Lb(1),u.Ac("ngSwitchCase","java.util.Date")}}let xe=(()=>{class e{constructor(e,t,i,n,a,c,r){this.datePipe=e,this.route=t,this.router=i,this.translate=n,this.sharedMessageService=a,this.toastr=c,this.preferencesService=r,this.inputChange=new u.p,this.focusOut=new u.p,this.dateOptions={singleDatePicker:!0,timePicker:!0,timePicker24Hour:!0,timePickerSeconds:!0,showCustomRangeLabel:!1,showDropdowns:!0,autoUpdateInput:!1,startDate:f(),endDate:f()},this.booleanVal="",this.byteVal="",this.fromFormat="EEE MMM dd hh:mm:ss zzzz yyyy",this.toFormat="M/d/yyyy HH:mm:ss",this.picklistVal="",this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)}),this.substitutionComp=!1,this.booleanVals=[{label:"false",value:"false"},{label:"true",value:"true"}]}ngOnInit(){if(this.numCols||(this.numCols=100),this.node.field_options&&this.node.field_options.length>0){this.pickListItems=new Array(this.node.field_options.length);for(let e=0;e<this.node.field_options.length;e++){const t=this.node.field_options[e];this.pickListItems[e]={label:t,value:t,title:t}}}this.handleSpecialTypes()}ngAfterViewInit(){this.makeComponentsAccessible()}ngOnChanges(e){e&&null!=e.value&&e.value.currentValue&&(!0!==e.value.firstChange||"null"!==e.value.currentValue||e.value.perviousValue?(this.value=e.value.currentValue,this.handleSpecialTypes()):this.value=null)}handleSpecialTypes(){if("object"===this.node.field_type){if("java.util.Date"===this.node.wrapper_type)null!=this.value?(this.dateDVal=this.value,this.dateOptions.startDate=this.clonedDateTime(this.dateDVal),this.dateOptions.endDate=this.dateOptions.startDate):(this.dateOptions.startDate=f(),this.dateOptions.endDate=this.dateOptions.startDate);else if("java.lang.Boolean"===this.node.wrapper_type)this.booleanVal=!0===this.value||!1===this.value?String(this.value):this.value;else if("java.lang.Byte"===this.node.wrapper_type&&null!=this.value)if(this.value+="",1===this.value.indexOf("x")||1===this.value.indexOf("o")){const e=A.parseByteValue(this.value);if(null!=e){const t=A.specialByteFormat(e);this.byteVal=t}}else if(!isNaN(this.value)){const e=parseInt(this.value,10).toString(16);null!=e&&(this.byteVal=A.specialByteFormat(e))}}else this.node.field_options&&this.node.field_options.length>0&&this.value&&(this.picklistVal=this.value)}makeComponentsAccessible(){setTimeout(()=>{let e=document.getElementById("booleanVal_"+this.node.path);e&&h.J.makeDropdownAccessible(e,this.translate.instant("serviceinput.select.value.placeholder")),e=document.getElementById("pickListVal_"+this.node.path),e&&h.J.makeDropdownAccessible(e,this.translate.instant("serviceinput.select.value.placeholder"))},200)}showPlaceHolder(){let e=!0;return this.value&&this.value.length>0?e=!1:"object"===this.node.field_type&&("java.lang.Boolean"===this.node.wrapper_type?"true"!==this.value&&"false"!==this.value||(e=!1):this.value&&(e=!1)),e}setValue(e,t){this.itemIndexToEdit>-1?(this.node.value[this.itemIndexToEdit]=t,e.value[this.itemIndexToEdit]=this.node.value[this.itemIndexToEdit]):(this.node.value=t,e.value=this.node.value)}inputChangeHandler(e,t){if("object"===this.node.field_type)if("java.util.Date"===this.node.wrapper_type){let i=null;e.picker&&(i=e.picker),i&&i.startDate&&i.startDate._d&&(this.dateDVal=Date.parse(i.startDate._d),this.setValue(t,this.dateDVal))}else if("java.lang.Boolean"===this.node.wrapper_type){null==e.value&&null!=e.originalEvent&&(e=e.originalEvent),this.value=""===e.value?null:!0===e.value||!1===e.value?String(this.booleanVal):"true"===e.value||"false"===e.value?this.booleanVal:null;let i=this.value;null!=this.value&&(i=JSON.parse(this.value)),this.setValue(t,i)}else"java.lang.Byte"===this.node.wrapper_type&&this.blurHandler(e);else this.node.field_options&&this.node.field_options.length>0&&(e.value||e.originalEvent&&(e=e.originalEvent),this.value=e.value&&e.value.length>0?this.picklistVal:null,this.setValue(t,this.value));this.inputChange.emit({event:e,node:t})}keyPressForFloat(e){const t=String.fromCharCode(e.keyCode);/[0-9\e\E\+\-\.\ ]/.test(t)||e.preventDefault()}keyPressForInteger(e){const t=String.fromCharCode(e.keyCode);/[0-9\+\-\ ]/.test(t)||e.preventDefault()}focusInput(){setTimeout(()=>{this.inputRef&&this.inputRef.nativeElement&&this.inputRef.nativeElement.focus()})}blurHandler(e){let t=null;if(e.target&&e.target.value&&"object"===this.node.field_type)if("java.lang.Short"===this.node.wrapper_type)t=A.validateShort(e.target.value,this.translate);else if("java.lang.Integer"===this.node.wrapper_type)t=A.validateInteger(e.target.value,this.translate);else if("java.lang.Long"===this.node.wrapper_type)t=A.validateLong(e.target.value,this.translate);else if("java.lang.Double"===this.node.wrapper_type)t=A.validateDouble(e.target.value,this.translate);else if("java.lang.Float"===this.node.wrapper_type)t=A.validateFloat(e.target.value,this.translate);else if("java.util.Date"===this.node.wrapper_type)t=A.validateDate(e.target.value,this.translate);else if("java.lang.Character"===this.node.wrapper_type)t=A.validateCharacter(e.target.value,this.translate);else if("java.lang.Byte"===this.node.wrapper_type)if(t=A.validateByte(this.node,e.target.value,this.translate),t);else{const t=A.parseByteValue(e.target.value);if(t){const i=A.specialByteFormat(t);e.target.value=i}}if(t){const i=this.translate.instant("serviceinput.validate.invalid.entry");return this.toastr.error(t,i),void(this.itemIndexToEdit>-1?this.node.value[this.itemIndexToEdit]=e.target.value:"0"===this.node.field_dim&&(this.node.value=e.target.value))}const i=A.getValueBasedOnDataType(this.node,e);"0"===this.node.field_dim&&(this.node.value=i),setTimeout(()=>{this.focusOut.emit(e)},100)}clearDateVal(e,t){this.dateDVal=void 0,this.setValue(t,null),this.dateOptions.startDate=f(),this.dateOptions.endDate=this.dateOptions.startDate,setTimeout(()=>{this.inputChange.emit({event:e,node:t})},100)}showDaterangepicker(e){}changeDaterangepicker(e,t){}clonedDateTime(e){return e?f(e).clone():f(e)}removeFocus(e){this.focusOut.emit(e)}browseInputField(e){}modalCloseEvent(){}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(s.e),u.Zb(d.a),u.Zb(d.e),u.Zb(n.d),u.Zb(h.A),u.Zb(x.b),u.Zb(r.PreferencesService))},e.\u0275cmp=u.Tb({type:e,selectors:[["svc-input-control"]],viewQuery:function(e,t){if(1&e&&u.hd(ie,1),2&e){let e;u.Oc(e=u.qc())&&(t.inputRef=e.first)}},inputs:{node:"node",value:"value",itemIndexToEdit:"itemIndexToEdit",numCols:"numCols"},outputs:{inputChange:"inputChange",focusOut:"focusOut"},features:[u.Jb],decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"dlt-form-group","run-input-control"],["inputControlRef",""],[4,"ngIf","ngIfElse"],["passwordField",""],["pickListField",""],["inputField",""],["tabindex","0","rows","6","pInputTextarea","",3,"cols","placeholder","value","id","change","blur"],["inputRef",""],["type","password","required","",1,"dlt-text-input",3,"placeholder","value","id","change","blur"],["appendTo","body","tabIndex","0","dropdownIcon","dlt-icon-caret-down",3,"options","ngModel","editable","placeholder","id","virtualScroll","autoZIndex","inputId","showClear","ngModelChange","onChange","onBlur"],["tabindex","0","rows","1","pInputTextarea","",3,"cols","placeholder","value","id","change","blur"],[1,"dlt-form-group","run-input-control",3,"ngSwitch"],["type","text","required","","maxlength","11","class","dlt-text-input","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",3,"placeholder","value","id","keypress","input","blur",4,"ngSwitchCase"],["type","text","required","","class","dlt-text-input",3,"placeholder","value","id","keypress","input","blur",4,"ngSwitchCase"],["type","text","required","","maxlength","20","class","dlt-text-input","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",3,"placeholder","value","id","keypress","input","blur",4,"ngSwitchCase"],["type","text","required","","maxlength","6","class","dlt-text-input","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",3,"placeholder","value","id","keypress","input","blur",4,"ngSwitchCase"],["type","text","maxlength","1","class","dlt-text-input","required","",3,"placeholder","value","id","change","blur",4,"ngSwitchCase"],["type","text","maxlength","4","class","dlt-text-input","required","",3,"placeholder","value","id","change","blur",4,"ngSwitchCase"],["type","text","class","dlt-text-input","readonly","",3,"value","id",4,"ngSwitchCase"],["class","dlt-switch-item switch-item",4,"ngSwitchCase"],["type","text","required","","maxlength","11","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",1,"dlt-text-input",3,"placeholder","value","id","keypress","input","blur"],["type","text","required","",1,"dlt-text-input",3,"placeholder","value","id","keypress","input","blur"],["type","text","required","","maxlength","20","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",1,"dlt-text-input",3,"placeholder","value","id","keypress","input","blur"],["type","text","required","","maxlength","6","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",1,"dlt-text-input",3,"placeholder","value","id","keypress","input","blur"],["type","text","maxlength","1","required","",1,"dlt-text-input",3,"placeholder","value","id","change","blur"],["type","text","maxlength","4","required","",1,"dlt-text-input",3,"placeholder","value","id","change","blur"],["type","text","readonly","",1,"dlt-text-input",3,"value","id"],[1,"dlt-switch-item","switch-item"],["appendTo","body","tabIndex","0","dropdownIcon","dlt-icon-caret-down",3,"options","ngModel","placeholder","editable","autoZIndex","id","inputId","showClear","ngModelChange","onChange"],[1,"date-field","form-control"],[4,"ngIf"],["tabindex","0","type","button","pButton","","showDelay","250","daterangepicker","",1,"dlt-button","dlt-button-icon","btn-1",3,"id","pTooltip","options","value","showDaterangepicker","applyDaterangepicker","change"],[1,"dlt-icon-calendar","dlg-icon-btn","dlt-icon"],["tabindex","0","type","button","pButton","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"id","pTooltip","click"],[1,"dlt-icon-close","dlg-icon-btn","dlt-icon-sm"]],template:function(e,t){1&e&&(u.dc(0,0),u.Zc(1,le,10,2,"ng-container",1),u.Zc(2,Se,12,11,"ng-container",1),u.cc()),2&e&&(u.Ac("ngSwitch",t.node.field_type),u.Lb(1),u.Ac("ngSwitchCase","string"),u.Lb(1),u.Ac("ngSwitchCase","object"))},directives:[s.p,s.q,s.n,ee.a,te.n,te.q,r.DaterangePickerComponent,T.a],pipes:[n.c,h.t],styles:[".placeholder[_ngcontent-%COMP%]{color:#666;text-align:left;display:inline-block;margin-left:9px;margin-top:-22px;z-index:1}.date-field[_ngcontent-%COMP%], .placeholder[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:14px}.date-field[_ngcontent-%COMP%]{height:calc(1.6em);padding:0 .5rem;display:block;background-color:#eaeaea}textarea[_ngcontent-%COMP%]{width:100%;min-height:29px;background-color:#fff;z-index:9999;box-sizing:border-box}"]}),e})(),Te=(()=>{class e{constructor(e,t){this.sharedMessageService=e,this.translate=t,this.addItem=new u.p,this.deleteItem=new u.p,this.inputChange=new u.p,this.listRowCount=0,this.uid=this.$generateUUID(),this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})}listRowCountChanged(e){this.inputChange.emit(e)}increaseListCount(e){e&&this.addItem.emit(this.listRowCount+1)}decreaseListCount(e){e&&this.deleteItem.emit(this.listRowCount)}addItemHandler(e){e&&(this.addItem.emit(this.listRowCount+1),this.setRowCount())}deleteItemHandler(e){e&&(this.deleteItem.emit(this.listRowCount),this.setRowCount())}setRowCount(){setTimeout(()=>{this.listRowCount=this.input&&this.input.length>-1?this.input.length:0},100)}ngOnChanges(){this.setRowCount()}$generateUUID(){return Object(k.a)()}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(h.A),u.Zb(n.d))},e.\u0275cmp=u.Tb({type:e,selectors:[["svc-action-toolbar"]],inputs:{input:"input"},outputs:{addItem:"addItem",deleteItem:"deleteItem",inputChange:"inputChange"},features:[u.Jb],decls:30,vars:36,consts:[[1,"pane"],[1,"tb1"],[1,"td1"],[1,"dlt-form-label","toolbar-label",3,"for"],[1,"dlt-form-group"],["type","number","min","0","max","100",1,"dlt-number-input","spinner1",3,"id","ngModel","size","ngModelChange","change"],[1,"number-controls"],["type","button","showDelay","250",1,"number-step-up",3,"pTooltip","click"],[1,"dlt-icon-caret-up","number-step-up-icon"],["type","button","showDelay","250",1,"number-step-down",3,"pTooltip","click"],[1,"dlt-icon-caret-down","number-step-down-icon"],[1,"td1a"],["tabindex","0","type","button","pButton","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"id","pTooltip","click"],[1,"dlt-icon-row","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-delete","dlg-icon-btn","dlt-icon"]],template:function(e,t){1&e&&(u.fc(0,"div",0),u.fc(1,"table",1),u.fc(2,"tr"),u.fc(3,"td",2),u.fc(4,"label",3),u.bd(5),u.uc(6,"translate"),u.ec(),u.ec(),u.fc(7,"td",2),u.fc(8,"div",4),u.fc(9,"input",5),u.pc("ngModelChange",function(e){return t.listRowCount=e})("change",function(e){return t.listRowCountChanged(e)}),u.uc(10,"translate"),u.ec(),u.fc(11,"div",6),u.fc(12,"button",7),u.pc("click",function(e){return t.increaseListCount(e)}),u.uc(13,"translate"),u.uc(14,"translate"),u.ac(15,"i",8),u.ec(),u.fc(16,"button",9),u.pc("click",function(e){return t.decreaseListCount(e)}),u.uc(17,"translate"),u.uc(18,"translate"),u.ac(19,"i",10),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(20,"td",11),u.fc(21,"button",12),u.pc("click",function(e){return t.addItemHandler(e)}),u.uc(22,"translate"),u.uc(23,"translate"),u.ac(24,"i",13),u.ec(),u.ec(),u.fc(25,"td",11),u.fc(26,"button",12),u.pc("click",function(e){return t.deleteItemHandler(e)}),u.uc(27,"translate"),u.uc(28,"translate"),u.ac(29,"i",14),u.ec(),u.ec(),u.ec(),u.ec(),u.ec()),2&e&&(u.Lb(4),u.Cc("for","pipelineListCountValueInputId_",t.uid,""),u.Lb(1),u.dd(" ",u.vc(6,16,"serviceinput.list.size.caption")," "),u.Lb(4),u.Cc("id","pipelineListCountValueInputId_",t.uid,""),u.Ac("ngModel",t.listRowCount)("size",4),u.Mb("aria-label",u.vc(10,18,"serviceinput.list.size.caption")),u.Lb(3),u.Bc("pTooltip",u.vc(14,22,"common.spinner.increase")),u.Mb("aria-label",u.vc(13,20,"common.spinner.increase")),u.Lb(4),u.Bc("pTooltip",u.vc(18,26,"common.spinner.decrease")),u.Mb("aria-label",u.vc(17,24,"common.spinner.decrease")),u.Lb(5),u.Cc("id","addListRowBtn_",t.uid,""),u.Bc("pTooltip",u.vc(22,28,"serviceinput.list.add.row.end.list.button")),u.Mb("aria-label",u.vc(23,30,"serviceinput.list.add.row.end.list.button")),u.Lb(5),u.Cc("id","removeListRowBtn_",t.uid,""),u.Bc("pTooltip",u.vc(27,32,"serviceinput.list.remove.row.button")),u.Mb("aria-label",u.vc(28,34,"serviceinput.list.remove.row.button")))},directives:[te.s,te.c,te.n,te.q,T.a],pipes:[n.c],styles:[".toolbar-label[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:12px;color:#333;text-align:left;margin-top:10px;margin-right:4px}.toolbar-action-controls[_ngcontent-%COMP%]{padding-top:4px}.spinner1[_ngcontent-%COMP%]{width:4rem;margin-top:5px}table.tb1[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:100%}td.td1[_ngcontent-%COMP%]{padding:0 0 0 3px;margin:0;vertical-align:bottom;vertical-align:middle}td.td1a[_ngcontent-%COMP%]{padding:0;margin:0;vertical-align:bottom;width:100%;text-align:right}span.ar[_ngcontent-%COMP%]{font-weight:800;padding-right:.2rem}div.pane[_ngcontent-%COMP%]{display:inline-block;width:100%;padding-left:.3rem;border-bottom:1px solid grey;background:#eee;height:43px}"]}),e})();const Le=["inputRef"];function we(e,t){if(1&e){const e=u.gc();u.fc(0,"span",17),u.pc("click",function(){u.Rc(e);const t=u.tc(2).index;return u.tc().editContent(t)}),u.bd(1),u.ec()}if(2&e){const e=u.tc(2),t=e.$implicit,i=e.index,n=u.tc();u.Bc("pTooltip",t),u.Dc("id","listValue_",n.node.path,"_",i,""),u.Lb(1),u.cd(t)}}function Ie(e,t){if(1&e){const e=u.gc();u.fc(0,"span",17),u.pc("click",function(){u.Rc(e);const t=u.tc(2).index;return u.tc().editContent(t)}),u.bd(1),u.ec()}if(2&e){const e=u.tc(2),t=e.$implicit,i=e.index,n=u.tc();u.Bc("pTooltip",t),u.Dc("id","listValue_",n.node.path,"_",i,""),u.Lb(1),u.cd(t)}}function Me(e,t){if(1&e){const e=u.gc();u.fc(0,"span",18),u.pc("click",function(){u.Rc(e);const t=u.tc(2).index;return u.tc().editContent(t)}),u.bd(1),u.uc(2,"translate"),u.ec()}if(2&e){const e=u.tc(2).index,t=u.tc();u.Dc("id","listValue_",t.node.path,"_",e,""),u.Lb(1),u.cd(u.vc(2,3,"serviceinput.select.value.placeholder"))}}function Oe(e,t){if(1&e){const e=u.gc();u.fc(0,"span",19),u.pc("click",function(){u.Rc(e);const t=u.tc(2).index;return u.tc().editContent(t)}),u.uc(1,"preferredDateTime"),u.bd(2),u.uc(3,"preferredDateTime"),u.ec()}if(2&e){const e=u.tc(2).$implicit,t=u.tc();u.Bc("pTooltip",u.xc(1,2,e,t.preferencesService,t.dateTimePreferenceService)),u.Lb(2),u.cd(u.xc(3,6,e,t.preferencesService,t.dateTimePreferenceService))}}function _e(e,t){1&e&&(u.fc(0,"span",20),u.uc(1,"translate"),u.bd(2,"xxxxxxxx"),u.ec()),2&e&&u.Bc("pTooltip",u.vc(1,1,"serviceinput.enter.value.placeholder"))}function Pe(e,t){1&e&&(u.fc(0,"span",21),u.bd(1),u.uc(2,"translate"),u.ec()),2&e&&(u.Lb(1),u.cd(u.vc(2,1,"serviceinput.enter.value.placeholder")))}function De(e,t){if(1&e&&(u.fc(0,"span"),u.Zc(1,we,2,4,"span",12),u.Zc(2,Ie,2,4,"span",12),u.Zc(3,Me,3,5,"span",13),u.Zc(4,Oe,4,10,"span",14),u.Zc(5,_e,3,3,"span",15),u.Zc(6,Pe,3,3,"span",16),u.ec()),2&e){const e=u.tc(),t=e.$implicit,i=e.index,n=u.tc();u.Lb(1),u.Ac("ngIf","java.util.Date"!=n.node.wrapper_type&&"java.lang.Boolean"!=n.node.wrapper_type&&t),u.Lb(1),u.Ac("ngIf","java.lang.Boolean"===n.node.wrapper_type&&("true"===t||"false"===t)),u.Lb(1),u.Ac("ngIf","java.lang.Boolean"===n.node.wrapper_type&&null===t),u.Lb(1),u.Ac("ngIf","java.util.Date"===n.node.wrapper_type&&t&&t>0),u.Lb(1),u.Ac("ngIf","java.util.Date"===n.node.wrapper_type&&(!t||0==t)),u.Lb(1),u.Ac("ngIf",n.showPlaceHolder(i))}}function Ae(e,t){if(1&e){const e=u.gc();u.fc(0,"svc-input-control",22,23),u.pc("inputChange",function(t){u.Rc(e);const i=u.tc().index;return u.tc().onInputChange(t,i)})("focusOut",function(t){return u.Rc(e),u.tc(2).onBlur(t)}),u.ec()}if(2&e){const e=u.tc(),t=e.$implicit,i=e.index,n=u.tc();u.Ac("node",n.node)("value",t)("itemIndexToEdit",i)}}const Re=function(e){return{"item-selected":e}},ke=function(e){return{"padding-left":e}};function Ee(e,t){if(1&e){const e=u.gc();u.fc(0,"li",4),u.pc("keydown.enter",function(){u.Rc(e);const i=t.index;return u.tc().editContent(i)})("click",function(i){u.Rc(e);const n=t.index;return u.tc().selectItem(i,n)}),u.fc(1,"span",5),u.bd(2),u.ec(),u.fc(3,"div",6),u.Zc(4,De,7,6,"span",7),u.Zc(5,Ae,2,3,"ng-template",null,8,u.ad),u.ec(),u.fc(7,"div",9),u.fc(8,"span",10),u.pc("click",function(i){u.Rc(e);const n=t.index;return u.tc().addItem(i,n-1)})("keydown.enter",function(i){u.Rc(e);const n=t.index;return u.tc().addItem(i,n)}),u.uc(9,"translate"),u.uc(10,"translate"),u.ec(),u.fc(11,"span",11),u.pc("click",function(i){u.Rc(e);const n=t.index;return u.tc().deleteItem(i,n)})("keydown.enter",function(i){u.Rc(e);const n=t.index;return u.tc().deleteItem(i,n)}),u.uc(12,"translate"),u.uc(13,"translate"),u.ec(),u.ec(),u.ec()}if(2&e){const e=t.index,i=u.Pc(6),n=u.tc();u.Ac("ngClass",u.Gc(17,Re,n.isItemSelected(e))),u.Lb(2),u.cd(e),u.Lb(1),u.Ac("ngStyle",u.Gc(19,ke,n.itemIndexToEdit!==e?"23px":"14px")),u.Lb(1),u.Ac("ngIf",n.itemIndexToEdit!==e)("ngIfElse",i),u.Lb(4),u.Bc("pTooltip",u.vc(9,9,"serviceinput.list.insert.row.above.button")),u.Mb("aria-label",u.vc(10,11,"serviceinput.list.insert.row.above.button")),u.Lb(3),u.Bc("pTooltip",u.vc(12,13,"serviceinput.list.remove.row.button")),u.Mb("aria-label",u.vc(13,15,"serviceinput.list.remove.row.button"))}}let Fe=(()=>{class e{constructor(e){this.preferencesService=e,this.updateListValue=new u.p,this.itemIndexToEdit=-1,this.selectedItem=-1}ngOnInit(){this.input=this.node.value?I.cloneDeep(this.node.value):[],this.ensureInputIsString(),this.handleSpecialTypes()}ngOnChanges(e){e&&e.value&&e.value.currentValue&&Array.isArray(e.value.currentValue)&&(this.input=e.value.currentValue?I.cloneDeep(e.value.currentValue):[],this.ensureInputIsString(),this.handleSpecialTypes())}ensureInputIsString(){if("java.util.Date"!==this.node.wrapper_type)for(let e=0;e<this.input.length;e++)null!=this.input[e]&&(this.input[e]=""+this.input[e])}handleSpecialTypes(){if("object"===this.node.field_type&&"java.lang.Byte"===this.node.wrapper_type&&this.input&&this.input.length>0)for(let e=0;e<this.input.length;e++)if(null!=this.input[e]&&1===this.input[e].indexOf("x")||null!=this.input[e]&&1===this.input[e].indexOf("o")){const t=A.parseByteValue(this.input[e]);if(null!=t){const i=A.specialByteFormat(t);this.input[e]=i}}else if(null==this.input[e]||isNaN(this.input[e]))"null"===this.input[e]&&(this.input[e]=null);else{const t=parseInt(this.input[e],10).toString(16);null!=t&&(this.input[e]=A.specialByteFormat(t))}}showPlaceHolder(e){let t=!0;return(this.input[e]&&this.input[e].length>0||"object"===this.node.field_type&&("java.util.Date"===this.node.wrapper_type||"java.lang.Boolean"===this.node.wrapper_type||this.input[e]))&&(t=!1),t}getValue(){return this.value}updateStringList(e){const t=parseInt(e.target.value);if(t>this.input.length){const i=t-this.input.length;for(let t=0;t<i;t++)this.addListItem(e)}else this.input.splice(t,this.input.length-t),this.updateListValue.emit(this.input)}addListItem(e){this.input.push(null),this.updateListValue.emit(this.input)}editContent(e){this.selectedItem=e,this.itemIndexToEdit=e,setTimeout(()=>{this.inputRef&&this.inputRef.focusInput()},100)}removeEdit(e){this.itemIndexToEdit=-1,this.selectedItem=-1}onInputChange(e,t){const i=e.event;if(this.input[t]=i.target&&null!=i.target.value?i.target.value:null,"object"===this.node.field_type)if("java.lang.Boolean"===this.node.wrapper_type){if(this.input[t]=null,null!=i.value){this.input[t]=!0===i.value||!1===i.value?JSON.parse(i.value):i.value;let e=this.input[t];null!=this.input[t]&&(e=JSON.parse(this.input[t])),this.node.value[t]=e}setTimeout(()=>{this.inputRef.removeFocus(i),this.removeEdit(i)},100)}else if("java.util.Date"===this.node.wrapper_type)this.input[t]=e.node&&e.node.value&&i.picker&&i.picker.startDate&&i.picker.startDate._d?Date.parse(i.picker.startDate._d):null,setTimeout(()=>{this.inputRef.removeFocus(i),this.removeEdit(i)},100);else if("java.lang.Byte"===this.node.wrapper_type){if(i&&i.target&&null!=i.target.value){const e=A.parseByteValue(i.target.value);if(null!=e){const i=A.specialByteFormat(e);this.input[t]=i,this.node.value[t]=A.parseByteValue(i)}}else this.input[t]=null;setTimeout(()=>{this.removeEdit(i)},100)}else if(A.isNodeNumeric(this.node))for(let n=0;n<this.input.length;n++){const e=+this.input[n];isNaN(this.value)||(this.input[n]=e),this.node.value[n]=this.input[n]}this.updateListValue.emit(this.input),this.editContent(t)}addItem(e,t){this.input.splice(t+1,0,null),this.node.value||(this.node.value=[]),this.node.value.splice(t+1,0,null),this.selectItem(e,t+1),null!=e&&"object"==typeof e&&e.stopPropagation(),this.updateListValue.emit(this.input)}deleteItem(e,t){if(t<0)if(this.selectedItem>-1)t=this.selectedItem;else{if(!(this.input&&this.input.length>0))return;t=this.input.length-1}this.input.splice(t,1),null!=e&&"object"==typeof e&&e.stopPropagation(),this.node.value.splice(t,1),this.removeEdit(e),this.updateListValue.emit(this.input)}deleteAllItems(){this.input=[],this.updateListValue.emit(this.input)}selectItem(e,t){this.selectedItem=t,this.editContent(t)}isItemSelected(e){return this.selectedItem===e}onBlur(e){e&&e.target&&"daterangepicker"===e.target.id||this.removeEdit(e)}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(r.PreferencesService))},e.\u0275cmp=u.Tb({type:e,selectors:[["list-control"]],viewQuery:function(e,t){if(1&e&&u.hd(Le,1),2&e){let e;u.Oc(e=u.qc())&&(t.inputRef=e.first)}},inputs:{node:"node",value:"value"},outputs:{updateListValue:"updateListValue"},features:[u.Jb],decls:4,vars:2,consts:[[1,"run-list-container"],[3,"input","addItem","deleteItem","inputChange"],[1,"run-list-group"],["class","run-list-item","tabindex","0",3,"ngClass","keydown.enter","click",4,"ngFor","ngForOf"],["tabindex","0",1,"run-list-item",3,"ngClass","keydown.enter","click"],[1,"list-index"],[2,"flex-grow","1",3,"ngStyle"],[4,"ngIf","ngIfElse"],["showControl",""],[1,"action-controls"],["tabindex","0","showDelay","250",1,"run-input-list-addicon","dlt-icon-row",3,"pTooltip","click","keydown.enter"],["tabindex","0","showDelay","250",1,"run-input-list-deleteicon","dlt-icon-delete",3,"pTooltip","click","keydown.enter"],["class","value-txt","showDelay","250",3,"pTooltip","id","click",4,"ngIf"],["class","value-txt",3,"id","click",4,"ngIf"],["class","value-txt","showDelay","250",3,"pTooltip","click",4,"ngIf"],["showDelay","250","class","empty-value-txt",3,"pTooltip",4,"ngIf"],["class","placeholder",4,"ngIf"],["showDelay","250",1,"value-txt",3,"pTooltip","id","click"],[1,"value-txt",3,"id","click"],["showDelay","250",1,"value-txt",3,"pTooltip","click"],["showDelay","250",1,"empty-value-txt",3,"pTooltip"],[1,"placeholder"],[3,"node","value","itemIndexToEdit","inputChange","focusOut"],["inputRef",""]],template:function(e,t){1&e&&(u.fc(0,"div",0),u.fc(1,"svc-action-toolbar",1),u.pc("addItem",function(e){return t.addItem(e,t.input.length-1)})("deleteItem",function(e){return t.deleteItem(e,-1)})("inputChange",function(e){return t.updateStringList(e)}),u.ec(),u.fc(2,"ul",2),u.Zc(3,Ee,14,21,"li",3),u.ec(),u.ec()),2&e&&(u.Lb(1),u.Ac("input",t.input),u.Lb(2),u.Ac("ngForOf",t.input))},directives:[Te,s.m,s.l,s.o,s.n,T.a,xe],pipes:[n.c,h.t],styles:[".run-list-container[_ngcontent-%COMP%]{border:1px solid grey;min-width:510px}.run-list-group[_ngcontent-%COMP%]{padding:0;margin:0;margin-top:-6px!important}.list-index[_ngcontent-%COMP%]{padding-top:3px;font-family:Roboto,Helvetica,Arial,sans-serif;font-size:14px;color:#333;text-align:left;line-height:20px}.run-list-item[_ngcontent-%COMP%]{display:flex;padding:.2rem 9px .2rem 19px;height:33px}.run-list-item[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .run-list-item[_ngcontent-%COMP%]   .value-txt[_ngcontent-%COMP%], .run-list-item[_ngcontent-%COMP%]   empty-value-txt[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:14px;color:#666;text-align:left;line-height:20px;display:inline-block;padding-top:3px}.run-list-item[_ngcontent-%COMP%]   .value-txt[_ngcontent-%COMP%]{color:#333;width:80%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;position:absolute}.run-list-item[_ngcontent-%COMP%]   .empty-value-txt[_ngcontent-%COMP%]{background-color:#fff;opacity:0}.run-list-item[_ngcontent-%COMP%]   .run-input-control[_ngcontent-%COMP%]{height:inherit;width:310px}.run-list-item[_ngcontent-%COMP%]   .run-input-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-height:25px}.run-list-item[_ngcontent-%COMP%]:first-child{border-top:1px solid #d8d8d8}.run-list-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #d8d8d8}.run-list-item[_ngcontent-%COMP%]:focus, .run-list-item[_ngcontent-%COMP%]:focus-within, .run-list-item[_ngcontent-%COMP%]:hover{height:100%;min-height:33px}.run-list-item[_ngcontent-%COMP%]:focus-within   .action-controls[_ngcontent-%COMP%], .run-list-item[_ngcontent-%COMP%]:focus   .action-controls[_ngcontent-%COMP%], .run-list-item[_ngcontent-%COMP%]:hover   .action-controls[_ngcontent-%COMP%]{opacity:1}.action-controls[_ngcontent-%COMP%]{opacity:0}.run-input-list-addicon[_ngcontent-%COMP%], .run-input-list-deleteicon[_ngcontent-%COMP%]{cursor:pointer;color:#666;font-size:14px}.action-controls[_ngcontent-%COMP%]   .run-input-list-addicon[_ngcontent-%COMP%]{margin-right:8px}"]}),e})();const Be=["stringTableRowCountValueInputSpinner"],Ne=["stringTableColCountValueInputSpinner"],He=["stringTableContainer"],Ve=["inputRef"];function Ze(e,t){if(1&e){const e=u.gc();u.fc(0,"button",14),u.pc("click",function(t){return u.Rc(e),u.tc().expandTable(t)}),u.uc(1,"translate"),u.uc(2,"translate"),u.ac(3,"i",24),u.ec()}if(2&e){const e=u.tc();u.Cc("id","expandStringTableBtn_",e.uid,""),u.Bc("pTooltip",u.vc(1,3,"serviceinput.table.expand.button")),u.Mb("aria-label",u.vc(2,5,"serviceinput.table.expand.button"))}}function je(e,t){if(1&e){const e=u.gc();u.fc(0,"button",14),u.pc("click",function(t){return u.Rc(e),u.tc().collapseTable(t)}),u.uc(1,"translate"),u.uc(2,"translate"),u.ac(3,"i",25),u.ec()}if(2&e){const e=u.tc();u.Cc("id","collapseStringTableBtn_",e.uid,""),u.Bc("pTooltip",u.vc(1,3,"serviceinput.table.collapse.button")),u.Mb("aria-label",u.vc(2,5,"serviceinput.table.collapse.button"))}}function ze(e,t){1&e&&(u.dc(0),u.ac(1,"tr"),u.cc())}function Ue(e,t){if(1&e){const e=u.gc();u.fc(0,"span",35),u.pc("keydown.enter",function(t){u.Rc(e);const i=u.tc().index,n=u.tc().index;return u.tc().selectCell(t,n,i)})("click",function(t){u.Rc(e);const i=u.tc().index,n=u.tc().index;return u.tc().selectCell(t,n,i)}),u.fc(1,"span",36),u.bd(2),u.ec(),u.ec()}if(2&e){const e=u.tc().$implicit,t=u.tc(2);u.Lb(1),u.Xc("width",t.cellValueWidth,"px"),u.Bc("pTooltip",e),u.Lb(1),u.dd(" ",e," ")}}function $e(e,t){if(1&e){const e=u.gc();u.fc(0,"svc-input-control",37,38),u.pc("inputChange",function(t){u.Rc(e);const i=u.tc().index,n=u.tc().index;return u.tc().onInputChange(t,n,i)})("focusOut",function(t){return u.Rc(e),u.tc(3).onBlur(t)}),u.ec()}if(2&e){const e=u.tc(),t=e.index,i=e.$implicit,n=u.tc().index,a=u.tc();u.Ec("id","tableCell_",a.uid,"_",n,"_",t,""),u.Ac("node",a.node)("value",i)}}const Qe=function(e){return{width:e}},Ke=function(e){return{"item-selected":e}},We=function(e){return{"padding-left":e,"max-width":"310px"}};function qe(e,t){if(1&e){const e=u.gc();u.fc(0,"td",27),u.pc("keydown.enter",function(i){u.Rc(e);const n=t.index,a=u.tc().index;return u.tc().selectCell(i,a,n)})("click",function(i){u.Rc(e);const n=t.index,a=u.tc().index;return u.tc().selectCell(i,a,n)}),u.fc(1,"div",28),u.fc(2,"div",29),u.Zc(3,Ue,3,4,"span",30),u.Zc(4,$e,2,5,"ng-template",null,31,u.ad),u.ec(),u.fc(6,"div",32),u.fc(7,"span",33),u.pc("click",function(t){u.Rc(e);const i=u.tc().index;return u.tc().addRow(t,i-1)})("keydown.enter",function(t){u.Rc(e);const i=u.tc().index;return u.tc().addRow(t,i,!1)}),u.uc(8,"translate"),u.uc(9,"translate"),u.ec(),u.fc(10,"span",34),u.pc("click",function(t){u.Rc(e);const i=u.tc().index;return u.tc().deleteRow(t,i)})("keydown.enter",function(t){u.Rc(e);const i=u.tc().index;return u.tc().deleteRow(t,i)}),u.uc(11,"translate"),u.uc(12,"translate"),u.ec(),u.ec(),u.ec(),u.ec()}if(2&e){const e=t.index,i=u.Pc(5),n=u.tc().index,a=u.tc();u.Ac("ngStyle",u.Gc(17,Qe,a.inputDataWidth)),u.Lb(1),u.Ac("ngClass",u.Gc(19,Ke,a.isCellSelected(n,e))),u.Lb(1),u.Ac("ngStyle",u.Gc(21,We,a.cellIndexToEdit&&a.cellIndexToEdit.rowIdx==n&&a.cellIndexToEdit.columnIdx==e?"3px":"6px")),u.Lb(1),u.Ac("ngIf",!a.cellIndexToEdit||a.cellIndexToEdit.rowIdx!=n||a.cellIndexToEdit.columnIdx!=e)("ngIfElse",i),u.Lb(4),u.Bc("pTooltip",u.vc(8,9,"serviceinput.table.insert.row.above.button")),u.Mb("aria-label",u.vc(9,11,"serviceinput.table.insert.row.above.button")),u.Lb(3),u.Bc("pTooltip",u.vc(11,13,"serviceinput.table.remove.row.button")),u.Mb("aria-label",u.vc(12,15,"serviceinput.table.remove.row.button"))}}function Xe(e,t){if(1&e&&(u.fc(0,"tr"),u.Zc(1,qe,13,23,"td",26),u.ec()),2&e){const e=t.$implicit;u.Lb(1),u.Ac("ngForOf",e)}}let Je=(()=>{class e{constructor(e,t){this.sharedMessageService=e,this.translate=t,this.updateTableValue=new u.p,this.expand=new u.p,this.collapse=new u.p,this.showExpand=!1,this.showCollapse=!1,this.input=[],this.cellIndexToEdit={columnIdx:-1,rowIdx:-1},this.selectedCell={columnIdx:-1,rowIdx:-1},this.cellValueWidth=0,this.translate.setDefaultLang("en"),this.uid=this.$generateUUID(),this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})}ngOnInit(){this.input=this.node.value?this.node.value:[],this.handleCounts()}ngAfterViewInit(){this.makeComponentsAccessible()}ngOnChanges(e){e&&e.value&&e.value.currentValue&&Array.isArray(e.value.currentValue)&&(this.input=e.value.currentValue,this.handleCounts())}handleCounts(){setTimeout(()=>{this.tableRowCount=0,this.tableColCount=0,this.input.length&&(this.tableRowCount=this.input.length,this.input.length>0&&(this.tableColCount=this.input[0].length)),0===this.tableColCount&&(this.tableRowCount=0);const e=document.getElementById("stringTableRowCountValueInputId_"+this.uid);e&&(e.value=this.tableRowCount);const t=document.getElementById("stringTableColCountValueInputId_"+this.uid);t&&(t.value=this.tableColCount),this.setCellWidths()},100)}makeComponentsAccessible(){setTimeout(()=>{let e=document.getElementById("stringTableRowCountValueInputId_"+this.uid);e&&h.J.makeSpinnerAccessible(e,null,this.translate.instant("common.spinner.increase"),this.translate.instant("common.spinner.decrease")),e=document.getElementById("stringTableColCountValueInputId_"+this.uid),e&&h.J.makeSpinnerAccessible(e,null,this.translate.instant("common.spinner.increase"),this.translate.instant("common.spinner.decrease"))},200)}addRow(e,t){this.removeEdit(e),this.input&&this.input.length>0&&this.input[0].length<1&&(this.input=[],t=-1);const i=t+1;if(this.input.splice(i,0,""),i>0){this.input[i]=new Array(this.input[0].length);for(let e=0;e<this.input[t].length;e++)this.input[i][e]=""}else this.input[i]=new Array(1);this.handleCounts(),this.selectCell(e,i,0),setTimeout(()=>{this.updateTableValue.emit(this.input)},100)}addColumn(e,t){this.removeEdit(e),0===this.input.length?this.addRow(e,-1):this.input.forEach((e,t)=>{e.push("")}),this.handleCounts(),this.selectCell(e,0,t),setTimeout(()=>{this.updateTableValue.emit(this.input)},100)}deleteRow(e,t){if(t<0)if(this.selectedCell&&this.selectedCell.rowIdx>-1)t=this.selectedCell.rowIdx;else{if(!(this.input&&this.input.length>0))return;t=this.input.length-1}this.input.splice(t,1),e&&(this.removeEdit(e),e.stopPropagation()),this.handleCounts(),setTimeout(()=>{this.updateTableValue.emit(this.input)},100)}deleteColumn(e,t){if(t<0)if(this.selectedCell&&this.selectedCell.columnIdx>-1)t=this.selectedCell.columnIdx;else{if(!(this.input&&this.input.length>0&&this.input[0].length>1))return void(this.input.length>0&&1===this.input[0].length&&(this.input=[],e&&(this.removeEdit(e),e.stopPropagation()),this.handleCounts(),this.updateTableValue.emit(this.input)));t=this.input[0].length-1}this.input.forEach((e,i)=>{this.input[i].splice(t,1)}),e&&(this.removeEdit(e),e.stopPropagation()),this.handleCounts(),setTimeout(()=>{this.updateTableValue.emit(this.input)},100)}onInputChange(e,t,i){const n=e.event;this.input[t][i]=n.target&&n.target.value?n.target.value:null,this.handleCounts(),this.editContent(t,i),setTimeout(()=>{this.updateTableValue.emit(this.input)},100)}editContent(e,t){this.selectedCell={columnIdx:t,rowIdx:e},this.cellIndexToEdit={columnIdx:t,rowIdx:e},this.setInputFocus(e,t)}setInputFocus(e,t){setTimeout(()=>{this.setCellWidths(),this.inputRef&&this.inputRef.focusInput()},100)}selectCell(e,t,i){e.stopPropagation(),this.selectedCell={columnIdx:i,rowIdx:t},this.editContent(t,i),this.setCellWidths()}isCellSelected(e,t){return this.selectedCell&&this.selectedCell.columnIdx===t&&this.selectedCell.rowIdx===e}expandTable(e){this.expand.emit()}collapseTable(e){this.collapse.emit()}rowCountChanged(e){if(e&&e.target){let t=e.target.value;if(t>-1){let i=t-this.input.length;if(this.stringTableRowCountValueInputSpinner&&this.stringTableRowCountValueInputSpinner.value&&(t=this.stringTableRowCountValueInputSpinner.value,i=t-this.input.length),i>0)for(let t=0;t<i;t++)this.addRow(e,this.input.length-1);else if(i<0)for(let t=0;t<Math.abs(i);t++)this.deleteRow(e,this.input.length-1)}}}increaseRowCount(e){e&&this.addRow(e,this.input.length-1)}decreaseRowCount(e){e&&this.input&&this.input.length>0&&this.deleteRow(e,this.input.length-1)}colCountChanged(e){let t=0;if(this.input&&this.input.length&&this.input.length>0&&(t=this.input[0].length),e&&e.target){let i=e.target.value;if(i>-1){let n=i-t;if(this.stringTableColCountValueInputSpinner&&this.stringTableColCountValueInputSpinner.value&&(i=this.stringTableColCountValueInputSpinner.value,n=i-t),n>0)for(let t=0;t<n;t++)this.addColumn(e,this.input[0].length);else if(n<0)for(let t=0;t<Math.abs(n);t++)this.deleteColumn(e,this.input[0].length-1);this.setCellWidths()}}}increaseColCount(e){if(e){let t=0;this.input.length>0&&(t=this.input[0].length),this.addColumn(e,t)}}decreaseColCount(e){e&&this.input&&this.input.length>0&&this.input[0].length>0&&this.deleteColumn(e,this.input[0].length-1)}setCellWidths(){setTimeout(()=>{this.stringTableContainer&&this.input&&this.input.length>0&&this.input[0].length>0&&(this.cellValueWidth=this.stringTableContainer.nativeElement.offsetWidth/this.input[0].length-50,this.inputDataWidth=this.cellValueWidth-140+"px")},100)}removeEdit(e){this.cellIndexToEdit={columnIdx:-1,rowIdx:-1},this.selectedCell={columnIdx:-1,rowIdx:-1},this.setCellWidths()}onBlur(e){this.removeEdit(e),this.setCellWidths()}getValue(e){return parseInt(e.target.value)}$generateUUID(){return Object(k.a)()}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(h.A),u.Zb(n.d))},e.\u0275cmp=u.Tb({type:e,selectors:[["string-table"]],viewQuery:function(e,t){if(1&e&&(u.hd(Be,1),u.hd(Ne,1),u.hd(He,1),u.hd(Ve,1)),2&e){let e;u.Oc(e=u.qc())&&(t.stringTableRowCountValueInputSpinner=e.first),u.Oc(e=u.qc())&&(t.stringTableColCountValueInputSpinner=e.first),u.Oc(e=u.qc())&&(t.stringTableContainer=e.first),u.Oc(e=u.qc())&&(t.inputRef=e.first)}},inputs:{node:"node",value:"value",showExpand:"showExpand",showCollapse:"showCollapse"},outputs:{updateTableValue:"updateTableValue",expand:"expand",collapse:"collapse"},features:[u.Jb],decls:66,vars:76,consts:[[1,"run-list-container"],[1,"pane"],[1,"tb1"],[1,"td1"],[1,"dlt-form-label","toolbar-label",3,"for"],[1,"dlt-form-group"],["type","number","min","0","max","100",1,"dlt-number-input","spinner1",3,"id","ngModel","size","ngModelChange","change"],[1,"number-controls"],["type","button","showDelay","250",1,"number-step-up",3,"pTooltip","click"],[1,"dlt-icon-caret-up","number-step-up-icon"],["type","button","showDelay","250",1,"number-step-down",3,"pTooltip","click"],[1,"dlt-icon-caret-down","number-step-down-icon"],[1,"dlt-form-label","toolbar-label","toolbar-label1",3,"for"],[1,"td1a"],["tabindex","0","type","button","pButton","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"id","pTooltip","click"],[1,"dlt-icon-row","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-delete","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-column","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-building","dlg-icon-btn","dlt-icon"],["tabindex","0","type","button","pButton","","class","dlt-button dlt-button-icon btn-1","showDelay","250",3,"id","pTooltip","click",4,"ngIf"],["cellspacing","0","cellpadding","0",1,"string-table"],["stringTableContainer",""],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"dlt-icon-expand","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-collapse","dlg-icon-btn","dlt-icon"],["tabIndex","0",3,"ngStyle","keydown.enter","click",4,"ngFor","ngForOf"],["tabIndex","0",3,"ngStyle","keydown.enter","click"],[1,"run-table-cell",3,"ngClass"],[2,"flex-grow","1",3,"ngStyle"],[3,"keydown.enter","click",4,"ngIf","ngIfElse"],["showControl",""],[1,"table-action-controls"],["tabindex","0","showDelay","250",1,"run-input-table-addicon","dlt-icon-row",3,"pTooltip","click","keydown.enter"],["tabindex","0","showDelay","250",1,"run-input-table-deleteicon","dlt-icon-delete",3,"pTooltip","click","keydown.enter"],[3,"keydown.enter","click"],["showDelay","250",1,"value-txt",3,"pTooltip"],[3,"id","node","value","inputChange","focusOut"],["inputRef",""]],template:function(e,t){1&e&&(u.fc(0,"div",0),u.fc(1,"div",1),u.fc(2,"table",2),u.fc(3,"tr"),u.fc(4,"td",3),u.fc(5,"label",4),u.bd(6),u.uc(7,"translate"),u.ec(),u.ec(),u.fc(8,"td",3),u.fc(9,"div",5),u.fc(10,"input",6),u.pc("ngModelChange",function(e){return t.tableRowCount=e})("change",function(e){return t.rowCountChanged(e)}),u.uc(11,"translate"),u.ec(),u.fc(12,"div",7),u.fc(13,"button",8),u.pc("click",function(e){return t.increaseRowCount(e)}),u.uc(14,"translate"),u.uc(15,"translate"),u.ac(16,"i",9),u.ec(),u.fc(17,"button",10),u.pc("click",function(e){return t.decreaseRowCount(e)}),u.uc(18,"translate"),u.uc(19,"translate"),u.ac(20,"i",11),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(21,"td",3),u.fc(22,"label",12),u.bd(23),u.uc(24,"translate"),u.ec(),u.ec(),u.fc(25,"td",3),u.fc(26,"div",5),u.fc(27,"input",6),u.pc("ngModelChange",function(e){return t.tableColCount=e})("change",function(e){return t.colCountChanged(e)}),u.uc(28,"translate"),u.ec(),u.fc(29,"div",7),u.fc(30,"button",8),u.pc("click",function(e){return t.increaseColCount(e)}),u.uc(31,"translate"),u.uc(32,"translate"),u.ac(33,"i",9),u.ec(),u.fc(34,"button",10),u.pc("click",function(e){return t.decreaseColCount(e)}),u.uc(35,"translate"),u.uc(36,"translate"),u.ac(37,"i",11),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(38,"td",13),u.fc(39,"button",14),u.pc("click",function(e){return t.addRow(e,t.input.length-1)}),u.uc(40,"translate"),u.uc(41,"translate"),u.ac(42,"i",15),u.ec(),u.ec(),u.fc(43,"td",13),u.fc(44,"button",14),u.pc("click",function(e){return t.deleteRow(e,-1)}),u.uc(45,"translate"),u.uc(46,"translate"),u.ac(47,"i",16),u.ec(),u.ec(),u.fc(48,"td",13),u.fc(49,"button",14),u.pc("click",function(e){return t.addColumn(e,t.tableColCount-1)}),u.uc(50,"translate"),u.uc(51,"translate"),u.ac(52,"i",17),u.ec(),u.ec(),u.fc(53,"td",13),u.fc(54,"button",14),u.pc("click",function(e){return t.deleteColumn(e,-1)}),u.uc(55,"translate"),u.uc(56,"translate"),u.ac(57,"i",18),u.ec(),u.ec(),u.fc(58,"td",13),u.Zc(59,Ze,4,7,"button",19),u.Zc(60,je,4,7,"button",19),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(61,"table",20,21),u.fc(63,"tbody"),u.Zc(64,ze,2,0,"ng-container",22),u.Zc(65,Xe,2,1,"tr",23),u.ec(),u.ec(),u.ec()),2&e&&(u.Lb(5),u.Cc("for","stringTableRowCountValueInputId_",t.uid,""),u.Lb(1),u.dd(" ",u.vc(7,36,"serviceinput.table.rows.caption")," "),u.Lb(4),u.Cc("id","stringTableRowCountValueInputId_",t.uid,""),u.Ac("ngModel",t.tableRowCount)("size",4),u.Mb("aria-label",u.vc(11,38,"serviceinput.table.rows.caption")),u.Lb(3),u.Bc("pTooltip",u.vc(15,42,"common.spinner.increase")),u.Mb("aria-label",u.vc(14,40,"common.spinner.increase")),u.Lb(4),u.Bc("pTooltip",u.vc(19,46,"common.spinner.decrease")),u.Mb("aria-label",u.vc(18,44,"common.spinner.decrease")),u.Lb(5),u.Cc("for","stringTableColCountValueInputId_",t.uid,""),u.Lb(1),u.dd(" ",u.vc(24,48,"serviceinput.table.columns.caption")," "),u.Lb(4),u.Cc("id","stringTableColCountValueInputId_",t.uid,""),u.Nb("aria-label"," ",u.vc(28,50,"serviceinput.table.columns.caption"),""),u.Ac("ngModel",t.tableColCount)("size",4),u.Lb(3),u.Bc("pTooltip",u.vc(32,54,"common.spinner.increase")),u.Mb("aria-label",u.vc(31,52,"common.spinner.increase")),u.Lb(4),u.Bc("pTooltip",u.vc(36,58,"common.spinner.decrease")),u.Mb("aria-label",u.vc(35,56,"common.spinner.decrease")),u.Lb(5),u.Cc("id","addStringTableRowBtn_",t.uid,""),u.Bc("pTooltip",u.vc(40,60,"serviceinput.table.add.row.button")),u.Mb("aria-label",u.vc(41,62,"serviceinput.table.add.row.button")),u.Lb(5),u.Cc("id","delStringTableRowBtn_",t.uid,""),u.Bc("pTooltip",u.vc(45,64,"serviceinput.table.remove.row.button")),u.Mb("aria-label",u.vc(46,66,"serviceinput.table.remove.row.button")),u.Lb(5),u.Cc("id","addStringTableColBtn_",t.uid,""),u.Bc("pTooltip",u.vc(50,68,"serviceinput.table.add.column.button")),u.Mb("aria-label",u.vc(51,70,"serviceinput.table.add.column.button")),u.Lb(5),u.Cc("id","delStringTableColBtn_",t.uid,""),u.Bc("pTooltip",u.vc(55,72,"serviceinput.table.remove.column.button")),u.Mb("aria-label",u.vc(56,74,"serviceinput.table.remove.column.button")),u.Lb(5),u.Ac("ngIf",t.showExpand),u.Lb(1),u.Ac("ngIf",t.showCollapse),u.Lb(4),u.Ac("ngIf",!t.input||0===t.input.length),u.Lb(1),u.Ac("ngForOf",t.input))},directives:[te.s,te.c,te.n,te.q,T.a,s.n,s.m,s.o,s.l,xe],pipes:[n.c],styles:[".table-container[_ngcontent-%COMP%]{width:100%;overflow-x:auto;background:#fff;border:1px solid grey}.table-toolbar[_ngcontent-%COMP%]{display:inline-block;width:100%;border-top:1px solid grey;border-left:1px solid grey;border-right:1px solid grey;background:#eee}.table-toolbar[_ngcontent-%COMP%]   .dlt-form-label[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px;padding-top:15px}.table-toolbar[_ngcontent-%COMP%]   .dlt-form-number-item[_ngcontent-%COMP%]{flex-direction:row;width:auto}.table-toolbar[_ngcontent-%COMP%]   .dlt-form-group[_ngcontent-%COMP%]{display:inline-block}.table-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 .4rem;text-decoration:none}.table-toolbar[_ngcontent-%COMP%]   .action-icons[_ngcontent-%COMP%]{display:inline-block;float:right}.string-table[_ngcontent-%COMP%]{width:100%;margin-top:-7px;color:#333;border-collapse:collapse}.string-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-weight:700}.string-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem;border-right:1px solid hsla(0,0%,50%,.3)}.string-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{font-weight:400}.string-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,50%,.3);border-width:0 1px 1px 0;width:100%;min-height:1.5rem}.string-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-right:1px solid hsla(0,0%,50%,.3);min-height:2rem;width:1%;max-width:350px}.string-table[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%], .string-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:100%;vertical-align:middle;white-space:nowrap}.string-table[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]{float:left;display:flex;line-height:2rem;padding-left:8px;overflow:hidden;text-overflow:ellipsis}.table-action-controls[_ngcontent-%COMP%]{align-self:right;opacity:0}.run-table-cell[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:stretch;padding:.2rem 9px .2rem 0;min-height:33px}.run-table-cell[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .run-table-cell[_ngcontent-%COMP%]   .value-txt[_ngcontent-%COMP%], .run-table-cell[_ngcontent-%COMP%]   empty-value-txt[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:14px;color:#666;text-align:left;line-height:20px;display:inline-block;padding-top:3px}.run-table-cell[_ngcontent-%COMP%]   .value-txt[_ngcontent-%COMP%]{color:#333;width:80%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;position:absolute}.run-table-cell[_ngcontent-%COMP%]   .run-input-control[_ngcontent-%COMP%]{height:inherit;width:310px}.run-table-cell[_ngcontent-%COMP%]   .run-input-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:25px}.run-table-cell[_ngcontent-%COMP%]:focus-within   .table-action-controls[_ngcontent-%COMP%], .run-table-cell[_ngcontent-%COMP%]:focus   .table-action-controls[_ngcontent-%COMP%], .run-table-cell[_ngcontent-%COMP%]:hover   .table-action-controls[_ngcontent-%COMP%]{opacity:1}.run-input-table-addicon[_ngcontent-%COMP%], .run-input-table-deleteicon[_ngcontent-%COMP%]{cursor:pointer;color:#666;font-size:14px}.table-action-controls[_ngcontent-%COMP%]   .run-input-table-addicon[_ngcontent-%COMP%]{margin-right:8px}.table-zoom[_ngcontent-%COMP%]{position:fixed;top:10%;height:70%;transform:scale(1.2);left:16%;background:#fff;z-index:1}div.pane[_ngcontent-%COMP%]{display:inline-block;width:100%;padding-left:.3rem;border-bottom:1px solid grey;background:#eee;height:43px}table.tb1[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:100%}td.td1[_ngcontent-%COMP%]{padding:0 0 0 3px;margin:0;vertical-align:bottom;vertical-align:middle}td.td1a[_ngcontent-%COMP%]{padding:0;margin:0;vertical-align:bottom;width:100%;text-align:right}.spinner1[_ngcontent-%COMP%]{width:4rem;margin-top:5px}.toolbar-label[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:12px;color:#333;text-align:left;margin-top:10px;margin-right:4px}.toolbar-label1[_ngcontent-%COMP%]{margin-left:10px}.run-list-container[_ngcontent-%COMP%]{border:1px solid grey;min-width:510px}"]}),e})();const Ge=["modalRef"],Ye=["valueSetModalRef"],et=["treeRef"],tt=["valueSetInputRef"];function it(e,t){1&e&&(u.dc(0),u.bd(1,"[ ]"),u.cc())}function nt(e,t){1&e&&(u.dc(0),u.fc(1,"span",10),u.bd(2," * "),u.ec(),u.cc())}function at(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"svc-input-control",11),u.pc("inputChange",function(t){return u.Rc(e),u.tc(5).onInputChange(t)}),u.ec(),u.cc()}if(2&e){const e=u.tc(2).$implicit;u.Lb(1),u.Ac("node",e)("value",e.value)}}function ct(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"list-control",12),u.pc("updateListValue",function(t){u.Rc(e);const i=u.tc(2).$implicit;return u.tc(3).updateStringValue(t,i)}),u.ec(),u.cc()}if(2&e){const e=u.tc(2).$implicit;u.Lb(1),u.Ac("node",e)("value",e.value)}}const rt=function(e){return{"table-zoom":e}};function st(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"div",13),u.fc(2,"string-table",14),u.pc("updateTableValue",function(t){u.Rc(e);const i=u.tc(2).$implicit;return u.tc(3).updateStringValue(t,i)})("expand",function(){return u.Rc(e),u.tc(5).expandTable()})("collapse",function(){return u.Rc(e),u.tc(5).collapseTable()}),u.ec(),u.ec(),u.cc()}if(2&e){const e=u.tc(2).$implicit,t=u.tc(3);u.Lb(1),u.Ac("ngClass",u.Gc(5,rt,t.expand)),u.Lb(1),u.Ac("node",e)("value",e.value)("showExpand",!t.expand)("showCollapse",t.expand)}}function ot(e,t){if(1&e&&(u.dc(0),u.Zc(1,at,2,2,"ng-container",2),u.Zc(2,ct,2,2,"ng-container",2),u.Zc(3,st,3,7,"ng-container",2),u.cc()),2&e){const e=u.tc().$implicit;u.Lb(1),u.Ac("ngIf","0"===e.field_dim),u.Lb(1),u.Ac("ngIf","1"===e.field_dim),u.Lb(1),u.Ac("ngIf","2"===e.field_dim)}}function lt(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"svc-input-control",11),u.pc("inputChange",function(t){return u.Rc(e),u.tc(5).onInputChange(t)}),u.ec(),u.cc()}if(2&e){const e=u.tc(2).$implicit;u.Lb(1),u.Ac("node",e)("value",e.value)}}function dt(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"list-control",12),u.pc("updateListValue",function(t){u.Rc(e);const i=u.tc(2).$implicit;return u.tc(3).updateObjectListValue(t,i)}),u.ec(),u.cc()}if(2&e){const e=u.tc(2).$implicit;u.Lb(1),u.Ac("node",e)("value",e.value)}}function ut(e,t){if(1&e&&(u.dc(0),u.Zc(1,lt,2,2,"ng-container",2),u.Zc(2,dt,2,2,"ng-container",2),u.cc()),2&e){const e=u.tc().$implicit;u.Lb(1),u.Ac("ngIf","0"===e.field_dim&&("recordarray"!==e.parentType||e.added_for_array)),u.Lb(1),u.Ac("ngIf","1"===e.field_dim)}}function ht(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"div",15),u.fc(2,"span",16),u.pc("click",function(){u.Rc(e);const t=u.tc(2).$implicit;return u.tc(3).addNode(t,null)}),u.ec(),u.fc(3,"span",17),u.pc("click",function(){u.Rc(e);const t=u.tc(2).$implicit;return u.tc(3).deleteNode(t)}),u.ec(),u.ec(),u.cc()}}const gt=function(){return[]};function pt(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"div",18),u.fc(2,"svc-action-toolbar",19),u.pc("addItem",function(){u.Rc(e);const t=u.tc(2).$implicit;return u.tc(3).addDocArrayValue(t)})("deleteItem",function(){u.Rc(e);const t=u.tc(2).$implicit;return u.tc(3).deleteDocArrayValue(t)})("inputChange",function(t){u.Rc(e);const i=u.tc(2).$implicit;return u.tc(3).updateDocArrayValue(t,i)}),u.ec(),u.ec(),u.cc()}if(2&e){const e=u.tc(2).$implicit,t=u.tc(3);u.Lb(1),u.Ac("ngClass",t.getListContainerClass(e)),u.Lb(1),u.Ac("input",e.child_added_for_array?e.rec_fields:u.Fc(2,gt))}}function ft(e,t){if(1&e&&(u.dc(0),u.fc(1,"span",20),u.bd(2),u.ec(),u.cc()),2&e){const e=u.tc(2).$implicit;u.Lb(2),u.cd(e.index)}}function mt(e,t){if(1&e&&(u.dc(0),u.Zc(1,ht,4,0,"ng-container",2),u.Zc(2,pt,3,3,"ng-container",2),u.Zc(3,ft,3,1,"ng-container",2),u.cc()),2&e){const e=u.tc().$implicit;u.Lb(1),u.Ac("ngIf",e.added_for_array),u.Lb(1),u.Ac("ngIf","1"===e.field_dim),u.Lb(1),u.Ac("ngIf",e.added_for_array)}}function bt(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"div",15),u.fc(2,"span",16),u.pc("click",function(){u.Rc(e);const t=u.tc(2).$implicit;return u.tc(3).addNode(t,null)}),u.ec(),u.fc(3,"span",17),u.pc("click",function(){u.Rc(e);const t=u.tc(2).$implicit;return u.tc(3).deleteNode(t)}),u.ec(),u.ec(),u.cc()}}function vt(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"div",18),u.fc(2,"svc-action-toolbar",19),u.pc("addItem",function(){u.Rc(e);const t=u.tc(2).$implicit;return u.tc(3).addDocArrayValue(t)})("deleteItem",function(){u.Rc(e);const t=u.tc(2).$implicit;return u.tc(3).deleteDocArrayValue(t)})("inputChange",function(t){u.Rc(e);const i=u.tc(2).$implicit;return u.tc(3).updateDocArrayValue(t,i)}),u.ec(),u.ec(),u.cc()}if(2&e){const e=u.tc(2).$implicit,t=u.tc(3);u.Lb(1),u.Ac("ngClass",t.getListContainerClass(e)),u.Lb(1),u.Ac("input",e.child_added_for_array?e.rec_fields:u.Fc(2,gt))}}function yt(e,t){if(1&e&&(u.dc(0),u.fc(1,"span",20),u.bd(2),u.ec(),u.cc()),2&e){const e=u.tc(2).$implicit;u.Lb(2),u.cd(e.index)}}function Ct(e,t){if(1&e&&(u.dc(0),u.Zc(1,bt,4,0,"ng-container",2),u.Zc(2,vt,3,3,"ng-container",2),u.Zc(3,yt,3,1,"ng-container",2),u.cc()),2&e){const e=u.tc().$implicit;u.Lb(1),u.Ac("ngIf",e.added_for_array),u.Lb(1),u.Ac("ngIf","1"===e.field_dim),u.Lb(1),u.Ac("ngIf",e.added_for_array)}}function St(e,t){if(1&e&&(u.fc(0,"div"),u.fc(1,"div",6),u.fc(2,"label",7),u.bd(3),u.Zc(4,it,2,0,"ng-container",2),u.Zc(5,nt,3,0,"ng-container",2),u.ec(),u.dc(6,8),u.Zc(7,ot,4,3,"ng-container",9),u.Zc(8,ut,3,2,"ng-container",9),u.Zc(9,mt,4,3,"ng-container",9),u.Zc(10,Ct,4,3,"ng-container",9),u.cc(),u.ec(),u.ec()),2&e){const e=t.$implicit;u.Lb(2),u.Cc("for","dataValue_",e.path,""),u.Lb(1),u.dd(" ",e.field_name," "),u.Lb(1),u.Ac("ngIf","1"===e.field_dim&&!e.added_for_array),u.Lb(1),u.Ac("ngIf","true"!==e.field_opt||null===e.field_opt),u.Lb(1),u.Ac("ngSwitch",e.field_type),u.Lb(1),u.Ac("ngSwitchCase","string"),u.Lb(1),u.Ac("ngSwitchCase","object"),u.Lb(1),u.Ac("ngSwitchCase","record"),u.Lb(1),u.Ac("ngSwitchCase","recref")}}function xt(e,t){if(1&e&&(u.dc(0),u.fc(1,"svc-tree",3,4),u.Zc(3,St,11,9,"div",5),u.ec(),u.cc()),2&e){const e=u.tc(2);u.Lb(1),u.Ac("input",e.topLevelParentNode.rec_fields)("showBranch",!0)("hasChildren",e._hasChildren)("getChildren",e._getChildren)("getNodeId",e._getNodeId)("getFieldType",e._getFieldType)("isList",e._isList)}}function Tt(e,t){if(1&e&&(u.fc(0,"div",1),u.Zc(1,xt,4,7,"ng-container",2),u.ec()),2&e){const e=u.tc();u.Lb(1),u.Ac("ngIf",e.topLevelParentNode&&e.topLevelParentNode.rec_fields&&e.topLevelParentNode.rec_fields.length>0)}}let Lt=(()=>{class e{constructor(e,t,i,n,a,c){this.serviceExecutionService=e,this.preferencesService=t,this.toastr=i,this.translate=n,this.sharedMessageService=a,this.changeDetectorRef=c,this.svcInputLoaded=new u.p,this.showTree=!1,this.values=null,this.valueSet={},this.valueSetList=[],this.documents={},this.valueSetName="",this.assetName=null,this.contextId=null,this.isDebugMode=!1,this.selectedValueSetRadioOption="0",this.subscriptions=[],this.loading=!1,this.canceled=!1,this.loading=!0,this.translate.setDefaultLang("en"),this.subscriptions.push(this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)}))}populateServiceTreeAndData(){this.subscriptions.push(this.preferencesService.getDocumentExpansion().subscribe(e=>{this.documentExpansion=e,this.subscriptions.push(this.serviceExecutionService.getCurrentServiceInfo().subscribe(e=>{this.assetName=e.serviceName,this.subscriptions.push(this.serviceExecutionService.getServiceSignature(this.assetName).subscribe(t=>{this.populateTreeAndData(t),this.subscriptions.push(this.serviceExecutionService.getServicePipeline(e.contextId).subscribe(e=>{this.servicePipeline=e,this.setValues(e),this.tempPipeline=I.cloneDeep(e),setTimeout(()=>{this.svcInputLoaded.emit()},400)}))}))}))}))}reopen(){this.canceled&&(this.removeUncheckedValues(this.topLevelParentNode),this.setValues(I.cloneDeep(this.tempPipeline)),this.changeDetectorRef.detectChanges()),this.canceled=!1}setCanceled(){this.canceled=!0}getListContainerClass(e){if(e)return("record"===e.field_type||"recref"===e.field_type)&&e.field_dim>"0"?"run-list-container-doc-list":"run-list-container"}populateDocumentTreeAndData(){this.subscriptions.push(this.preferencesService.getDocumentExpansion().subscribe(e=>{this.documentExpansion=e,this.subscriptions.push(this.serviceExecutionService.getCurrentDocumentInfo().subscribe(e=>{this.assetName=e.documentName,this.subscriptions.push(this.serviceExecutionService.getDocumentSignature(this.assetName).subscribe(t=>{this.populateTreeAndData(t),this.subscriptions.push(this.serviceExecutionService.getDocumentPipeline(e.documentId).subscribe(e=>{e&&e.document&&e.document.length>0&&(e=new M(e.document[0])),this.servicePipeline=e,this.setValues(e),this.tempPipeline=I.cloneDeep(e),setTimeout(()=>{this.svcInputLoaded.emit()},400)}))}))}))}))}populateTreeAndData(e){this.getLocalStorageValueSetData(e),this._hasChildren=this._hasChildren.bind(this),this._getChildren=this._getChildren.bind(this),this._getNodeId=this._getNodeId.bind(this),this._getFieldType=this._getFieldType.bind(this),this._isList=this._isList.bind(this),this.expand=!1}getPipelineForResubmit(){return new O(this.values)}getDocumentForResubmit(){return new M(this.values)}ngOnChanges(){}toggleTree(){this.showTree=!this.showTree}savePipeline(){return!!this.validateTree(this.topLevelParentNode)&&(this.tempPipeline=I.cloneDeep(this.getPipelineForResubmit()),!0)}saveDocument(){this.tempPipeline=I.cloneDeep(this.getDocumentForResubmit())}showTreeContent(){return!this.scheduleInvoke||this.showTree}getLocalStorageValueSetData(e){this.valueSetName&&(this.values=I.cloneDeep(this.valueSet[this.assetName][this.valueSetName])),this._getServiceSignature(e)}getValues(){return this.values}setValueName(e){this.valueName=e}getValueName(){return this.valueName}isValueChanged(){return this.valueSet[this.assetName]&&this.valueSet[this.assetName][this.valueSetName]&&!I.isEqual(this.values,this.valueSet[this.assetName][this.valueSetName])}_setValueSetDropdownList(){this.assetName&&this.valueSet&&this.valueSet[this.assetName]&&(this.valueSetList=Object.keys(this.valueSet[this.assetName]))}_getServiceSignature(e){let t=null;if(e&&e.documents&&e.documents.topLevelDocument&&e.documents.topLevelDocument.rec_fields){t=e.documents.topLevelDocument;for(const t in e.documents)e.documents[t]&&(this.documents[t]=e.documents[t])}else if(e&&e.inputDocument&&e.documents){const i=e.documents[e.inputDocument];i&&i.rec_fields&&(t=i);for(const t in e.documents)e.documents[t]&&(this.documents[t]=e.documents[t])}else if(e&&e.documents){const i=e.documents[this.assetName];i&&i.rec_fields&&(t=i)}t.uid=this.$generateUUID(),t.level=0,this._updateNodeData(t),this.topLevelParentNode=t,this.inputSignature=I.cloneDeep(this.topLevelParentNode.rec_fields),this.values&&this._constructTree(),this.loading=!1}_updateNodeData(e){if(!(e.level>this.documentExpansion.recursiveDocumentExpansionLevel)&&e.rec_fields){let t=-1;e.rec_fields.forEach((i,n,a)=>{const c=I.cloneDeep(i);a[n]=c,c.id=c.field_name,e&&(c.parentNode=e,c.uid=this.$generateUUID()),c.parentNode&&c.parentNode.field_dim>0&&("record"===c.parentNode.field_type||"recref"===c.parentNode.field_type)&&(t++,c.index=t),c.path=R.createPath(c,-1),this.handleRecordReference(c),c.rec_fields&&Array.isArray(c.rec_fields)&&c.rec_fields.length>0&&(this.loading&&(c.state={open:!0}),this._updateNodeData(c))})}}handleRecordReference(e){if("recref"===e.field_type){const t=this.documents[e.rec_ref];if(t&&(e.rec_fields=I.cloneDeep(t.rec_fields),e.rec_fields&&e.rec_fields.length>0))for(const i of e.rec_fields)i.level=e.level+1,i.path=null}}_hasChildren(e){return!("record"!==e.field_type&&"recref"!==e.field_type||"0"!==e.field_dim&&!e.child_added_for_array||!(e.level<=this.documentExpansion.recursiveDocumentExpansionLevel))}_getChildren(e){return e.rec_fields&&e.level<=this.documentExpansion.recursiveDocumentExpansionLevel?this._getRecFields(e):[]}_getRecFields(e){return("record"===e.field_type||"recref"===e.field_type)&&"0"===e.field_dim||"1"===e.field_dim&&e.child_added_for_array?(this._updateArrayChildParentType(e),e.rec_fields):[]}_updateArrayChildParentType(e){e.added_for_array&&"recref"!==e.parentType&&e.rec_fields.forEach(e=>{e.parentType="recordarray"})}_getNodeId(e){return e.field_name}_getFieldType(e){return"object"===e.field_type&&e.wrapper_type?e.wrapper_type:"2"===e.field_dim&&"string"===e.field_type?"table":e.field_type}_isList(e){return"1"===e.field_dim}addNode(e,t,i){let n=e;e.added_for_array&&(n=e.parentNode),n.rec_fields&&("record"!==n.field_type&&"recref"!==n.field_type||n.child_added_for_array)||(n.rec_fields=[]);const a=this._createNewNode(n,e,t);e.added_for_array?(n.rec_fields.splice(e.index+1,0,a),this._updateSiblingNodes(e.index+1,n.rec_fields,n)):n.rec_fields.push(a),a.path=null;let c=-1;"recref"===a.field_type&&a.parentNode&&"recref"===a.parentNode.field_type&&"1"===a.parentNode.field_dim&&(c=t),a.path=R.createPath(a,c),(t<0||i)&&this._initializeNodeValue(n,a,t),a.rec_fields&&a.rec_fields.length>0&&(a.state={open:!1},n.state={open:!1},this.expandNode(a)),this.expandNode(n)}_createNewNode(e,t,i){const n={};n.field_name=e.field_name,n.index=e.rec_fields.length,t.added_for_array&&(n.index=t.index+1,n.field_name=e.field_name),n.added_for_array=!0,n.field_dim="0",n.field_type=e.field_type,n.rec_fields=null,n.parentType=e.field_type,n.valueIndex=i,n.uid=this.$generateUUID(),n.state="record"===n.field_type||"recref"===n.field_type?{open:!0}:{open:!1},n.parentNode=e;let a=-1;return"recref"===n.field_type&&n.parentNode&&"recref"===n.parentNode.field_type&&"1"===n.parentNode.field_dim&&(a=i),n.path=R.createPath(n,a),n.value=this.getValue(n,i),"object"===e.field_type&&(n.wrapper_type=e.wrapper_type),"record"!==e.field_type&&"recref"!==e.field_type||this._createRecordArray(n,e,i),n}_createRecordArray(e,t,i){e.rec_fields=[];const n=this.getNodeById(t),a=I.cloneDeep(n.rec_fields);if(a&&a.length>0){e.rec_fields=a;let t=-1;a.forEach(a=>{t++,a.parentNode=e,a.path=R.createPath(a,t),a.dim&&"1"!==a.dim&&(i=-1),a.valueIndex=i,a.value=this.getValue(a,i),a.parentType=n.field_type,"record"===a.field_type||"recref"===a.field_type?this._updateNodeValueForRecord(a):a.value&&Array.isArray(a.value)&&this._createNodeArray(a,a.value)})}e.rec_fields=a,t.child_added_for_array||(t.child_added_for_array=!0)}_initializeNodeValue(e,t,i){t.valueKey=R.getKeyFromPath(t,i),this.updateRunValue(t.valueKey,"record"===e.field_type||"recref"===e.field_type?{}:"")}expandNode(e){this.treeRef&&e&&e.state&&!e.state.open&&this.treeRef.expandNode(e,null)}_updateSiblingNodes(e,t,i){for(let n=e;n<t.length;n++){t[n].field_name=i.field_name,t[n].index=n,t[n].path=R.createPath(t[n],n),t[n].valueKey=R.getKeyFromPath(t[n],-1);const e=t[n].path.split("/");t[n].value&&I.set(this.values,e,t[n].value)}}deleteNode(e){const t=e.index;if(e.parentNode&&e.parentNode.rec_fields){if(1===e.parentNode.rec_fields.length)e.parentNode.rec_fields=[],"record"!==e.parentNode.field_type&&"recref"!==e.parentNode.field_type||"1"!==e.parentNode.field_dim||(e.parentNode.rec_fields=this.getNodeById(e.parentNode).rec_fields,e.parentNode.child_added_for_array=!1);else{e.parentNode.rec_fields.splice(e.index,1);for(let i=t;i<e.parentNode.rec_fields.length;i++)e.parentNode.rec_fields[i].field_name=e.parentNode.field_name,e.parentNode.rec_fields[i].index=i,e.parentNode.rec_fields[i].path=R.createPath(e.parentNode.rec_fields[i],i)}this.deleteValue(e)}}deleteAllDocArrayValue(e,t){e.rec_fields=[],e.valueKey=R.getKeyFromPath(e,t),I.set(this.values,e.valueKey,[]),e.rec_fields=this.getNodeById(e.parentNode).rec_fields,e.child_added_for_array=!1}onInputChange(e){const t=e.event,i=e.node;try{t.stopPropagation()}catch(c){}let n=A.getValueBasedOnDataType(i,t);"java.lang.Boolean"===i.wrapper_type&&(null!=n&&(n=JSON.parse(n)),t&&null!=t.value&&(t.value=n)),i.uncheckedValue=this.getUncheckedValue(t);let a=-1;i.valueIndex>-1&&(a=i.valueIndex),i.valueKey=R.getKeyFromPath(i,a),this.updateRunValue(i.valueKey,n)}getUncheckedValue(e){return e&&e.target&&null!=e.target.value?e.target.value:null!=e.value?e.value:e.originalEvent&&null!=e.originalEvent.value?e.originalEvent.value:e.target&&e.target.textContent&&e.target.textContent.length>0&&"empty"!==e.target.textContent?e.target.textContent:e.picker&&e.picker.startDate&&e.picker.startDate._d?e.picker.startDate._d:null}updateRunValue(e,t){this.values||(this.values={}),I.set(this.values,e,t)}getNodeById(e,t){t||(t=this.inputSignature);for(let i=0;i<t.length;i++){if(e.field_name===t[i].field_name)return t[i];if(t[i].rec_fields){const n=this.getNodeById(e,t[i].rec_fields);if(n)return n}}}deleteValue(e){I.get(this.values,e.parentNode.valueKey).splice(e.index,1)}saveValues(){this.valueSet[this.assetName]||(this.valueSet[this.assetName]={}),this.valueName&&(this.valueSetName=this.valueName),this.valueSetName&&""!==this.valueSetName&&(this.valueSet[this.assetName][this.valueSetName]=this.values,localStorage.setItem("valueSet",JSON.stringify(this.valueSet)))}clearRunInput(){this._updateNodeData(this.topLevelParentNode)}updateStringValue(e,t){let i=-1;t.valueIndex>-1&&(i=t.valueIndex),t.valueKey=R.getKeyFromPath(t,i),this.updateRunValue(t.valueKey,e)}updateObjectListValue(e,t){let i=new Array;if(A.isNodeBoolean(t)){if(e&&e.length>0)for(let t=0;t<e.length;t++)"true"===e[t]||"false"===e[t]?i.push(JSON.parse(e[t])):null!==e[t]&&"null"!==e[t]||i.push(null)}else if(A.isNodeNumeric(t)){if(e&&e.length>0)for(let t=0;t<e.length;t++)"null"===e[t]?i.push(null):"string"==typeof e[t]?isNaN(e[t])||isNaN(parseFloat(e[t]))?i.push(null):i.push(JSON.parse(e[t])):i.push(null)}else i=e;this.updateRunValue(t.valueKey,i)}onValueNameSelection(e){const t=e.target.value;this.valueSetName=t,this.values=I.cloneDeep(this.valueSet[this.assetName][t]),this.values&&this._constructTree()}setValues(e){let t=[];e&&e.inputPipeline?t=e.inputPipeline:e&&e.document&&(t=e.document),this.values=t,this.values&&this._constructTree()}_constructTree(){this._updateNodeData(this.topLevelParentNode),this._updateTreeBasedOnValue(this.topLevelParentNode.rec_fields)}_updateTreeBasedOnValue(e){e.forEach(e=>{if(null!=e.path){e.valueKey=R.getKeyFromPath(e,-1);const t=I.get(this.values,e.valueKey);t?"string"===e.field_type||"object"===e.field_type?e.value=t:"record"!==e.field_type&&"recref"!==e.field_type||this._updateNodeValueForRecord(e):"object"===e.field_type&&"java.lang.Boolean"===e.wrapper_type&&!1===t&&(e.value=!1)}})}_updateNodeValueForRecord(e){e.valueKey=R.getKeyFromPath(e,-1);const t=I.get(this.values,e.valueKey);t&&"1"===e.field_dim&&t.length>0?this._createNodeArray(e,t):"0"===e.field_dim&&e.rec_fields&&e.rec_fields.length>0&&this._updateTreeBasedOnValue(e.rec_fields)}_createNodeArray(e,t){e.rec_fields=[];let i=-1;t.forEach(()=>{i++,this.addNode(e,i)})}getValue(e,t){return this.values||(this.values={}),e.valueKey=R.getKeyFromPath(e,t),I.get(this.values,e.valueKey)||("string"===e.field_type&&"2"===e.field_dim?[]:null)}updateDocArrayValue(e,t){const i=parseInt(e.target.value);let n=t.rec_fields.length;if(t.child_added_for_array||(n=0),!t.child_added_for_array&&i>0||t.child_added_for_array)if(i>n){const e=i-n;for(let i=0;i<e;i++)this.addDocArrayValue(t)}else{const e=t.rec_fields.length-i;for(let i=0;i<e;i++)this.deleteDocArrayValue(t)}}addDocArrayValue(e){let t=0;null==e.valueKey&&(e.valueKey=R.getKeyFromPath(e,-1));const i=I.get(this.values,e.valueKey);Array.isArray(i)&&(t=i.length),this.addNode(e,t,!0)}deleteDocArrayValue(e){e.child_added_for_array&&this.deleteNode(e.rec_fields[e.rec_fields.length-1])}expandTable(){this.expand=!0}collapseTable(){this.expand=!1}expandtolevel(e){this.treeRef.expandtolevel(2)}validateTree(e){let t=!0;return e&&e.rec_fields&&e.rec_fields.length>0&&e.rec_fields.forEach(e=>{let i=null;if(e.uncheckedValue?i=e.uncheckedValue:e.value&&(i=e.value),i)if("0"===e.field_dim){if(!this.validateValue(e,i))return void(t=!1)}else if("1"===e.field_dim&&Array.isArray(i)){if(i.forEach(i=>{this.validateValue(e,i)||(t=!1)}),!t)return;if("java.lang.Byte"===e.wrapper_type){const t=new Array(i.length);let n=-1;i.forEach(e=>{if(n++,null!=e){const i=e+"";t[n]=1===i.indexOf("x")||1===i.indexOf("o")?A.parseByteValue(e):+e}else t[n]=e}),I.set(this.values,e.valueKey,t)}}this.validateTree(e)||(t=!1)}),t}removeUncheckedValues(e){e&&e.rec_fields&&e.rec_fields.length>0&&e.rec_fields.forEach(e=>{e.uncheckedValue&&(e.uncheckedValue=null),this.removeUncheckedValues(e),this.changeDetectorRef.detectChanges()})}validateValue(e,t){let i=null;if("object"===e.field_type&&("java.lang.Short"===e.wrapper_type?i=A.validateShort(t,this.translate):"java.lang.Integer"===e.wrapper_type?i=A.validateInteger(t,this.translate):"java.lang.Long"===e.wrapper_type?i=A.validateLong(t,this.translate):"java.lang.Double"===e.wrapper_type?i=A.validateDouble(t,this.translate):"java.lang.Float"===e.wrapper_type?i=A.validateFloat(t,this.translate):"java.util.Date"===e.wrapper_type?i=A.validateDate(t,this.translate):"java.lang.Character"===e.wrapper_type?i=A.validateCharacter(t,this.translate):"java.lang.Byte"===e.wrapper_type&&(i=A.validateByte(e,t,this.translate),null===i&&"0"===e.field_dim&&I.set(this.values,e.valueKey,e.value))),i){const e=this.translate.instant("serviceinput.validate.invalid.entry");return this.toastr.error(i,e),!1}return!0}$generateUUID(){return Object(k.a)()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(C),u.Zb(r.PreferencesService),u.Zb(x.b),u.Zb(n.d),u.Zb(h.A),u.Zb(u.h))},e.\u0275cmp=u.Tb({type:e,selectors:[["service-run-input"]],viewQuery:function(e,t){if(1&e&&(u.hd(Ge,1),u.hd(Ye,1),u.hd(et,1),u.hd(tt,1)),2&e){let e;u.Oc(e=u.qc())&&(t.modalRef=e.first),u.Oc(e=u.qc())&&(t.valueSetModalRef=e.first),u.Oc(e=u.qc())&&(t.treeRef=e.first),u.Oc(e=u.qc())&&(t.valueSetInputRef=e.first)}},inputs:{scheduleInvoke:"scheduleInvoke",treeInput:"treeInput"},outputs:{svcInputLoaded:"svcInputLoaded"},features:[u.Jb],decls:1,vars:1,consts:[["class","run-tree-container",4,"ngIf"],[1,"run-tree-container"],[4,"ngIf"],[3,"input","showBranch","hasChildren","getChildren","getNodeId","getFieldType","isList"],["treeRef",""],[4,"treeNode"],[1,"node-template"],[1,"dlt-form-label","test-input-label",3,"for"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"field-required"],[3,"node","value","inputChange"],[3,"node","value","updateListValue"],[1,"p-0","table-container",3,"ngClass"],[3,"node","value","showExpand","showCollapse","updateTableValue","expand","collapse"],[1,"arr-action-control"],[1,"test-input-addicon","fa","fa-plus-circle","p-0",3,"click"],[1,"test-input-deleteicon","fa","fa-trash",3,"click"],[3,"ngClass"],[3,"input","addItem","deleteItem","inputChange"],[1,"array-index"]],template:function(e,t){1&e&&u.Zc(0,Tt,2,1,"div",0),2&e&&u.Ac("ngIf",t.showTreeContent())},directives:[s.n,Y,E,s.p,s.q,xe,Fe,s.l,Je,Te],styles:['.value-set-container[_ngcontent-%COMP%]{display:inline-block;width:100%;padding:0 0 1.5rem;margin-top:12px}.value-set-container[_ngcontent-%COMP%]   .dlt-form-item[_ngcontent-%COMP%]{width:352px;display:inline-block}.save-value-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.run-tree-container[_ngcontent-%COMP%]{overflow:hidden;padding:0}.run-list-container[_ngcontent-%COMP%]{border:1px solid grey;width:352px}.run-list-container-doc-list[_ngcontent-%COMP%]{border:1px solid grey;min-width:600px;height:43px}  .run-tree-container .tree-context{width:80%;position:relative}  .run-tree-container .tree-node{padding-bottom:.5rem}  .run-tree-container .showBorder:before{content:"";border-left:1px solid #e5e5e4;position:absolute;bottom:-2px;width:.75em;left:-1.46rem;top:28px}  .run-tree-container .index-border{border-left:1px solid #e5e5e4}  .run-input-control{width:500px}  input{box-shadow:none}.value-set-label[_ngcontent-%COMP%]{font-family:Roboto-Medium,Helvetica,Arial,sans-serif;line-height:16px}.test-input-label[_ngcontent-%COMP%], .value-set-label[_ngcontent-%COMP%]{font-size:14px;color:#333;text-align:left}.test-input-label[_ngcontent-%COMP%]{font-family:Roboto-Regular,Helvetica,Arial,sans-serif;line-height:20px;padding-bottom:2px}.test-input-addicon[_ngcontent-%COMP%], .test-input-deleteicon[_ngcontent-%COMP%]{font-size:1rem;display:none;cursor:pointer}.test-input-addicon[_ngcontent-%COMP%]{margin-right:8px}.node-template[_ngcontent-%COMP%]{padding:0 .5rem 0 0}.node-template[_ngcontent-%COMP%]:hover   .test-input-addicon[_ngcontent-%COMP%], .node-template[_ngcontent-%COMP%]:hover   .test-input-deleteicon[_ngcontent-%COMP%]{display:inline-block}.btn-groups[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.m-20[_ngcontent-%COMP%]{margin:0 1rem}.mr-8[_ngcontent-%COMP%]{margin-right:8px!important}.run-input-switch[_ngcontent-%COMP%]{margin:.3rem 0}.input-control[_ngcontent-%COMP%]{margin-left:10px;display:inline-block;padding:0}.field-required[_ngcontent-%COMP%]{color:#c70039;font-weight:900}.table-container[_ngcontent-%COMP%]{transition:transform .1s;min-width:510px}.arr-action-control[_ngcontent-%COMP%]{margin-left:1rem;display:inline-block}.array-index[_ngcontent-%COMP%]{border:1px solid #979797;color:#666;font-size:12px;height:1rem;left:-5.7rem;line-height:.9rem;position:absolute;text-align:center;top:7px;width:1rem;background:#fafafa;font-weight:500}.value-set-container[_ngcontent-%COMP%]   .sc-link-color[_ngcontent-%COMP%]{color:#1776bf;font-weight:400;font-size:14px;text-align:left}.value-set-container[_ngcontent-%COMP%]   .sc-link-color[_ngcontent-%COMP%]:hover{cursor:pointer}']}),e})();const wt=["runTreeRef"],It=["op"],Mt=["pipelineDocumentInput"],Ot=function(e){return{docName:e}},_t=function(){return{width:"70vw"}},Pt=function(){return{"overflow-x":"auto","overflow-y":"auto"}};function Dt(e,t){if(1&e){const e=u.gc();u.fc(0,"div",7),u.fc(1,"div",8),u.fc(2,"div",9),u.fc(3,"div",10),u.fc(4,"div",11),u.fc(5,"h1"),u.bd(6),u.uc(7,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(8,"div",12),u.fc(9,"div",10),u.fc(10,"div",13),u.fc(11,"button",14),u.pc("click",function(){return u.Rc(e),u.tc().returnToList()}),u.ac(12,"img",15),u.uc(13,"translate"),u.fc(14,"label",16),u.bd(15),u.uc(16,"translate"),u.ec(),u.ec(),u.fc(17,"div",17),u.fc(18,"button",18),u.pc("click",function(){return u.Rc(e),u.tc().refreshDocumentDetails()}),u.uc(19,"translate"),u.uc(20,"translate"),u.ac(21,"i",19),u.ec(),u.ec(),u.fc(22,"div",20),u.fc(23,"button",21,22),u.pc("click",function(){return u.Rc(e),u.tc().onShowOverlayPanel()}),u.uc(25,"translate"),u.uc(26,"translate"),u.ac(27,"i",23),u.ec(),u.fc(28,"div",24),u.fc(29,"button",25),u.pc("click",function(){return u.Rc(e),u.tc().editDocument()})("focusout",function(t){return u.Rc(e),u.tc().opFocusLost(t)})("keydown.enter",function(){return u.Rc(e),u.tc().editDocument()}),u.uc(30,"translate"),u.bd(31),u.uc(32,"translate"),u.ec(),u.fc(33,"button",26),u.pc("click",function(){return u.Rc(e),u.tc().resubmitDocument()})("focusout",function(t){return u.Rc(e),u.tc().opFocusLost(t)})("keydown.enter",function(){return u.Rc(e),u.tc().resubmitDocument()}),u.uc(34,"translate"),u.bd(35),u.uc(36,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ac(37,"hr"),u.fc(38,"table",27),u.ac(39,"col",28),u.ac(40,"col",29),u.fc(41,"tr"),u.fc(42,"td",30),u.fc(43,"div",31),u.fc(44,"div",32),u.fc(45,"div",8),u.fc(46,"div",33),u.fc(47,"isac-lib-simple-card",34),u.uc(48,"translate"),u.ac(49,"hr",35),u.fc(50,"div",36),u.fc(51,"div",37),u.ac(52,"img",38),u.ec(),u.ec(),u.fc(53,"div",39),u.fc(54,"div",37),u.fc(55,"div",40),u.bd(56),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(57,"div",41),u.fc(58,"div",42),u.fc(59,"isac-lib-simple-card",34),u.uc(60,"translate"),u.fc(61,"table",43),u.ac(62,"col",44),u.ac(63,"col",45),u.fc(64,"tr"),u.fc(65,"td",46),u.uc(66,"translate"),u.bd(67),u.uc(68,"translate"),u.ec(),u.fc(69,"td",47),u.bd(70),u.ec(),u.ec(),u.fc(71,"tr"),u.fc(72,"td",46),u.uc(73,"translate"),u.bd(74),u.uc(75,"translate"),u.ec(),u.fc(76,"td",47),u.bd(77),u.ec(),u.ec(),u.fc(78,"tr"),u.fc(79,"td",46),u.uc(80,"translate"),u.bd(81),u.uc(82,"translate"),u.ec(),u.fc(83,"td",47),u.bd(84),u.ec(),u.ec(),u.fc(85,"tr"),u.fc(86,"td",46),u.uc(87,"translate"),u.bd(88),u.uc(89,"translate"),u.ec(),u.fc(90,"td",48),u.uc(91,"preferredDateTime"),u.bd(92),u.uc(93,"preferredDateTime"),u.ec(),u.ec(),u.fc(94,"tr"),u.fc(95,"td",46),u.uc(96,"translate"),u.bd(97),u.uc(98,"translate"),u.ec(),u.fc(99,"td",49),u.uc(100,"preferredDateTime"),u.bd(101),u.uc(102,"preferredDateTime"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(103,"div",50),u.fc(104,"div",51),u.fc(105,"div",52),u.fc(106,"isac-lib-simple-card",34),u.uc(107,"translate"),u.ac(108,"hr",35),u.fc(109,"div",39),u.fc(110,"div",53),u.fc(111,"div",54),u.bd(112),u.uc(113,"preferredDateTime"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(114,"p-dialog",55,56),u.pc("visibleChange",function(t){return u.Rc(e),u.tc().displayEditDocument=t})("onHide",function(){return u.Rc(e),u.tc().cancelDocumentEdit()}),u.fc(116,"p-header"),u.fc(117,"div",57),u.fc(118,"div",58),u.bd(119),u.uc(120,"translate"),u.ec(),u.ec(),u.ec(),u.fc(121,"service-run-input",59,60),u.pc("svcInputLoaded",function(){return u.Rc(e),u.tc().documentInputLoaded()}),u.ec(),u.fc(123,"p-footer"),u.fc(124,"div",61),u.fc(125,"button",62),u.pc("click",function(){return u.Rc(e),u.tc().cancelDocumentEdit()}),u.uc(126,"translate"),u.uc(127,"translate"),u.bd(128),u.uc(129,"translate"),u.ec(),u.fc(130,"button",63),u.pc("click",function(){return u.Rc(e),u.tc().resubmitDocument(!0)}),u.uc(131,"translate"),u.uc(132,"translate"),u.bd(133),u.uc(134,"translate"),u.ec(),u.fc(135,"button",64),u.pc("click",function(){return u.Rc(e),u.tc().saveAndCloseDocumentEdit()}),u.uc(136,"translate"),u.uc(137,"translate"),u.bd(138),u.uc(139,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec()}if(2&e){const e=u.tc();u.Lb(6),u.cd(u.wc(7,65,"monitoring.documents.document.name",u.Gc(154,Ot,e.documentDetail.DOCUMENTNAME))),u.Lb(6),u.Bc("alt",u.vc(13,68,"monitoring.documents.return.to.list")),u.Lb(3),u.cd(u.vc(16,70,"monitoring.documents.return.to.list")),u.Lb(3),u.Bc("pTooltip",u.vc(19,72,"monitoring.documents.refresh.document.detail")),u.Mb("aria-label",u.vc(20,74,"monitoring.documents.refresh.document.detail")),u.Lb(5),u.Bc("pTooltip",u.vc(25,76,"monitoring.documents.document.actions")),u.Mb("aria-label",u.vc(26,78,"monitoring.documents.document.actions")),u.Lb(6),u.Mb("aria-label",u.vc(30,80,"monitoring.documents.edit.document.button")),u.Lb(2),u.dd(" ",u.vc(32,82,"monitoring.documents.edit.document.button")," "),u.Lb(2),u.Mb("aria-label",u.vc(34,84,"monitoring.documents.document.resubmit.button")),u.Lb(2),u.dd(" ",u.vc(36,86,"monitoring.documents.document.resubmit.button")," "),u.Lb(12),u.Bc("label",u.vc(48,88,"monitoring.documents.document.status")),u.Lb(5),u.Bc("src",e.getStatusImage(),u.Uc),u.Bc("alt",e.getStatusText()),u.Lb(4),u.cd(e.getStatusText()),u.Lb(3),u.Bc("label",u.vc(60,90,"monitoring.documents.document.information.section")),u.Lb(6),u.Bc("pTooltip",u.vc(66,92,"monitoring.documents.document.name1")),u.Lb(2),u.dd(" ",u.vc(68,94,"monitoring.documents.document.name1")," "),u.Lb(2),u.Bc("pTooltip",e.documentDetail.DOCUMENTNAME),u.Lb(1),u.dd(" ",e.documentDetail.DOCUMENTNAME," "),u.Lb(2),u.Bc("pTooltip",u.vc(73,96,"monitoring.documents.document.id")),u.Lb(2),u.dd(" ",u.vc(75,98,"monitoring.documents.document.id")," "),u.Lb(2),u.Bc("pTooltip",e.documentDetail.DOCUMENTID),u.Lb(1),u.dd(" ",e.documentDetail.DOCUMENTID," "),u.Lb(2),u.Bc("pTooltip",u.vc(80,100,"monitoring.documents.document.client.id")),u.Lb(2),u.dd(" ",u.vc(82,102,"monitoring.documents.document.client.id")," "),u.Lb(2),u.Bc("pTooltip",e.documentDetail.SERVERID),u.Lb(1),u.dd(" ",e.documentDetail.SERVERID," "),u.Lb(2),u.Bc("pTooltip",u.vc(87,104,"monitoring.documents.document.enqueued")),u.Lb(2),u.dd(" ",u.vc(89,106,"monitoring.documents.document.enqueued")," "),u.Lb(2),u.Bc("pTooltip",u.xc(91,108,e.documentDetail.ENQUEUETIMESTAMP,e.preferencesService,e.dateTimePreferenceService)),u.Lb(2),u.dd(" ",u.xc(93,112,e.documentDetail.ENQUEUETIMESTAMP,e.preferencesService,e.dateTimePreferenceService)," "),u.Lb(3),u.Bc("pTooltip",u.vc(96,116,"monitoring.documents.document.timestamp")),u.Lb(2),u.dd(" ",u.vc(98,118,"monitoring.documents.document.timestamp")," "),u.Lb(2),u.Bc("pTooltip",u.xc(100,120,e.documentDetail.AUDITTIMESTAMP,e.preferencesService,e.dateTimePreferenceService)),u.Lb(2),u.dd(" ",u.xc(102,124,e.documentDetail.AUDITTIMESTAMP,e.preferencesService,e.dateTimePreferenceService)," "),u.Lb(5),u.Bc("label",u.vc(107,128,"monitoring.document.lastUpdatedCol")),u.Lb(6),u.dd(" ",u.xc(113,130,e.documentDetail.AUDITTIMESTAMP,e.preferencesService,e.dateTimePreferenceService)," "),u.Lb(2),u.Wc(u.Fc(156,_t)),u.Ac("closeOnEscape",!0)("visible",e.displayEditDocument)("showHeader",!0)("draggable",!0)("resizable",!0)("modal",!0)("contentStyle",u.Fc(157,Pt))("focusTrap",!0)("maximizeIcon","dlt-icon-fullscreen")("minimizeIcon","dlt-icon-fullscreen-exit")("closeIcon","dlt-icon-close")("baseZIndex",1)("maximizable",!0)("blockScroll",!0)("closable",!0),u.Lb(5),u.cd(u.vc(120,134,"monitoring.documents.edit.document.button")),u.Lb(6),u.Bc("value",u.vc(127,138,"common.cancel.button.text")),u.Mb("aria-label",u.vc(126,136,"common.cancel.button.text")),u.Lb(3),u.dd(" ",u.vc(129,140,"common.cancel.button.text")," "),u.Lb(2),u.Bc("value",u.vc(132,144,"monitoring.services.service.resubmit.button")),u.Mb("aria-label",u.vc(131,142,"monitoring.services.service.resubmit.button")),u.Lb(3),u.dd(" ",u.vc(134,146,"monitoring.services.service.resubmit.button")," "),u.Lb(2),u.Bc("value",u.vc(137,150,"common.save.button.text")),u.Mb("aria-label",u.vc(136,148,"common.save.button.text")),u.Lb(3),u.dd(" ",u.vc(139,152,"common.save.button.text")," ")}}let At=(()=>{class e{constructor(e,t,i,n,a,c,r,s,o,l){this.route=e,this.location=t,this.translate=i,this.sharedMessageService=n,this.documentAPIService=a,this.monitoringLayoutService=c,this.serviceExecutionService=r,this.router=s,this.toastr=o,this.preferencesService=l,this.homeLink="#/integration/dashboard/overview",this.documentsLink="/monitoring/documents",this.subscriptions=[],this.displayEditDocument=!1,this.subscriptions.push(e.params.subscribe(e=>{this.translate.setDefaultLang("en"),this.subscriptions.push(this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})),this.refreshDocumentDetails()}))}refreshDocumentDetails(){this.documentId=this.route.snapshot.paramMap.get("id"),this.monitoringLayoutService.changeNavItem(this.router.url),this.getDocumentDetails()}getDocumentDetails(){this.subscriptions.push(this.documentAPIService.getDocumentDetails(this.documentId).subscribe(e=>{const t=e=e;this.documentDetail=t.details[0],this.serviceExecutionService.setCurrentDocumentInfo(this.documentDetail.DOCUMENTNAME,this.documentId)}))}getStatusImage(){switch(this.documentDetail.STATUS){case 0:return"assets/images/monitoring/Status-Broker-v1-vec24.svg";case 4:return"assets/images/monitoring/failed.svg";case 512:return"assets/images/monitoring/Status-RetriesExceeded-round-vec25.svg";case 32768:return"assets/images/monitoring/resubmitted.svg";case 32770:return"assets/images/monitoring/Status-InDoubt-vec24.svg"}}getStatusText(){switch(this.documentDetail.STATUS){case 0:return this.translate.instant("monitoring.status.broker");case 4:return this.translate.instant("monitoring.status.failed");case 512:return this.translate.instant("monitoring.status.retries.exceeded");case 32768:return this.translate.instant("monitoring.status.resubmitted");case 32770:return this.translate.instant("monitoring.status.in.doubt")}}returnToList(){this.location.back()}editDocument(){this.op&&this.op.nativeElement.click(),this.serviceTreeAndDataLoaded?(this.displayEditDocument=!0,this.makePipelineDialogAccessible()):this.runTreeRef.populateDocumentTreeAndData(),this.serviceTreeAndDataLoaded=!0}documentInputLoaded(){this.displayEditDocument=!0,this.makePipelineDialogAccessible()}makePipelineDialogAccessible(){setTimeout(()=>{const e=document.getElementById("documentPipelineInput");h.J.makeDialogAccessible(e,this.translate.instant("common.restore.title"),this.translate.instant("common.maximize.title"),this.translate.instant("common.close.title"));const t=document.getElementById("minimizeMaximize");t&&(t.focus(),this.minMaxEvt&&t.removeEventListener("click",this.minMaxEvt),this.minMaxEvt=this.makePipelineDialogAccessible.bind(this),t.addEventListener("click",this.minMaxEvt))},200)}cancelDocumentEdit(){this.displayEditDocument=!1}saveAndCloseDocumentEdit(){this.runTreeRef.saveDocument(),this.displayEditDocument=!1,this.toastr.success(this.translate.instant("monitoring.documents.document.save.success.msg"),this.translate.instant("monitoring.documents.document.save.success.title"))}resubmitDocument(e){this.op&&!e&&this.op.nativeElement.click(),setTimeout(()=>{const e=this.runTreeRef.getDocumentForResubmit();this.subscriptions.push(this.documentAPIService.resubmitDocument(this.documentId,this.documentDetail.DOCUMENTNAME,e).subscribe(e=>{e&&e.length>0?this.toastr.error(this.translate.instant("monitoring.documents.document.resubmit.failure.msg",{errMsg:e}),this.translate.instant("monitoring.documents.document.resubmit.failure.title")):(this.runTreeRef.saveDocument(),this.displayEditDocument=!1,this.toastr.success(this.translate.instant("monitoring.documents.document.resubmit.success.msg"),this.translate.instant("monitoring.documents.document.resubmit.success.title")))}))},500)}onShowOverlayPanel(){setTimeout(()=>{const e=document.getElementById("editDocumentPipeline");e&&e.focus()},100)}opFocusLost(e){if(e&&e.target&&"resubmitDocument"===e.target.id){if(e.relatedTarget&&"editDocumentPipeline"===e.relatedTarget.id)return}else if(e&&e.target&&"editDocumentPipeline"===e.target.id&&e.relatedTarget&&"resubmitDocument"===e.relatedTarget.id)return;this.op.nativeElement.click()}goToHomePage(){this.router.navigateByUrl(this.homeLink)}goToDocumentListPage(){this.router.navigateByUrl(this.documentsLink)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(d.a),u.Zb(s.j),u.Zb(n.d),u.Zb(h.A),u.Zb(m),u.Zb(S),u.Zb(C),u.Zb(d.e),u.Zb(x.b),u.Zb(r.PreferencesService))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-document-details"]],viewQuery:function(e,t){if(1&e&&(u.hd(wt,1),u.hd(It,1),u.hd(Mt,1)),2&e){let e;u.Oc(e=u.qc())&&(t.runTreeRef=e.first),u.Oc(e=u.qc())&&(t.op=e.first),u.Oc(e=u.qc())&&(t.pipelineInput=e.first)}},inputs:{documentDetail:"documentDetail"},decls:16,vars:10,consts:[[1,"d-flex","flex-row"],[1,"breadcrumbs-container","flex-grow-1"],["aria-label","breadcrumb",1,"dlt-breadcrumbs"],["routerLink","/integration/dashboard/overview","tabindex","0",1,"dlt-links"],["routerLink","/monitoring/documents",1,"dlt-links"],["aria-current","page",1,"dlt-links"],["class","detailcontainer",4,"ngIf"],[1,"detailcontainer"],[1,"row"],[1,"col-md-6"],[1,"dlg-title-wrapper"],[1,"page-title"],[1,"col-md-6","text-right"],[1,"btn-container"],["id","returnToDocumentsList",1,"iconButton1",3,"click"],["src","assets/images/return-to-previous-arrow-icon24.svg",3,"alt"],[1,"lbl-return"],[1,"dlt-dropdown"],["showDelay","250",1,"dlt-button","dlt-button-icon","iconButton2",3,"pTooltip","click"],[1,"dlt-icon-refresh","dlg-icon-btn"],["ngbDropdown","","placement","bottom-right",1,"dlt-dropdown","ngbDropdown"],["ngbDropdownToggle","","id","documentActionsDropDown","showDelay","250","tabindex","0",1,"dlt-button","dlt-button-icon","hide-caret","iconButton2",3,"pTooltip","click"],["op",""],[1,"dlt-icon-more-menu","actions-menu","dlg-icon-btn"],["ngbDropdownMenu","",1,"isac-overflow-menu"],["ngbDropdownItem","","id","editDocumentPipeline","tabindex","0",3,"click","focusout","keydown.enter"],["ngbDropdownItem","","id","resubmitDocument","tabindex","0",3,"click","focusout","keydown.enter"],["id","mainTable",1,"main"],["width","100%"],["height","100%"],["valign","top","height","100%"],[1,"row","rowone"],[1,"colone"],[1,"doc-card1"],[3,"label"],[1,"hr1"],[1,"col-1"],[1,"card2"],[2,"width","36px","height","36px",3,"src","alt"],[1,"col-2"],[1,"doc-data1"],[1,"row","row-narrow"],[1,"doc-card2"],[1,"doc-info"],["width","30%"],["width","70%"],["showDelay","250","tooltipPosition","top",1,"doc-data3","doc-info",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"doc-data4","doc-info",3,"pTooltip"],["id","docEnqueued","showDelay","250","tooltipPosition","top",1,"doc-data4","doc-info",3,"pTooltip"],["id","docTimestamp","showDelay","250","tooltipPosition","top",1,"doc-data4","doc-info",3,"pTooltip"],[1,"float-left","d-flex","align-items-stretch","coltwo"],[2,"width","100%"],[1,"doc-card3"],[1,"card2a"],["id","lastUpdated",1,"doc-data1a"],["id","documentPipelineInput","position","center",3,"closeOnEscape","visible","showHeader","draggable","resizable","modal","contentStyle","focusTrap","maximizeIcon","minimizeIcon","closeIcon","baseZIndex","maximizable","blockScroll","closable","visibleChange","onHide"],["pipelineDocumentInput",""],[1,"dlg-title-wrapper","doc-title-wrapper"],[1,"dlg-title-row"],[3,"svcInputLoaded"],["runTreeRef",""],[1,"dlg-footer-buttons-wrapper","doc-footer-wrapper"],["id","document_pipeline_cancel",1,"dlt-button","dlt-button-secondary","cancel-modal",3,"value","click"],["id","document_pipeline_resubmit",1,"dlt-button","dlt-button-secondary",3,"value","click"],["id","document_pipeline_save",1,"dlt-button","dlt-button-primary","save-modal","dlg-rt-btn",3,"value","click"]],template:function(e,t){1&e&&(u.fc(0,"div",0),u.fc(1,"div",1),u.fc(2,"ol",2),u.fc(3,"li"),u.fc(4,"a",3),u.bd(5),u.uc(6,"translate"),u.ec(),u.ec(),u.fc(7,"li"),u.fc(8,"a",4),u.bd(9),u.uc(10,"translate"),u.ec(),u.ec(),u.fc(11,"li"),u.fc(12,"a",5),u.bd(13),u.uc(14,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.Zc(15,Dt,140,158,"div",6)),2&e&&(u.Lb(5),u.cd(u.vc(6,4,"masthead.administration")),u.Lb(4),u.cd(u.vc(10,6,"monitoring.documents.tab")),u.Lb(4),u.cd(u.vc(14,8,"monitoring.documents.document.detail.pagetitle")),u.Lb(2),u.Ac("ngIf",t.documentDetail))},directives:[d.h,s.n,T.a,a.b,a.f,a.e,a.d,r.SimpleCardComponent,L.a,w.g,Lt,w.f],pipes:[n.c,h.t],styles:['.breadcrumbs-container[_ngcontent-%COMP%]{padding-top:.7rem}.rightSideFixedcontainer[_ngcontent-%COMP%]{padding-top:.8rem;margin-right:25px}.detailcontainer[_ngcontent-%COMP%]{width:100%;height:100%;padding:1rem;overflow:auto}.page-title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;width:100%;padding-left:.25rem;font-family:Roboto,Helvetica,Arial,sans-serif}table.main[_ngcontent-%COMP%]{width:"100%";height:"100%";margin-left:.46rem}.iconButton[_ngcontent-%COMP%]{font-size:1.25rem}.iconButton[_ngcontent-%COMP%], .iconButton1[_ngcontent-%COMP%]{font-weight:400;vertical-align:middle;margin-right:5px}.iconButton1[_ngcontent-%COMP%]{font-size:1.46rem;margin-top:0;margin-bottom:0;padding-right:-15px;background:none;padding-top:0;padding-bottom:2px;border:2px solid transparent;outline:none}.iconButton1[_ngcontent-%COMP%]:hover{border:2px solid #1776bf}.iconButton1[_ngcontent-%COMP%]:focus{border-color:#1776bf}.iconButton2[_ngcontent-%COMP%]{font-size:1.46rem;font-weight:400;vertical-align:middle;margin-right:7px;border:2px solid transparent;background:none;outline:none;color:#000}.iconButton2[_ngcontent-%COMP%]:hover{border:2px solid #1776bf}.lbl-return[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:1.02rem;vertical-align:middle;padding-top:0;color:#1776bf;margin:0 10px 2px 5px;cursor:pointer}.btn-container[_ngcontent-%COMP%]{width:100%;padding:0}.doc-data1[_ngcontent-%COMP%]{margin-bottom:1rem;margin-left:1rem}.doc-data1[_ngcontent-%COMP%], .doc-data1a[_ngcontent-%COMP%]{margin-top:.22rem;font-size:1.25rem;font-family:Roboto,Helvetica,Arial,sans-serif;white-space:nowrap}.doc-data1a[_ngcontent-%COMP%]{margin-left:0;min-width:280px}.doc-data2[_ngcontent-%COMP%], .doc-data2a[_ngcontent-%COMP%]{margin-top:.22rem;margin-left:1rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif}.doc-data3[_ngcontent-%COMP%]{margin-left:2rem;font-weight:500}.doc-data3[_ngcontent-%COMP%], .doc-data4[_ngcontent-%COMP%]{margin-top:-.6rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif;white-space:nowrap}.doc-data4[_ngcontent-%COMP%]{margin-left:0}.doc-data5[_ngcontent-%COMP%]{margin-top:-.6rem;margin-left:-2rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif;color:#1d7ac1;white-space:nowrap;text-align:left}.doc-card[_ngcontent-%COMP%]{padding-bottom:2rem}.doc-card[_ngcontent-%COMP%], .doc-card1[_ngcontent-%COMP%]{padding-left:1.05rem;width:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.doc-card1[_ngcontent-%COMP%]{padding-right:1.05rem;padding-bottom:2.12rem;min-width:500px}.doc-card2[_ngcontent-%COMP%]{padding-left:1.05rem;padding-right:1.05rem;min-width:500px}.doc-card2[_ngcontent-%COMP%], .doc-card3[_ngcontent-%COMP%]{padding-bottom:.9rem;width:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.doc-card3[_ngcontent-%COMP%]{margin-left:0;padding-left:.1rem;min-width:300px;height:100%}.hr1[_ngcontent-%COMP%]{width:100%;margin-left:1.65rem;margin-right:1.65rem;margin-top:.4rem}.hr1a[_ngcontent-%COMP%]{margin-top:.4rem}.hr1a[_ngcontent-%COMP%], .hr1b[_ngcontent-%COMP%]{width:100%;margin-left:1rem;margin-right:1rem}.hr1b[_ngcontent-%COMP%]{margin-top:-1.6rem}.vr1[_ngcontent-%COMP%]{width:10px;size:500;position:absolute;top:0;bottom:0;left:150px}.hr2[_ngcontent-%COMP%]{width:100%;margin-left:1.65rem;margin-right:1.65rem;margin-top:.4rem;border-top:0}.card2[_ngcontent-%COMP%]{margin-bottom:.4rem}.card2[_ngcontent-%COMP%], .card2a[_ngcontent-%COMP%]{border:0 solid;margin-left:.65rem;margin-top:0;font-family:Roboto,Helvetica,Arial,sans-serif}.card2a[_ngcontent-%COMP%]{margin-bottom:.55rem}.card3[_ngcontent-%COMP%]{font-size:16px;font-weight:700;border:0 solid;margin:-.4rem .65rem .4rem}.card4[_ngcontent-%COMP%], .card5[_ngcontent-%COMP%]{border:0 solid;margin-left:.65rem;margin-top:-2rem;font-family:Roboto,Helvetica,Arial,sans-serif}.card5[_ngcontent-%COMP%]{margin-bottom:1rem}table.doc-info[_ngcontent-%COMP%]{width:100%;margin:.4rem 1.65rem 1.5rem;border:none;border-collapse:collapse}table.doc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;border:1px solid #e5e5e5}table.doc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none}table.doc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none}.row-narrow[_ngcontent-%COMP%]{margin-top:-20px}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.actions-menu[_ngcontent-%COMP%]:before{font-size:1.31rem!important;font-weight:800!important;line-height:16px;width:18px;height:18px;margin-top:4px;padding-left:2px}.rowone[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;margin-left:0}.colone[_ngcontent-%COMP%]{padding-right:10px}.colone[_ngcontent-%COMP%], .coltwo[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:1;overflow:hidden;margin-right:.6rem}.coltwo[_ngcontent-%COMP%]{padding-right:11px}.doc-title-wrapper[_ngcontent-%COMP%]{margin-top:4px}.doc-footer-wrapper[_ngcontent-%COMP%]{margin-right:.1rem;margin-top:1rem}  .dlt-icon-fullscreen:before{content:url(Expand-dialog-vec18.4ec93a215fa9f4638f8b.svg)}  .dlt-icon-fullscreen-exit:before{content:url(Collapse-dialog-vec18.c764bb320fbb6335e037.svg)}']}),e})();var Rt=i("XNiG"),kt=i("1G5W");let Et=(()=>{class e{constructor(){this.fullScreenTable=!1,this._documentSearchQuery=null}get timeRange(){return this._timeRange}set timeRange(e){this._timeRange=e}get tableFilters(){return this._tableFilters}set tableFilters(e){this._tableFilters=e}get basicSearchFilters(){return this._basicSearchFilters}set basicSearchFilters(e){this._basicSearchFilters=e}get documentSearchQuery(){return this._documentSearchQuery}set documentSearchQuery(e){this._documentSearchQuery=e}get refreshInterval(){return this._refreshInterval}set refreshInterval(e){this._refreshInterval=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ft=(()=>{class e{static getBasicSearchFields(e){return{typeSet:{name:"typeSet",label:"monitoring.document.typeColumn",type:"multiSelect",options:e,value:null,nullable:!0},documentName:{name:"documentName",label:"monitoring.document.documentNameCol",type:"text",nullable:!0}}}static getDefaultBasicSearchTableFilters(e){return[{filterBy:"typeSet",filterValue:null,label:"monitoring.document.typeColumn",type:"multiSelect",options:e},{filterBy:"documentName",filterValue:null,label:"monitoring.document.documentNameCol",type:"text",nullable:!0}]}static getAdvancedSearchBuilderConfig(){return{searchFields:{documentName:{name:"documentName",label:"monitoring.document.documentNameCol",type:"text",nullable:!0},documentID:{name:"documentID",label:"monitoring.document.docIdCol",type:"text",nullable:!0},clientID:{name:"clientID",label:"monitoring.document.serverIdCol",type:"text",nullable:!0},typeSet:{name:"typeSet",label:"monitoring.document.typeColumn",type:"multiSelect",options:null,value:null,nullable:!0}}}}static getAllSearchFields(){return{documentName:{name:"documentName",label:"monitoring.document.documentNameCol",type:"text",nullable:!0},documentID:{name:"documentID",label:"monitoring.document.docIdCol",type:"text",nullable:!0},clientID:{name:"clientID",label:"monitoring.document.serverIdCol",type:"text",nullable:!0},typeSet:{name:"typeSet",label:"monitoring.document.typeColumn",type:"multiSelect",options:null,value:null,nullable:!0}}}static getSearchField(t){return e.getAllSearchFields()[t]}}return e.statusOptions=[{label:"monitoring.services.service.status.completed",value:"completed"},{label:"monitoring.services.service.status.failed",value:"failed"},{label:"monitoring.services.service.status.started",value:"started"},{label:"monitoring.services.service.status.resubmitted",value:"resubmitted"}],e})();var Bt=i("VphZ");const Nt=["acPaiChart"];function Ht(e,t){1&e&&(u.fc(0,"div",3),u.bd(1," NO CHART DATA\n"),u.ec())}let Vt=(()=>{class e{constructor(e){this.translate=e,this.pieItemClicked=new u.p,this.sum=0,this.displaytext=!0}ngOnInit(){this.margin={top:15,right:5,bottom:15,left:5}}ngAfterViewInit(){this.data&&this.piechart()}piechart(){this.host=this.element.nativeElement,this.setDimentions();const e=this.width,t=this.height,i=this.radius;this.sum=Bt.sum(this.data.map(function(e){return e.value}));let n=!1;this.displaytext=!1;let a=0;for(let g=0;g<this.data.length;g++)this.data[g].value>0&&(a+=1);a<=2&&(n=!0,this.displaytext=!0),Bt.scaleOrdinal(Bt.schemeCategory10);const c=Bt.select(this.host).append("svg").attr("width",this.widthPercent+"%").attr("height",this.heightPercent+"%").attr("viewBox","-10 -10 "+(e+20)+" "+(t+10)).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("transform","translate("+e/2+","+t/2+")");let r=Bt.arc().outerRadius(i);r=r.innerRadius(n?i-20:0);const s=Bt.arc().innerRadius(n?i-20:0).outerRadius(i+10),o=Bt.pie().value(function(e,t){const i=e.value;return i>0&&i/d.sum*100<1?d.sum/100:i}).sort(null),l=Bt.select(this.host).append("div").attr("class","tooltip");l.append("span").attr("class","statusRect"),l.append("span").attr("class","label"),l.append("span").attr("class","count"),l.append("div").attr("class","percent"),l.style("display","none");const d=this,u=o(this.data),h=a>1?"#fff":"#ffffff00";if(c.selectAll("path").data(u).enter().append("path").attr("role","presentation").attr("class","arc").attr("d",r).attr("tabindex",0).attr("stroke",h).attr("stroke-width",1).attr("fill",function(e,t){return e.data.color}).on("click",function(e,t,i){d.handleClick(t)}).on("keydown",function(e,t){13===e.keyCode&&d.handleClick(t)}).on("focus",function(e,t){Bt.select(this).attr("stroke","#1776BF")}).on("blur",function(e,t,i){Bt.select(this).attr("stroke",h)}).on("mouseover",function(e,t,i){const n=Math.round(1e3*t.data.value/d.sum)/10;l.select(".label").html(d.getTranslatedString(t.data.displayLabel)).style("color","black"),l.select(".count").html(t.data.value),l.select(".percent").html(n+"%"),l.select(".statusRect").style("background-color",t.data.color),l.style("display","block"),l.style("opacity",1),Bt.select(this).style("cursor","pointer"),Bt.select(this).transition().duration(500).attr("d",s)}).on("mouseout",function(e,t,i){Bt.select(this).style("cursor","default"),Bt.select(this).style("fill",t.data.color),l.style("display","none"),l.style("opacity",0),Bt.select(this).transition().duration(500).attr("d",r)}).on("mousemove",function(e,t){l.style("top",e.layerY+10+"px").style("left",e.layerX-25+"px")}).transition().delay(10).duration(500).attrTween("d",function(e,t){if(0===t){const t=Bt.interpolate(0,e.endAngle);return function(i){return e.endAngle=t(i),r(e)}}}),this.displaytext){const e=this.getCenterTextValue()[0],t=0,i="black";c.append("text").attr("text-anchor","middle").attr("fill",i).style("font","1.2em Roboto").attr("y",t).text(e),0!==this.sum&&c.append("text").attr("text-anchor","middle").attr("fill",i).attr("font-size","1em").attr("y",15).text(this.getTranslatedString(this.getCenterTextValue()[1]))}}handleClick(e){this.pieItemClicked.emit(e.data)}setDimentions(){this.width=parseInt(Bt.select(this.element.nativeElement).style("width"))-this.margin.left-this.margin.right,this.height=parseInt(Bt.select(this.element.nativeElement).style("height")),this.widthPercent||(this.widthPercent=100),this.heightPercent||(this.heightPercent=100),this.radius=Math.min(this.width,this.height)/2}getCenterTextValue(){const e=this.sum;let t,i;if(e>0)for(let n=0;n<this.data.length;n++)this.data[n].value>0&&(!t||t<this.data[n].value)&&(t=this.data[n].value,i=this.getTranslatedString(this.data[n].displayLabel));return t?[(t/e*100).toFixed(2)+"%",i]:["",""]}getTranslatedString(e){return this.translate.instant(e)}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(n.d))},e.\u0275cmp=u.Tb({type:e,selectors:[["d3-donut-chart"]],viewQuery:function(e,t){if(1&e&&u.hd(Nt,1),2&e){let e;u.Oc(e=u.qc())&&(t.element=e.first)}},inputs:{data:"data",heightInput:"heightInput",widthPercent:"widthPercent",heightPercent:"heightPercent"},outputs:{pieItemClicked:"pieItemClicked"},decls:3,vars:3,consts:[[1,"donut"],["acPaiChart",""],["class","loadingMessageFrame loadingMessage",4,"ngIf"],[1,"loadingMessageFrame","loadingMessage"]],template:function(e,t){1&e&&(u.ac(0,"div",0,1),u.Zc(2,Ht,2,0,"div",2)),2&e&&(u.Xc("height",t.heightInput),u.Lb(2),u.Ac("ngIf",!t.data))},directives:[s.n],styles:[".donut[_ngcontent-%COMP%]{width:100%;height:200px;vertical-align:middle;overflow:hidden}  .tooltip{background:#fff!important;box-shadow:0 0 0 #999!important;border:1px solid #999!important;color:#333;font-size:12px;left:130px;padding:10px;position:absolute;text-align:left;top:95px;width:200px;display:block;opacity:0;background-clip:padding-box!important}  .label{padding-right:10px;padding-left:15px;text-align:center}  .count{text-align:center;padding-right:10px}  .statusRect{width:10px!important;height:10px!important;background-color:blue;position:absolute;top:15px}.loadingMessage[_ngcontent-%COMP%]{text-align:center}.loadingMessageFrame[_ngcontent-%COMP%]{padding-bottom:11.7%;padding-top:11.7%}  .arc:focus{outline:none}"]}),e})();const Zt=["myChartLegend"],jt=["myChartLegendWrapper"];let zt=(()=>{class e{constructor(e){this.translate=e,this.legendItemClicked=new u.p,this.rectSize=12,this.padding=6}ngOnInit(){}ngAfterViewInit(){this.margin={top:0,right:0,bottom:0,left:0},this.width=parseInt(Bt.select(this.myChartLegendWrapper.nativeElement).style("width"))-this.margin.left-this.margin.right,this.height=parseInt(Bt.select(this.myChartLegendWrapper.nativeElement).style("height"))-this.margin.top-this.margin.bottom,this.data&&this.renderLegends()}renderLegends(){const e=this,t=e.calculateCenterAlignedYPosition();Bt.select("this.myChartLegendWrapper.nativeElement").selectAll("*").remove();const i=Bt.select(this.myChartLegendWrapper.nativeElement).append("svg").attr("class","legendsvg").attr("width","100%").attr("height","100%").attr("display","block").style("overflow","visible").attr("viewBox","0 0 "+this.width+" "+this.height).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("class","legend").attr("transform","translate(0,"+t+")"),n=this.rectSize;i.selectAll("rect").data(this.data).enter().append("circle").attr("tabindex",0).attr("r",n/2).attr("cx",6).attr("cy",(t,i)=>1+n/2+i*(n+e.padding)).style("fill",(e,t)=>e.color).style("cursor","pointer").on("click",(t,i)=>{e.onClick(i)}).on("keydown",(t,i)=>{13===t.keyCode&&e.onClick(i)}),i.selectAll("text").data(this.data).enter().append("text").attr("tabindex",0).text((t,i)=>e.getTranslatedString(t.displayValue)).attr("x",6+1.2*n).attr("y",(t,i)=>1+n/2+i*(n+e.padding)).style("font","1.0em Roboto").style("alignment-baseline","middle").style("cursor","pointer").on("click",(t,i)=>{e.onClick(i)}).on("keydown",(t,i)=>{13===t.keyCode&&e.onClick(i)}),i.selectAll(".legend").data(e.data).enter().append("g").attr("class","count").append("text").attr("tabindex",0).text((e,t)=>{let i=" 0";return e.count&&(i=" "+e.count),i}).attr("x",e.getMaxTextWidth()+6+1.2*n).attr("y",(t,i)=>1+n/2+i*(n+e.padding)).style("font","1.0em Roboto").style("alignment-baseline","middle").style("cursor","pointer").on("click",(t,i)=>{e.onClick(i)}).on("keydown",(t,i)=>{13===t.keyCode&&e.onClick(i)})}calculateCenterAlignedYPosition(){let e=80;return this.data.length>0&&(e=this.data.length*(this.rectSize+this.padding)),(this.height-e)/2}onClick(e){this.legendItemClicked.emit({label:e.key})}getTranslatedString(e){return this.translate.instant(e)}getMaxTextWidth(){let e=12,t="Resubmitted";return this.data.forEach(i=>{const n=this.getTranslatedString(i.displayValue);n&&n.length>e&&(e=e,t=n)}),this.getTextWidth(t)+5}getTextWidth(e){if(!Bt)return 12;const t=Bt.select("body").append("svg");t.append("text").attr("x",-99999).attr("y",-99999).style("font","1.0em Roboto").text(e);const i=t.node().getBBox();return t.remove(),i.width}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(n.d))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-chart-legend"]],viewQuery:function(e,t){if(1&e&&(u.hd(Zt,1),u.hd(jt,1)),2&e){let e;u.Oc(e=u.qc())&&(t.myChartLegend=e.first),u.Oc(e=u.qc())&&(t.myChartLegendWrapper=e.first)}},inputs:{data:"data",heightInput:"heightInput"},outputs:{legendItemClicked:"legendItemClicked"},decls:2,vars:2,consts:[[1,"legendWrapper"],["myChartLegendWrapper",""]],template:function(e,t){1&e&&u.ac(0,"div",0,1),2&e&&u.Xc("height",t.heightInput)},styles:[".legendWrapper[_ngcontent-%COMP%]{width:100%;display:flex;vertical-align:middle}.legendsvg[_ngcontent-%COMP%]{display:block}"]}),e})();var Ut=i("XoFe");const $t=["acBarChart"];let Qt=(()=>{class e{constructor(e,t,i){this.dateTimeService=e,this.translate=t,this.d3HelperService=i,this.margin={top:20,bottom:20,left:20,right:20},this.isLocalizationResourcesLoaded=!1,this.subscriptions=[]}ngOnInit(){this.subscriptions.push(this.translate.get("common.calendar.periods").subscribe(()=>{this.isLocalizationResourcesLoaded=!0}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}ngAfterViewInit(){this.margin={top:10,right:10,bottom:10,left:10},this.width=parseInt(Bt.select(this.element.nativeElement).style("width"))-this.margin.left-this.margin.right,this.height=parseInt(Bt.select(this.element.nativeElement).style("height"))-this.margin.top-this.margin.bottom,this.renderChart()}initialize(){this.originalInputData=this.data,this.nativeElementRef=this.element.nativeElement,this.chartId="chart"+this.chartno,this.padding={top:10,right:10,bottom:10,left:10},this.svg=Bt.select(this.nativeElementRef).append("svg").attr("width","100%").attr("height","100%").attr("display","block").style("overflow","visible").attr("viewBox"," 0 0 "+this.width+" "+this.height).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("id",this.chartId).attr("transform","translate(0,0)")}renderChart(){if(this.data){this.columns=new Array,this.barColors=new Array;for(let e=0;e<this.columnKeyColorArray.length;e++){const t=this.columnKeyColorArray[e];this.columns.push(t.key),this.barColors.push(t.color)}this.initialize(),this.updatechart(this.originalInputData)}}ngOnChanges(e){const t=e.data;t&&t.currentValue&&this.svg&&(this.originalInputData=t.currentValue,this.updatechart(this.originalInputData))}updateLegendTextForDayAndMonth(){this.chartXAxisTitle||(this.chartXAxisTitle=this.translate.instant("common.chart.label.time.duration.weeks",[this.dateTimeService.converUTCTimeStampToLocalDateFormatString(this.startDate),this.dateTimeService.converUTCTimeStampToLocalDateFormatString(this.endDate)])),this.svg.append("text").attr("class","legendtext"+this.chartno).style("font","1em Roboto").style("font-weight","500").attr("fill","#808080").attr("text-anchor","middle").attr("x",this.width/2).attr("y",this.height).text(this.chartXAxisTitle).attr("dy","2em")}updatechart(e){const t=this;if(this.chartId="#"+this.chartId+" > g ",Bt.selectAll(this.chartId).remove(),!e&&0==e.length)return;const i=this.columns,n=Bt.stack().keys(i)(e),a=Bt.max(n,e=>Bt.max(e,e=>e[0]+e[1]));this.startDate=e[0].startTime,this.endDate=e[e.length-1].endTime;let c=e.length>12?14*e.length:20*e.length;c>=this.width-40&&(c=this.width-40);const s=Bt.scaleTime().domain([this.startDate,this.endDate]).rangeRound([20,this.width-40]);this.svg.append("g").attr("class","x_axis").style("font",".85em Roboto").style("color","#616161").style("font-weight","400").attr("transform","translate(0,"+(t.height-20)+")").call(Bt.axisBottom(s).tickPadding(5).tickFormat(function(e){return t.d3HelperService.multiFormat(e)}).tickSizeInner(2).tickSizeOuter(5)).select(".domain").style("fill","none").style("stroke","rgb(204,204,204)").style("shape-rendering","crispEdges");const o=Bt.scaleLinear().domain([0,a]).range([this.height-this.margin.bottom-this.margin.top,0]),l=Bt.scaleOrdinal().domain(i).range(this.barColors),d=this.svg.append("g").selectAll("g").data(n).enter().append("g").attr("fill",e=>l(e.key)).style("fill",(e,t)=>l(e.key)),u=d.selectAll("rect").data(e=>e).enter().append("rect").attr("x",e=>s(e.data.startTime)).attr("y",e=>o(e[1])).attr("height",e=>o(e[0])-o(e[1])).attr("width",15);d.data(n),u.data(function(e,t){return this.tootltipstatus="Completed Successfully ",this.tooltipcolor=r.COLOR_HEX.SUCCESS,1===t&&(this.tooltipstatus="Failed ",this.tooltipcolor="red"),e}),d.selectAll("rect").on("mousemove",function(e,i,n){const a=Bt.select(this.parentNode);this.xPosition=Ut.a(e,this)[0]+15,this.yPosition=Ut.a(e,this)[1]-25,h.attr("transform",this.xPosition>t.width-200?this.yPosition<0?" translate("+(this.xPosition-220)+","+(this.yPosition+50)+")":" translate("+(this.xPosition-220)+","+(this.yPosition-50)+")":" translate("+this.xPosition+","+this.yPosition+")"),h.select("text.y0"),h.select("text.y1"),h.select("rect.legend").style("fill",a.attr("fill")),this.tooltipstatus=t.getTooltipStatus(a.attr("fill")),h.select("text.legend").text(this.tooltipstatus+t.getTooltipCount(a.attr("fill"),i)),h.select("text.y0").text(t.dateTimeService.converUTCTimeStampToLocalDateFormatString(i.data.startTime)+" - "),h.select("text.y1").text(t.dateTimeService.converUTCTimeStampToLocalDateFormatString(i.data.endTime))}).on("mouseover",e=>{this.tooltipstatus=!0,h.style("display","inline"),h.style("position","absolute")}).on("mouseout",e=>{h.style("display","none"),this.tooltipstatus=!1});const h=this.createTooptip();this.updateLegendTextForDayAndMonth()}createTooptip(){const e=this.svg.append("g").attr("class","tip").style("display","none");return e.append("rect").attr("width",200).attr("height",80).attr("fill","white").attr("stroke","#999999").attr("stroke-width",.5).style("opacity",1),e.append("rect").attr("class","legend").attr("x",10).attr("y","2em").attr("width",12).attr("height",12).attr("transform",(e,t)=>"translate( 1, -13)").style("fill","grey"),e.append("text").attr("class","legend").attr("x",26).attr("y","2em").attr("font-size","12px").style("text-anchor","start").text("Failed"),e.append("text").attr("class","y0").attr("x",10).attr("dy","4em").style("text-anchor","left").attr("font-size","12px").attr("font-color","white").text(""),e.append("text").attr("class","y1").attr("x",10).attr("dy","5.5em").style("text-anchor","left").attr("font-size","12px").attr("font-color","white").text(""),e}getTooltipStatus(e){for(let t=0;t<this.columnKeyColorArray.length;t++){const i=this.columnKeyColorArray[t];if(i.color===e)return this.translate.instant(i.displayValue)+" "}}getTooltipCount(e,t){for(let i=0;i<this.columnKeyColorArray.length;i++){const n=this.columnKeyColorArray[i];if(n.color===e)return t.data.hasOwnProperty(n.key+"Original")?t.data[n.key+"Original"]:t.data[n.key]}return 0}getTranslatedString(e){return this.translate.instant(e)}getTextWidth(e){if(!Bt)return 100;const t=Bt.select("body").append("svg");t.append("text").attr("x",-99999).attr("y",-99999).style("font","500 1em Roboto").text(e);const i=t.node().getBBox();return t.remove(),i.width}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(r.DateTimeService),u.Zb(n.d),u.Zb(r.D3HelperService))},e.\u0275cmp=u.Tb({type:e,selectors:[["ac-d3-stacked-bar-chart"]],viewQuery:function(e,t){if(1&e&&u.hd($t,1),2&e){let e;u.Oc(e=u.qc())&&(t.element=e.first)}},inputs:{data:"data",chartno:"chartno",heightInput:"heightInput",columnKeyColorArray:"columnKeyColorArray",chartXAxisTitle:"chartXAxisTitle"},features:[u.Jb],decls:2,vars:2,consts:[[1,"acbarchart"],["acBarChart",""]],template:function(e,t){1&e&&u.ac(0,"div",0,1),2&e&&u.Xc("height",t.heightInput)},styles:[".acbarchart[_ngcontent-%COMP%]{width:100%;height:200px}.tip[_ngcontent-%COMP%]{background:#fff!important;box-shadow:0 0 5px #999!important;font-size:12px;text-align:left;color:#333}"]}),e})();var Kt=i("fo5N"),Wt=i("ZRSf");const qt=["searchInputs"];function Xt(e,t){if(1&e&&(u.fc(0,"option",20),u.bd(1),u.uc(2,"translate"),u.ec()),2&e){const e=t.$implicit,i=u.tc(3);u.Ac("ngValue",e.name)("disabled",i.disableFieldItem(e)),u.Lb(1),u.dd(" ",u.vc(2,3,e.label)," ")}}function Jt(e,t){if(1&e){const e=u.gc();u.fc(0,"p-autoComplete",21),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc().$implicit.value=t})("completeMethod",function(t){return u.Rc(e),u.tc(3).filterServices(t)})("ngModelChange",function(){return u.Rc(e),u.tc(3).changeInput()}),u.uc(1,"translate"),u.ec()}if(2&e){const e=u.tc().$implicit,t=u.tc(2);u.Ac("ngModel",e.value)("suggestions",t.filterServicesSingle)("size",45)("minLength",1),u.Mb("aria-label",u.vc(1,5,"common.filters.enter.service.name"))}}function Gt(e,t){if(1&e){const e=u.gc();u.fc(0,"input",22,23),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc().$implicit.value=t})("ngModelChange",function(){return u.Rc(e),u.tc(3).changeInput()}),u.uc(2,"translate"),u.ec()}if(2&e){const e=u.tc().$implicit,t=u.tc(2);u.Ac("ngModel",e.value)("disabled",t.disabled),u.Mb("aria-label",u.vc(2,3,"common.filters.enter.value"))}}function Yt(e,t){if(1&e){const e=u.gc();u.fc(0,"input",24),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc().$implicit.value=t})("ngModelChange",function(){return u.Rc(e),u.tc(3).changeInput()}),u.uc(1,"translate"),u.ec()}if(2&e){const e=u.tc().$implicit,t=u.tc(2);u.Ac("ngModel",e.value)("disabled",t.disabled),u.Mb("aria-label",u.vc(1,3,"common.filters.enter.value"))}}function ei(e,t){if(1&e){const e=u.gc();u.fc(0,"input",25),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc().$implicit.value=t})("ngModelChange",function(){return u.Rc(e),u.tc(3).changeInput()}),u.ec()}if(2&e){const e=u.tc().$implicit,t=u.tc(2);u.Ac("ngModel",e.value)("disabled",t.disabled)}}function ti(e,t){if(1&e){const e=u.gc();u.fc(0,"input",26),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc().$implicit.value=t})("ngModelChange",function(){return u.Rc(e),u.tc(3).changeInput()}),u.ec()}if(2&e){const e=u.tc().$implicit,t=u.tc(2);u.Ac("ngModel",e.value)("disabled",t.disabled)}}function ii(e,t){if(1&e&&(u.fc(0,"option",29),u.bd(1),u.uc(2,"translate"),u.ec()),2&e){const e=t.$implicit;u.Ac("ngValue",e.value),u.Lb(1),u.dd(" ",u.vc(2,2,e.label)," ")}}function ni(e,t){if(1&e){const e=u.gc();u.fc(0,"select",27),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc().$implicit.value=t})("ngModelChange",function(){return u.Rc(e),u.tc(3).changeInput()}),u.uc(1,"translate"),u.Zc(2,ii,3,4,"option",28),u.ec()}if(2&e){const e=u.tc().$implicit,t=u.tc(2);u.Ac("ngModel",e.value)("disabled",t.disabled),u.Mb("aria-label",u.vc(1,4,"common.filters.enter.value")),u.Lb(2),u.Ac("ngForOf",t.getOptions(e.field))}}function ai(e,t){if(1&e&&(u.fc(0,"option",29),u.bd(1),u.uc(2,"translate"),u.ec()),2&e){const e=t.$implicit;u.Ac("ngValue",e.value),u.Lb(1),u.dd(" ",u.vc(2,2,e.label)," ")}}function ci(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"select",30),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc().$implicit.value=t})("ngModelChange",function(){return u.Rc(e),u.tc(3).changeInput()}),u.Zc(2,ai,3,4,"option",28),u.ec(),u.cc()}if(2&e){const e=u.tc().$implicit,t=u.tc(2);u.Lb(1),u.Ac("ngModel",e.value)("disabled",t.disabled),u.Lb(1),u.Ac("ngForOf",t.getOptions(e.field))}}function ri(e,t){if(1&e){const e=u.gc();u.fc(0,"input",31),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc().$implicit.value=t})("ngModelChange",function(){return u.Rc(e),u.tc(3).changeInput()}),u.ec()}if(2&e){const e=u.tc().$implicit,t=u.tc(2);u.Ac("ngModel",e.value)("disabled",t.disabled)}}function si(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"div",3),u.fc(2,"div",4),u.fc(3,"select",5),u.pc("ngModelChange",function(e){return t.$implicit.field=e})("ngModelChange",function(i){u.Rc(e);const n=t.$implicit;return u.tc(2).changeField(i,n)}),u.uc(4,"translate"),u.Zc(5,Xt,3,5,"option",6),u.ec(),u.ec(),u.fc(6,"div",7),u.Zc(7,Jt,2,7,"p-autoComplete",8),u.Zc(8,Gt,3,5,"input",9),u.Zc(9,Yt,2,5,"input",10),u.Zc(10,ei,1,2,"input",11),u.Zc(11,ti,1,2,"input",12),u.Zc(12,ni,3,6,"select",13),u.Zc(13,ci,3,3,"ng-container",14),u.Zc(14,ri,1,2,"input",15),u.ec(),u.fc(15,"div",16),u.fc(16,"button",17),u.pc("click",function(){u.Rc(e);const i=t.$implicit;return u.tc(2).addSearchTerm(i)}),u.uc(17,"translate"),u.uc(18,"translate"),u.ac(19,"i",18),u.ec(),u.ec(),u.fc(20,"div",16),u.fc(21,"button",17),u.pc("click",function(){u.Rc(e);const i=t.$implicit;return u.tc(2).removeSearchTerm(i)}),u.uc(22,"translate"),u.uc(23,"translate"),u.ac(24,"i",19),u.ec(),u.ec(),u.ec(),u.cc()}if(2&e){const e=t.$implicit,i=t.index,n=u.tc(2);u.Lb(3),u.Ac("ngModel",e.field)("disabled",n.disabled),u.Mb("aria-label",u.vc(4,19,"common.filters.select.element")),u.Lb(2),u.Ac("ngForOf",n.fields),u.Lb(1),u.Ac("ngSwitch",n.getInputType(e,i)),u.Lb(1),u.Ac("ngSwitchCase","serviceAutoComplete"),u.Lb(1),u.Ac("ngSwitchCase","text"),u.Lb(1),u.Ac("ngSwitchCase","number"),u.Lb(1),u.Ac("ngSwitchCase","date"),u.Lb(1),u.Ac("ngSwitchCase","time"),u.Lb(1),u.Ac("ngSwitchCase","category"),u.Lb(1),u.Ac("ngSwitchCase","multiselect"),u.Lb(1),u.Ac("ngSwitchCase","boolean"),u.Lb(2),u.Bc("pTooltip",u.vc(17,21,"common.filters.add.search.term")),u.Ac("disabled",n.data.searchTerms.length==n.fields.length),u.Mb("aria-label",u.vc(18,23,"common.filters.add.search.term")),u.Lb(5),u.Bc("pTooltip",u.vc(22,25,"common.filters.remove.search.term")),u.Ac("disabled",n.data.searchTerms.length<=1),u.Mb("aria-label",u.vc(23,27,"common.filters.remove.search.term"))}}function oi(e,t){if(1&e&&(u.fc(0,"div",1),u.Zc(1,si,25,29,"ng-container",2),u.ec()),2&e){const e=u.tc();u.Lb(1),u.Ac("ngForOf",e.data.searchTerms)}}let li=(()=>{class e{constructor(e,t,i,n,a){this.changeDetectorRef=e,this.servicesDashboardService=t,this.translate=i,this.sharedMessageService=n,this.toastr=a,this.data={searchTerms:[]},this.config={searchFields:{}},this.markDirty=new u.p,this.defaultEmptyList=[],this.subscriptions=[],this.translate.setDefaultLang("en"),this.subscriptions.push(this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)}))}ngOnInit(){this.fields=Object.keys(this.config.searchFields).map(e=>{const t=this.config.searchFields[e];return t.value=t.value||e,t})}getInputType(e,t){if(!e)return"string";{const t=this.getSearchTermForName(e.field);if(!0===t.isISService)return"serviceAutoComplete";if(!0===t.isISDocument)return"documentAutoComplete";{const e=this.getField(t.name);if(e)return e.type}}}getSearchTermForName(e){return e&&this.config&&this.config.searchFields&&Object.keys(this.config.searchFields).length>0?this.config.searchFields[e]:null}getOptions(e){return this.config.getOptions?this.config.getOptions(e):this.config.searchFields[e].options||this.defaultEmptyList}getField(e){return this.config.searchFields[e]}addSearchTerm(e){if(this.disabled)return;const t=this.getNextAvailableSearchField();t&&(this.data.searchTerms=this.data.searchTerms.concat([{field:t?t.name:null,value:null}])),this.handleDataChange()}removeSearchTerm(e){if(this.disabled)return;const t=this.data;t.searchTerms=t.searchTerms.filter(t=>t!==e),this.handleDataChange()}getDefaultValue(e){switch(typeof e){case"function":return e();default:return e}}changeInput(){this.disabled||this.handleDataChange()}changeField(e,t){this.disabled||(this.handleDataChange(),e.stopPropagation&&e.stopPropagation())}calculateFieldChangeValue(e,t,i){return null!=this.config.calculateFieldChangeValue?this.config.calculateFieldChangeValue(e,t,i):t&&void 0!==t.defaultValue?this.getDefaultValue(t.defaultValue):void 0}disableFieldItem(e){return this.isFieldInUse(e.name)}getFields(){const e=[];for(let t=0;t<this.fields.length;t++){const i=this.fields[t];console.log("*******Field"),this.isFieldInUse(i.name)||e.push({label:i.label,value:i.name})}return e}isFieldInUse(e){for(let t=0;t<this.data.searchTerms.length;t++)if(this.data.searchTerms[t].field===e)return!0;return!1}getNextAvailableSearchField(){for(let e=0;e<this.fields.length;e++){const t=this.fields[e];if(!this.isFieldInUse(t.name))return t}return null}setFocus(){this.makeComponentsAccessible(),this.searchInputs&&this.searchInputs.length>0&&this.searchInputs.first&&this.searchInputs.first.nativeElement&&this.searchInputs.first.nativeElement.focus()}get value(){return this.data}set value(e){this.data=e||{searchTerms:[]},this.handleDataChange()}writeValue(e){this.value=e}registerOnChange(e){this.onChangeCallback=()=>e(this.data)}setDisabledState(e){this.disabled=e,this.changeDetectorRef.detectChanges()}validate(e){const t={},i=[];let n=!1;return this.validateSearchTerms(this.data,i),i.length&&(t.rules=i,n=!0),n?t:null}filterServices(e){const t=e.query;this.changeInput(),this.subscriptions.push(this.servicesDashboardService.getServicesForName(null,t).subscribe(e=>{e&&e.services&&(this.filterServicesSingle=e.services)},e=>{const t=Object(h.K)(e,this.translate);this.toastr.error(t)}))}validateSearchTerms(e,t){e&&e.searchTerms&&e.searchTerms.length>0&&e.searchTerms.forEach(i=>{if(i.field){const n=this.config.searchFields[i.field];if(n&&n.validator&&n.validator.apply){const a=n.validator(i,e);null!=a&&t.push(a)}}})}makeComponentsAccessible(){setTimeout(()=>{let e=document.getElementsByTagName("p-autoComplete")[0];if(e){h.J.makeAutoCompleteAccessible(e,this.translate.instant("common.filters.enter.service.name"));const n=e.children;for(var t=0;t<n.length;t++){const e=n[t].children;for(var i=0;i<e.length;i++){const t=e[i];if("INPUT"===t.tagName.toUpperCase())return void t.focus()}}}},100)}handleDataChange(){this.changeDetectorRef.markForCheck(),this.onChangeCallback&&this.onChangeCallback(),this.parentChangeCallback&&this.parentChangeCallback(),this.markDirty.emit("changed")}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(u.h),u.Zb(r.IsServicesDashboardService),u.Zb(n.d),u.Zb(h.A),u.Zb(x.b))},e.\u0275cmp=u.Tb({type:e,selectors:[["ac-search-builder"]],viewQuery:function(e,t){if(1&e&&u.hd(qt,1),2&e){let e;u.Oc(e=u.qc())&&(t.searchInputs=e)}},inputs:{disabled:"disabled",data:"data",config:"config",parentChangeCallback:"parentChangeCallback",value:"value"},outputs:{markDirty:"markDirty"},decls:1,vars:1,consts:[["class","searchbuilder",4,"ngIf"],[1,"searchbuilder"],[4,"ngFor","ngForOf"],[1,"row",2,"padding","7px","margin-left","0","margin-right","0"],[1,"select-arrow-icon"],["tabindex","0",1,"",3,"ngModel","disabled","ngModelChange"],["tabindex","0",3,"ngValue","disabled",4,"ngFor","ngForOf"],[1,"dlt-form-item","padding-right-5",3,"ngSwitch"],["id","autoCompleteSearch","inputStyleClass","dlt-text-input","panelStyleClass","autoCompleteOverLay","autofocus","",3,"ngModel","suggestions","size","minLength","ngModelChange","completeMethod",4,"ngSwitchCase"],["type","text","class","dlt-text-input","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","number","class","dlt-number-input","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","date","class","dlt-date-picker","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","time","class","dlt-time-picker","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["class","dlt-select-input","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],["type","checkbox","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[1,""],["tabindex","0","showDelay","250",1,"plusminus",3,"disabled","pTooltip","click"],[1,"dlt-icon-plus-circle","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-minus-circle","dlg-icon-btn","dlt-icon"],["tabindex","0",3,"ngValue","disabled"],["id","autoCompleteSearch","inputStyleClass","dlt-text-input","panelStyleClass","autoCompleteOverLay","autofocus","",3,"ngModel","suggestions","size","minLength","ngModelChange","completeMethod"],["type","text","autofocus","","tabindex","0",1,"dlt-text-input",3,"ngModel","disabled","ngModelChange"],["searchInputs",""],["type","number","autofocus","","tabindex","0",1,"dlt-number-input",3,"ngModel","disabled","ngModelChange"],["type","date","autofocus","","tabindex","0",1,"dlt-date-picker",3,"ngModel","disabled","ngModelChange"],["type","time","autofocus","","tabindex","0",1,"dlt-time-picker",3,"ngModel","disabled","ngModelChange"],["autofocus","","tabindex","0",1,"dlt-select-input",3,"ngModel","disabled","ngModelChange"],["tabindex","0",3,"ngValue",4,"ngFor","ngForOf"],["tabindex","0",3,"ngValue"],["multiple","",3,"ngModel","disabled","ngModelChange"],["type","checkbox","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange"]],template:function(e,t){1&e&&u.Zc(0,oi,2,1,"div",0),2&e&&u.Ac("ngIf",t.data&&t.data.searchTerms)},directives:[s.n,s.m,te.x,te.n,te.q,s.p,s.q,T.a,te.r,te.B,l.a,te.c,te.s,te.y,te.a],pipes:[n.c],styles:["ul[_ngcontent-%COMP%]{list-style:none;margin:0;overflow:hidden;padding:0}li[_ngcontent-%COMP%]{padding:7px}.searchbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:400;font-size:.875rem;display:block;width:100%;line-height:1.5rem;height:1.5rem;padding:0 .5rem;color:#333;background-color:#fff;border-radius:0;border:1px solid gray}.searchbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:enabled, .searchbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover:enabled:not(:focus){border:1px solid #1776bf;outline:1px solid #1776bf;outline-offset:-2px;border-radius:0}  .p-dropdown-item-disabled{opacity:.3;cursor:not-allowed}.searchbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;font-size:.875rem;width:100%;height:1.5rem;line-height:1.5rem;padding:0 5px 0 .5rem;color:#333;border-radius:0;border:1px solid gray;display:block;background-color:#fff;margin:0 20px 0 0;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus:enabled, .searchbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover:enabled{border:1px solid #1776bf;outline:1px solid #1776bf;outline-offset:-2px}.select-arrow-icon[_ngcontent-%COMP%]:after{line-height:1.5rem}.searchbuilder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:400;height:1.5rem;line-height:1.5rem;vertical-align:middle;border:none;outline:none;background-color:#fff}.searchbuilder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:enabled{color:#1776bf}.plusminus[_ngcontent-%COMP%]:focus{border:1px solid #1776bf!important;outline:1px solid #1776bf!important;box-shadow:none!important;outline-offset:-2px}.autocomplete-input[_ngcontent-%COMP%],   .p-autocomplete .p-autocomplete-input{height:1.5rem!important;line-height:1.5rem!important;padding:0 .5rem!important;padding-right:5px;border-radius:0}  .autoCompleteOverLay{max-width:400px!important;max-height:80px!important}"]}),e})();var di=i("MEzG");const ui=["docsearchOverlay"],hi=["acDocSearchBuilder"],gi=function(){return{"min-height":"200px","min-width":"620px"}},pi=function(){return{"min-width":"150px",width:"11rem","line-height":"1.5rem",height:"1.5rem"}};let fi=(()=>{class e{constructor(e,t){this.translate=e,this.sharedMessageService=t,this.onDocAdvancedSearchReset=new u.p,this.onDocAdvancedSearchApply=new u.p,this.config=Ft.getAdvancedSearchBuilderConfig(),this.query=null,this.isDirty=!1,this._isAndQuery=!1,this._initialDataSetDone=!1,this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})}ngOnInit(){}showSearchOverlay(){const e=this.documentSearchQuery.tableFilters;let t=this.documentSearchQuery.searchTerms;t||(t=new Array);for(let n=0;n<e.length;n++){const i=e[n];"isAnd"===i.filterBy?this.documentSearchQuery.andQuery=i.filterValue:"typeSet"===i.filterBy?this.documentSearchQuery.status=i.filterValue:t.push({field:i.filterBy,value:i.filterValue})}0===t.length&&t.push(this.createDefaultSearchRow()),this.documentSearchQuery.searchTerms=t,this.query={searchTerms:this.documentSearchQuery.searchTerms};const i=this;setTimeout(()=>{i.acSearchBuilder.setFocus(),this._initialDataSetDone=!0},200),this._isAndQuery=this.documentSearchQuery.andQuery,this.makeComponentsAccessible(),this.isDirty=!1}toggle(e){this.docsearchOverlay&&this.docsearchOverlay.toggle(e)}statusChange(e){this.documentSearchQuery.status=e.value,this.isDirty=!0}cancelSearch(){this.docsearchOverlay.hide()}applySearch(){this.documentSearchQuery.searchTerms=this.acSearchBuilder.data.searchTerms,this.onDocAdvancedSearchApply.emit(this.documentSearchQuery),this.docsearchOverlay.hide()}setOrQuery(){this.documentSearchQuery.andQuery=!1,this.isDirty=!0}setAndQuery(){this.documentSearchQuery.andQuery=!0,this.isDirty=!0}resetSearch(){this.documentSearchQuery.searchTerms=null,this.documentSearchQuery.status=null,this.documentSearchQuery.andQuery=!0,this.onDocAdvancedSearchReset.emit(this.documentSearchQuery),this.isDirty=!0,this.docsearchOverlay.hide()}createDefaultSearchRow(){return{field:this.config.searchFields.documentName.name,value:null}}getSearchField(e){return this.config.searchFields[e]}handleKeydown(e){27===e.keyCode&&this.docsearchOverlay.hide(),this.isDirty=!0}statusEnter(){const e=document.querySelector("#statusSelect");this.isDirty=!0,e.click()}hideSearchOverlay(){this.isDirty=!1,this._initialDataSetDone=!1}makeComponentsAccessible(){setTimeout(()=>{const e=document.getElementsByTagName("p-multiSelect")[0];e&&h.J.makeMultiCheckboxAccessible(e,this.translate.instant("common.filters.multiselect.select.options"),this.translate.instant("monitoring.search.deselect.all"),this.translate.instant("monitoring.search.select.all"))},100)}ngOnDestroy(){this.subscription.unsubscribe()}markDirty(){this.isDirty=!0}ngDoCheck(){this._isAndQuery!==this.documentSearchQuery.andQuery&&this._initialDataSetDone&&this.markDirty()}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(n.d),u.Zb(h.A))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-document-search"]],viewQuery:function(e,t){if(1&e&&(u.hd(ui,1),u.hd(hi,1)),2&e){let e;u.Oc(e=u.qc())&&(t.docsearchOverlay=e.first),u.Oc(e=u.qc())&&(t.acSearchBuilder=e.first)}},hostBindings:function(e,t){1&e&&u.pc("keydown",function(e){return t.handleKeydown(e)},!1,u.Qc)},inputs:{documentSearchQuery:"documentSearchQuery",docStatusList:"docStatusList"},outputs:{onDocAdvancedSearchReset:"onDocAdvancedSearchReset",onDocAdvancedSearchApply:"onDocAdvancedSearchApply"},decls:53,vars:50,consts:[["focusOnShow","true",3,"baseZIndex","appendTo","onShow","onHide"],["docsearchOverlay",""],[1,"filter-top-row"],[1,"isac-overlay-title-wrapper"],[1,"isac-overlay-details-title"],[1,"doc-filter-label-wrapper"],["for","searchConditionSwitchDoc",1,"dlt-form-label","padding-top-5","padding-right-5"],[1,"padding-left-5","dlt-form-label","padding-top-5","toggle-inline",3,"click"],[1,"toggle-btn","toggle-inline"],[1,"dlt-fieldset","sm-switch","fliter-switch-item"],[1,"dlt-switch-item"],["id","searchConditionSwitchDoc","type","checkbox","ngDefaultControl","",1,"dlt-switch-input",3,"ngModel","ngModelChange"],["for","searchConditionSwitchDoc",1,"dlt-switch-text"],[1,"dlt-switch-appearance","dlt-on-off"],[1,"on"],[1,"off"],[1,"dlt-form-label","padding-top-5","toggle-inline",3,"click"],[1,"filter-title-buttons-wrapper"],["tabindex","0","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"pTooltip","click"],[1,"dlt-icon-close","isac-dlg-close-icon-btn","dlg-icon-btn","dlt-icon"],[1,"filter-row"],[1,"dlt-form-label"],[1,"searchArea"],[3,"data","config","markDirty"],["acDocSearchBuilder",""],["tabindex","0","dropdownIcon","dlt-icon-dropdown",3,"options","ngModel","filter","defaultLabel","maxSelectedLabels","baseZIndex","onClick","onChange","ngModelChange","keydown.enter"],["statusFilterRefDoc",""],[1,"filter-row","filter-footer-margin","float-right"],[1,"btn-group","d-flex","justify-content-end"],["tabindex","0",1,"dlt-button","dlt-button-primary","xs-button","margin-right-5",3,"disabled","click"],["tabindex","0",1,"dlt-button","dlt-button-secondary","xs-button",3,"click"]],template:function(e,t){1&e&&(u.fc(0,"p-overlayPanel",0,1),u.pc("onShow",function(){return t.showSearchOverlay()})("onHide",function(){return t.hideSearchOverlay()}),u.fc(2,"div",2),u.fc(3,"div",3),u.fc(4,"div",4),u.bd(5),u.uc(6,"translate"),u.ec(),u.ec(),u.fc(7,"div",5),u.fc(8,"label",6),u.bd(9),u.uc(10,"translate"),u.ec(),u.fc(11,"label",7),u.pc("click",function(){return t.setOrQuery()}),u.bd(12),u.uc(13,"translate"),u.ec(),u.fc(14,"div",8),u.fc(15,"fieldset",9),u.fc(16,"div",10),u.fc(17,"input",11),u.pc("ngModelChange",function(e){return t.documentSearchQuery.andQuery=e}),u.ec(),u.fc(18,"label",12),u.ac(19,"span",13),u.ac(20,"span",14),u.ac(21,"span",15),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(22,"label",16),u.pc("click",function(){return t.setAndQuery()}),u.bd(23),u.uc(24,"translate"),u.ec(),u.ec(),u.fc(25,"div",17),u.fc(26,"button",18),u.pc("click",function(){return t.cancelSearch()}),u.uc(27,"translate"),u.uc(28,"translate"),u.ac(29,"i",19),u.ec(),u.ec(),u.ec(),u.fc(30,"div",20),u.fc(31,"label",21),u.bd(32),u.uc(33,"translate"),u.ec(),u.ec(),u.fc(34,"div",22),u.fc(35,"ac-search-builder",23,24),u.pc("markDirty",function(){return t.markDirty}),u.ec(),u.ec(),u.ac(37,"hr",20),u.fc(38,"div",20),u.fc(39,"label",21),u.bd(40),u.uc(41,"translate"),u.ec(),u.ec(),u.fc(42,"p-multiSelect",25,26),u.pc("onClick",function(){return t.makeComponentsAccessible()})("onChange",function(e){return t.statusChange(e)})("ngModelChange",function(e){return t.documentSearchQuery.status=e})("keydown.enter",function(){return t.statusEnter()}),u.uc(44,"translate"),u.ec(),u.fc(45,"div",27),u.fc(46,"div",28),u.fc(47,"button",29),u.pc("click",function(){return t.applySearch()}),u.bd(48),u.uc(49,"translate"),u.ec(),u.fc(50,"button",30),u.pc("click",function(){return t.resetSearch()}),u.bd(51),u.uc(52,"translate"),u.ec(),u.ec(),u.ec(),u.ec()),2&e&&(u.Wc(u.Fc(48,gi)),u.Ac("baseZIndex",1)("appendTo","body"),u.Lb(5),u.cd(u.vc(6,26,"common.label.AdvancedSearch")),u.Lb(4),u.cd(u.vc(10,28,"common.labels.SearchCondition")),u.Lb(3),u.cd(u.vc(13,30,"common.labels.or")),u.Lb(5),u.Ac("ngModel",t.documentSearchQuery.andQuery),u.Lb(6),u.cd(u.vc(24,32,"common.labels.and")),u.Lb(3),u.Bc("pTooltip",u.vc(27,34,"common.close.title")),u.Mb("aria-label",u.vc(28,36,"common.close.title")),u.Lb(6),u.cd(u.vc(33,38,"common.labels.searchArea")),u.Lb(3),u.Ac("data",t.query)("config",t.config),u.Lb(5),u.dd(" ",u.vc(41,40,"monitoring.documents.document.type"),""),u.Lb(2),u.Wc(u.Fc(49,pi)),u.Bc("defaultLabel",u.vc(44,42,"common.all")),u.Ac("options",t.docStatusList)("ngModel",t.documentSearchQuery.status)("filter",!1)("maxSelectedLabels",4)("baseZIndex",2e3),u.Lb(5),u.Ac("disabled",!t.isDirty),u.Lb(1),u.cd(u.vc(49,44,"common.apply")),u.Lb(3),u.cd(u.vc(52,46,"common.reset")))},directives:[Kt.a,te.a,te.c,te.n,te.q,T.a,li,di.a],pipes:[n.c],styles:[".margin-right-5[_ngcontent-%COMP%]{margin-right:5px}.dlt-switch-text[_ngcontent-%COMP%]{margin-top:5px}.toggle-inline[_ngcontent-%COMP%]{float:left}.toggle-btn[_ngcontent-%COMP%]{margin:0 7px}.btn-group[_ngcontent-%COMP%]{padding:.875rem 0 0}.conditionlabel1Width[_ngcontent-%COMP%]{width:16rem;margin-right:21px}.conditionlabel2Width[_ngcontent-%COMP%]{min-width:8rem;padding-right:7px}.searchArea[_ngcontent-%COMP%]{margin-left:-7px!important}p-multiselect[_ngcontent-%COMP%]:focus{outline:3px solid #1776bf}.tb-vert[_ngcontent-%COMP%]{padding-top:.6rem}.filter-row[_ngcontent-%COMP%], .filter-top-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:0;margin-left:0}.filter-top-row[_ngcontent-%COMP%]{margin-top:6px}.footer-buttons-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:0}.fliter-switch-item[_ngcontent-%COMP%]{margin-top:3px}.doc-filter-label-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-left:1rem;margin-top:-5px}"]}),e})();const mi=["isMonDocTable"],bi=["tablePrefs"],vi=["tablePrefsOverlay"];function yi(e,t){if(1&e){const e=u.gc();u.fc(0,"div",7),u.fc(1,"div",20),u.fc(2,"d3-donut-chart",21),u.pc("pieItemClicked",function(t){return u.Rc(e),u.tc(2).pieItemClicked(t)}),u.ec(),u.ec(),u.fc(3,"div",22),u.fc(4,"app-chart-legend",23),u.pc("legendItemClicked",function(t){return u.Rc(e),u.tc(2).pieItemClicked(t)}),u.ec(),u.ec(),u.fc(5,"div",24),u.ac(6,"img",25),u.uc(7,"translate"),u.bd(8),u.uc(9,"translate"),u.ec(),u.ec()}if(2&e){const e=u.tc(2);u.Lb(2),u.Ac("data",e.donutChartData)("heightInput","160px"),u.Lb(2),u.Ac("data",e.legendsData)("heightInput","160px"),u.Lb(2),u.Bc("alt",u.vc(7,6,"common.chart.donut.infolabel")),u.Lb(2),u.dd(" ",u.vc(9,8,"common.chart.donut.infolabel")," ")}}function Ci(e,t){1&e&&u.ac(0,"ac-loader")}function Si(e,t){if(1&e&&u.ac(0,"ac-d3-stacked-bar-chart",26),2&e){const e=u.tc(2);u.Ac("chartno",0)("data",e.barData)("columnKeyColorArray",e.columnKeyColorArray)("heightInput","160px")("chartXAxisTitle",e.chartXAxisTitle)}}function xi(e,t){1&e&&u.ac(0,"ac-loader")}function Ti(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"div",53),u.fc(2,"label",54),u.bd(3),u.uc(4,"translate"),u.ec(),u.fc(5,"button",55),u.pc("click",function(t){u.Rc(e);const i=u.Pc(12);return u.tc(3).showBasicFilter(),i.toggle(t)}),u.bd(6),u.uc(7,"translate"),u.ec(),u.fc(8,"button",56),u.pc("click",function(t){u.Rc(e);const i=u.Pc(14);return u.tc(3).showAdvancedSearch(),i.toggle(t)}),u.bd(9),u.uc(10,"translate"),u.ec(),u.fc(11,"isac-lib-filter-overlay-panel",57,58),u.pc("onFiltersReset",function(t){return u.Rc(e),u.tc(3).onBasicFiltersReset(t)})("onFiltersApply",function(t){return u.Rc(e),u.tc(3).onBasicFiltersApply(t)})("onFilterChange",function(t){return u.Rc(e),u.tc(3).onFilterChange(t)}),u.ec(),u.fc(13,"app-document-search",59,60),u.pc("onDocAdvancedSearchApply",function(t){return u.Rc(e),u.tc(3).onAdvancedSearchApply(t)})("onDocAdvancedSearchReset",function(t){return u.Rc(e),u.tc(3).onAdvancedSearchReset(t)}),u.ec(),u.fc(15,"isac-lib-filter-tags",61),u.pc("onClearAll",function(t){return u.Rc(e),u.tc(3).onClearAllFilters(t)})("onClearFilter",function(t){return u.Rc(e),u.tc(3).onClearFilter(t)}),u.ec(),u.ec(),u.cc()}if(2&e){const e=u.tc(3);u.Lb(3),u.cd(u.vc(4,8,"common.table.search")),u.Lb(3),u.cd(u.vc(7,10,"common.basic")),u.Lb(3),u.cd(u.vc(10,12,"common.advanced")),u.Lb(2),u.Ac("styleClass","filter-overlaypanel-content")("tableFilters",e.documentListStateService.basicSearchFilters),u.Lb(2),u.Ac("documentSearchQuery",e.documentListStateService.documentSearchQuery)("docStatusList",e.typeList),u.Lb(2),u.Ac("filterTags",e.filterTags)}}const Li=function(e){return{value1:1e4,value2:e}};function wi(e,t){if(1&e){const e=u.gc();u.fc(0,"div",62),u.fc(1,"div",63),u.ac(2,"span",64),u.fc(3,"div",65),u.bd(4),u.uc(5,"translate"),u.ec(),u.fc(6,"span",66),u.pc("click",function(){return u.Rc(e),u.tc(3).hideMaxResultWarning()}),u.uc(7,"translate"),u.ec(),u.ec(),u.ec()}if(2&e){const e=u.tc(3);u.Lb(4),u.dd(" ",u.wc(5,2,"monitoring.maxrowsreached",u.Gc(7,Li,e.actualRowCount))," "),u.Lb(2),u.Bc("pTooltip",u.vc(7,5,"common.close.title"))}}function Ii(e,t){if(1&e&&(u.fc(0,"th",72),u.uc(1,"translate"),u.fc(2,"div",73),u.fc(3,"label",74),u.bd(4),u.uc(5,"translate"),u.ac(6,"p-sortIcon",75),u.ec(),u.ec(),u.ec()),2&e){const e=u.tc().$implicit;u.Bc("pTooltip",u.vc(1,4,e.header)),u.Ac("pSortableColumn",e.field),u.Lb(4),u.dd("",u.vc(5,6,e.header)," "),u.Lb(2),u.Ac("field",e.field)}}function Mi(e,t){if(1&e&&(u.dc(0),u.Zc(1,Ii,7,8,"th",71),u.cc()),2&e){const e=t.$implicit;u.Lb(1),u.Ac("ngIf",!e.hide)}}function Oi(e,t){if(1&e&&(u.fc(0,"tr"),u.fc(1,"td",76),u.ac(2,"ac-loader"),u.ec(),u.ec()),2&e){const e=u.tc(4);u.Lb(1),u.Mb("colspan",e.tableInfo.tableColumnInfo.length)}}function _i(e,t){if(1&e&&(u.fc(0,"tr"),u.fc(1,"td",67),u.ac(2,"p-tableHeaderCheckbox",68,69),u.ec(),u.Zc(4,Mi,2,1,"ng-container",70),u.ec(),u.Zc(5,Oi,3,1,"tr",17)),2&e){const e=u.tc(3);u.Lb(4),u.Ac("ngForOf",e.tableInfo.tableColumnInfo),u.Lb(1),u.Ac("ngIf",e.fetchingTableData)}}function Pi(e,t){if(1&e&&(u.fc(0,"div",82),u.uc(1,"preferredDateTime"),u.fc(2,"span",83),u.bd(3),u.uc(4,"preferredDateTime"),u.ec(),u.ec()),2&e){const e=u.tc(2).$implicit,t=u.tc().$implicit,i=u.tc(3);u.Bc("pTooltip",u.xc(1,2,t[e.field],i.preferencesService,i.dateTimePreferenceService)),u.Lb(3),u.cd(u.xc(4,6,t[e.field],i.preferencesService,i.dateTimePreferenceService))}}function Di(e,t){if(1&e&&(u.fc(0,"a",84),u.fc(1,"span",85),u.bd(2),u.uc(3,"smartTruncatePart1Pipe"),u.ec(),u.fc(4,"span",86),u.bd(5),u.uc(6,"smartTruncatePart2Pipe"),u.ec(),u.ec()),2&e){const e=u.tc(2).$implicit,t=u.tc().$implicit;u.Bc("pTooltip",t[e.field]),u.Cc("routerLink","/monitoring/document/",t.DOCUMENTID,""),u.Mb("aria-label",t[e.field]),u.Lb(2),u.cd(u.wc(3,5,t[e.field],3)),u.Lb(3),u.cd(u.wc(6,8,t[e.field],3))}}function Ai(e,t){if(1&e&&(u.fc(0,"div",82),u.fc(1,"span",83),u.bd(2),u.uc(3,"smartTruncatePart1Pipe"),u.ec(),u.fc(4,"span",87),u.bd(5),u.uc(6,"smartTruncatePart2Pipe"),u.ec(),u.ec()),2&e){const e=u.tc(2).$implicit,t=u.tc().$implicit;u.Bc("pTooltip",t[e.field]),u.Lb(2),u.cd(u.wc(3,3,t[e.field],3)),u.Lb(3),u.cd(u.wc(6,6,t[e.field],3))}}function Ri(e,t){if(1&e&&(u.fc(0,"td"),u.fc(1,"span"),u.fc(2,"div"),u.Zc(3,Pi,5,10,"div",80),u.Zc(4,Di,7,11,"a",81),u.Zc(5,Ai,7,9,"div",80),u.ec(),u.ec(),u.ec()),2&e){const e=u.tc().index;u.Lb(3),u.Ac("ngIf",0==e),u.Lb(1),u.Ac("ngIf",1==e),u.Lb(1),u.Ac("ngIf",e>1)}}function ki(e,t){if(1&e&&(u.dc(0),u.Zc(1,Ri,6,3,"td",17),u.cc()),2&e){const e=t.$implicit;u.Lb(1),u.Ac("ngIf",!e.hide)}}function Ei(e,t){if(1&e){const e=u.gc();u.fc(0,"tr",77),u.pc("keydown.enter",function(){u.Rc(e);const i=t.$implicit;return u.tc(3).onKeydownEnter(i.DOCUMENTID)}),u.fc(1,"td",78),u.ac(2,"p-tableCheckbox",79),u.ec(),u.Zc(3,ki,2,1,"ng-container",70),u.ec()}if(2&e){const e=t.$implicit,i=u.tc(3);u.Ac("pSelectableRow",e),u.Lb(2),u.Ac("value",e),u.Lb(1),u.Ac("ngForOf",i.tableInfo.tableColumnInfo)}}function Fi(e,t){if(1&e&&(u.fc(0,"tr",89),u.fc(1,"td",90),u.bd(2),u.uc(3,"translate"),u.ec(),u.ec()),2&e){const e=u.tc(4);u.Lb(1),u.Mb("colspan",e.tableInfo.tableColumnInfo.length),u.Lb(1),u.dd(" ",u.vc(3,2,"common.table.no.items")," ")}}function Bi(e,t){if(1&e&&u.Zc(0,Fi,4,4,"tr",88),2&e){const e=u.tc(3);u.Ac("ngIf",null!=e.documentList)}}const Ni=function(e,t,i){return{first:e,rows:t,totalRecords:i}};function Hi(e,t){if(1&e&&(u.fc(0,"div"),u.bd(1),u.uc(2,"translate"),u.ec()),2&e){const e=u.tc(4);u.Lb(1),u.dd(" ",u.wc(2,1,"common.table.items.page.info",u.Ic(4,Ni,e.first,e.rows,e.totalRecords))," ")}}function Vi(e,t){1&e&&(u.fc(0,"div"),u.bd(1),u.uc(2,"translate"),u.ec()),2&e&&(u.Lb(1),u.cd(u.vc(2,1,"common.table.zero.items")))}function Zi(e,t){if(1&e&&(u.Zc(0,Hi,3,8,"div",4),u.Zc(1,Vi,3,3,"ng-template",null,91,u.ad)),2&e){const e=u.Pc(2),t=u.tc(3);u.Ac("ngIf",t.totalRecords>0)("ngIfElse",e)}}const ji=function(e){return{zebrastripes:e}},zi=function(){return[20,40,60]};function Ui(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"p-overlayPanel",27,28),u.ac(3,"isac-lib-table-preferences",null,29),u.ec(),u.fc(5,"div",30),u.fc(6,"table",31),u.fc(7,"tr"),u.fc(8,"td"),u.Zc(9,Ti,16,14,"ng-container",17),u.ec(),u.fc(10,"td",32),u.fc(11,"section",33),u.fc(12,"div",34),u.fc(13,"section",35),u.fc(14,"div",36),u.fc(15,"div",37),u.fc(16,"div",38),u.fc(17,"button",39),u.pc("click",function(t){u.Rc(e);const i=u.Pc(2),n=u.tc(2);return i.toggle(t),n.showTablePrefs(t)}),u.uc(18,"translate"),u.uc(19,"translate"),u.ac(20,"i",40),u.ec(),u.ec(),u.fc(21,"div",38),u.fc(22,"button",41),u.pc("click",function(){u.Rc(e);const t=u.Pc(26);return u.tc(2).toggleFullScreen(t)}),u.uc(23,"translate"),u.uc(24,"translate"),u.ac(25,"i",42,43),u.ec(),u.ec(),u.ec(),u.fc(27,"button",44),u.pc("click",function(){return u.Rc(e),u.tc(2).resubmitDocuments()}),u.uc(28,"translate"),u.bd(29),u.uc(30,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(31,"div",45),u.Zc(32,wi,8,9,"div",46),u.fc(33,"p-table",47,48),u.pc("onLazyLoad",function(t){return u.Rc(e),u.tc(2).lazyLoadDocumentTableResults(t)})("selectionChange",function(t){return u.Rc(e),u.tc(2).selectedDocuments=t})("onRowUnselect",function(t){return u.Rc(e),u.tc(2).onRowUnselect(t)})("onRowSelect",function(t){return u.Rc(e),u.tc(2).onRowSelect(t)})("onHeaderCheckboxToggle",function(t){return u.Rc(e),u.tc(2).onHeaderCheckboxToggle(t)})("firstChange",function(t){return u.Rc(e),u.tc(2).first=t}),u.Zc(35,_i,6,2,"ng-template",49),u.Zc(36,Ei,4,3,"ng-template",50),u.Zc(37,Bi,1,1,"ng-template",51),u.Zc(38,Zi,3,2,"ng-template",52),u.ec(),u.ec(),u.ec(),u.cc()}if(2&e){const e=u.tc(2);u.Lb(1),u.Ac("showTransitionOptions","0ms")("hideTransitionOptions","0ms"),u.Lb(8),u.Ac("ngIf",e.isLocalizationResourcesLoaded),u.Lb(8),u.Bc("pTooltip",u.vc(18,24,"common.table.settings")),u.Mb("aria-label",u.vc(19,26,"common.table.settings")),u.Lb(5),u.Bc("pTooltip",u.vc(23,28,"common.showFullScreen")),u.Mb("aria-label",u.vc(24,30,"common.showFullScreen")),u.Lb(5),u.Ac("disabled",!(e.selectedDocuments&&e.selectedDocuments.length>0)),u.Mb("aria-label",u.vc(28,32,"common.table.resubmit")),u.Lb(2),u.dd("",u.vc(30,34,"common.table.resubmit")," "),u.Lb(3),u.Ac("ngIf",e.showMaxRowsReachedMsg),u.Lb(1),u.Ac("ngClass",u.Gc(36,ji,e.tableInfo.showZebraStripes))("columns",e.tableInfo.tableColumnInfo)("value",e.documentList)("paginator",!0)("rows",e.tableInfo.pageSize)("totalRecords",e.totalRecords)("rowsPerPageOptions",u.Fc(38,zi))("paginatorDropdownAppendTo","body")("lazy",!0)("selection",e.selectedDocuments)("first",e.first)("showPageLinks",!1)("showJumpToPageDropdown",!0)}}const $i=function(e){return{hidden:e}};function Qi(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"div",6),u.fc(2,"div",7),u.fc(3,"div",8),u.fc(4,"h1"),u.bd(5),u.uc(6,"translate"),u.ec(),u.ec(),u.fc(7,"div",9),u.fc(8,"isac-lib-date-timerange-panel",10),u.pc("onSelectTimeRange",function(t){return u.Rc(e),u.tc().processSelectedTimeRange(t)})("onRefreshContent",function(t){return u.Rc(e),u.tc().refreshDocumentListContent(t)})("onRefreshIntervalChanged",function(t){return u.Rc(e),u.tc().refreshIntervalChanged(t)}),u.ec(),u.ec(),u.ec(),u.fc(9,"div",11),u.fc(10,"div",12),u.fc(11,"div",13),u.fc(12,"div",14),u.fc(13,"span"),u.bd(14),u.uc(15,"translate"),u.ec(),u.fc(16,"span",15),u.bd(17),u.ec(),u.ec(),u.Zc(18,yi,10,10,"div",16),u.Zc(19,Ci,1,0,"ac-loader",17),u.ec(),u.fc(20,"div",18),u.fc(21,"div",14),u.bd(22),u.uc(23,"translate"),u.ec(),u.Zc(24,Si,1,5,"ac-d3-stacked-bar-chart",19),u.Zc(25,xi,1,0,"ac-loader",17),u.ec(),u.ec(),u.ec(),u.Zc(26,Ui,39,39,"ng-container",4),u.ec(),u.cc()}if(2&e){const e=u.tc(),t=u.Pc(12);u.Lb(5),u.cd(u.vc(6,17,e.tableInfo.tableId)),u.Lb(3),u.Ac("timeRange",e.documentListStateService.timeRange)("refreshInterval",e.documentListStateService.refreshInterval)("isCustomTimeRange",!0)("alignSelector","right")("showRefresh",!0)("showAutoRefresh",!0),u.Lb(1),u.Ac("ngClass",u.Gc(23,$i,e.documentListStateService.fullScreenTable)),u.Lb(5),u.cd(u.vc(15,19,"monitoring.documents.list.tableTitle")),u.Lb(3),u.cd(e.totalExecutions),u.Lb(1),u.Ac("ngIf",e.chartDataFetched),u.Lb(1),u.Ac("ngIf",e.fetchingChartData),u.Lb(3),u.dd(" ",u.vc(23,21,"monitoring.barchart.history"),""),u.Lb(2),u.Ac("ngIf",e.chartDataFetched),u.Lb(1),u.Ac("ngIf",e.fetchingChartData),u.Lb(1),u.Ac("ngIf",e.isTableDataAvailable)("ngIfElse",t)}}function Ki(e,t){1&e&&(u.fc(0,"div",96),u.bd(1),u.uc(2,"translate"),u.ec()),2&e&&(u.Lb(1),u.cd(u.vc(2,1,"monitoring.error.information")))}function Wi(e,t){if(1&e&&(u.fc(0,"div",97),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.cd(e.monitoringErrorInformation)}}function qi(e,t){if(1&e&&(u.fc(0,"div",97),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.cd(e.monitoringErrorMessage1)}}function Xi(e,t){if(1&e&&(u.fc(0,"div",97),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.cd(e.monitoringErrorMessage2)}}function Ji(e,t){if(1&e&&(u.fc(0,"div",97),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.cd(e.monitoringErrorMessage3)}}function Gi(e,t){if(1&e&&(u.fc(0,"div",92),u.bd(1),u.uc(2,"translate"),u.ec(),u.fc(3,"ul"),u.fc(4,"li",93),u.bd(5),u.uc(6,"translate"),u.ec(),u.fc(7,"li",93),u.bd(8),u.uc(9,"translate"),u.ec(),u.fc(10,"li",93),u.bd(11),u.uc(12,"translate"),u.ec(),u.fc(13,"li",93),u.bd(14),u.uc(15,"translate"),u.ec(),u.ec(),u.Zc(16,Ki,3,3,"div",94),u.Zc(17,Wi,2,1,"div",95),u.Zc(18,qi,2,1,"div",95),u.Zc(19,Xi,2,1,"div",95),u.Zc(20,Ji,2,1,"div",95)),2&e){const e=u.tc();u.Lb(1),u.dd(" ",u.vc(2,10,"monitoring.documents.unavailable.message")," "),u.Lb(4),u.dd(" ",u.vc(6,12,"monitoring.documents.unavailable.ensure1")," "),u.Lb(3),u.dd(" ",u.vc(9,14,"monitoring.documents.unavailable.ensure2")," "),u.Lb(3),u.dd(" ",u.vc(12,16,"monitoring.documents.unavailable.ensure3")," "),u.Lb(3),u.dd(" ",u.vc(15,18,"monitoring.documents.unavailable.ensure4")," "),u.Lb(2),u.Ac("ngIf",e.monitoringErrorInformation||e.monitoringErrorMessage1||e.monitoringErrorMessage2||e.monitoringErrorMessage3),u.Lb(1),u.Ac("ngIf",e.monitoringErrorInformation),u.Lb(1),u.Ac("ngIf",e.monitoringErrorMessage1),u.Lb(1),u.Ac("ngIf",e.monitoringErrorMessage2),u.Lb(1),u.Ac("ngIf",e.monitoringErrorMessage3)}}let Yi=(()=>{class e{constructor(e,t,i,n,a,c,s,o,l,d){this.translate=i,this.sharedMessageService=n,this.documentListStateService=a,this.router=c,this.toastr=s,this.dateTimeService=o,this.cd=l,this.preferencesService=d,this.destroyed$=new Rt.a,this.homeLink="#/integration/dashboard/overview",this.isChartDataAvailable=!0,this.isTableDataAvailable=!0,this.subs=[],this.rows=20,this.first=1,this.pageCount=0,this.tableInfo=new h.I("",[]),this.filterTags=[],this.showMaxRowsReachedMsg=!1,this.actualRowCount=0,this.fetchingTableData=!1,this.selectedDocumentIDs=new Array,this.documentAPIService=e,this.tableSettingsService=t,this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=this.getDefaultTableFilters()),this.documentListStateService.timeRange||(this.documentListStateService.timeRange=r.TimerangePickerService.getDefaultTimerange()),this.documentListStateService.refreshInterval||(this.documentListStateService.refreshInterval=0),this.translate.setDefaultLang("en"),this.subs.push(this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)}))}ngOnInit(){this.checkMonitorStatus()}initializeDocumentsList(){this.setDefault(),this.loading=!0,this.chartDataFetched=!1,this.fetchingChartData=!1,this.fetchingTableData=!1,this.subs.push(this.tableSettingsService.getTableInfo("monitoring.documents.list.tableTitle").subscribe(e=>{this.tableInfo=e,this.tableInfo.pageSize||(this.tableInfo.pageSize=20),this.tableSettingsService.changeShowHideInfo(this.tableInfo)})),this.subs.push(this.translate.get("monitoring.documents.document.type.InDoubt").subscribe(()=>{this.isLocalizationResourcesLoaded=!0,this.typeList=[{label:this.translate.instant("monitoring.documents.document.type.broker"),value:"Broker"},{label:this.translate.instant("monitoring.documents.document.type.InDoubt"),value:"In Doubt"},{label:this.translate.instant("monitoring.documents.document.type.RetriesExceeded"),value:"Retries Exceeded"},{label:this.translate.instant("monitoring.documents.document.type.Failed"),value:"Failed"}],this.initTableFilters(),this.updateFilterTags()})),this.documentListStateService.timeRange||(this.documentListStateService.timeRange=r.TimerangePickerService.getDefaultTimerange()),this.documentListStateService.refreshInterval||(this.documentListStateService.refreshInterval=0),this.initSearchQuery(),this.setChartData(),this.pageCount=0,this.getFilteredDocumentList(this.documentListStateService.tableFilters)}refresh(){this.setChartData(),this.refreshDocumentList()}checkMonitorStatus(){this.subs.push(this.documentAPIService.getMonitorStatus().pipe(Object(kt.a)(this.destroyed$)).subscribe(e=>{e&&e.hasOwnProperty("name")&&e.hasOwnProperty("status")&&"WmMonitor"===e.name&&"enabled"===e.status?(this.isTableDataAvailable=!0,this.initializeDocumentsList()):e&&e.hasOwnProperty("name")&&e.hasOwnProperty("status")&&"WmMonitor"===e.name&&"disabled"===e.status?(this.monitoringErrorMessage2=this.translate.instant("monitoring.wmmonitor.disabled"),this.isTableDataAvailable=!1):this.isTableDataAvailable=!1},e=>{this.isTableDataAvailable=!1,this.monitoringErrorMessage2=Object(h.K)(e,this.translate)}))}setChartData(){this.chartDataFetched=!1,this.fetchingChartData=!0,this.donutChartData=null,this.barData=null;let e=null,t=null,i=null;const n=this;this.documentListStateService.timeRange.durationInHours?e=this.documentListStateService.timeRange.durationInHours:(t=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.documentListStateService.timeRange.startTime),i=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.documentListStateService.timeRange.endTime)),this.subs.push(this.documentAPIService.getDocumentChartData(e,t,i).pipe(Object(kt.a)(this.destroyed$)).subscribe(a=>{if(a&&a.hasOwnProperty("documentArray")){const c=n.documentAPIService.summarizedChartData(a,e,t,i);n.barData=c.get("barData"),n.chartXAxisTitle=c.get("barChartLabel"),n.donutChartData=c.get("donutData"),n.legendsData=c.get("columnKeyColorArray"),n.columnKeyColorArray=c.get("columnKeyColorArray"),n.totalExecutions=a.total,n.showMaxRowsReachedMsg=!!a.rowCount,n.actualRowCount=a.rowCount}else this.donutChartData=null,this.barData=null,this.chartXAxisTitle=null,this.totalExecutions=0,this.showMaxRowsReachedMsg=!1,this.actualRowCount=0;n.chartDataFetched=!0,n.fetchingChartData=!1,this.isChartDataAvailable=!0},e=>{this.chartDataFetched=!0,this.fetchingChartData=!1,this.donutChartData=null,this.barData=null,this.chartXAxisTitle=null,this.totalExecutions=0,this.isChartDataAvailable=!1,this.monitoringErrorInformation=Object(h.K)(e,this.translate),e.message&&(this.monitoringErrorMessage1=e.message),this.showMaxRowsReachedMsg=!1,this.actualRowCount=0}))}setDefault(){this.loading=!1,this.tableInfo.sortField=this.tableInfo.defaultSortField,this.tableInfo.sortOrder=this.tableInfo.defaultSortOrder,this.rows=this.tableInfo.pageSize,this.resetPager()}resetPager(){this.first=1,this.pageCount=0,this.totalRecords=0,this.tableInfo.pageSize||(this.tableInfo.pageSize=20),this.rows=this.tableInfo.pageSize}lazyLoadDocumentTableResults(e){this.renderDocumentTableResults(e);const t=e.filters,i=[];Object.keys(t).forEach(e=>{i.push({filterBy:e,filterValue:t[e].value})}),this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=[]),this.getFilteredDocumentList(i.length>0?i:this.documentListStateService.tableFilters)}getFilteredDocumentList(e){this.fetchingTableData=!0,this.documentList=void 0;let t=null,i=null;const n=[];e.map(e=>n.push(Object.assign({},e))),this.documentListStateService.timeRange.durationInHours?n.push({filterBy:"durationInHours",filterValue:this.documentListStateService.timeRange.durationInHours}):(t=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.documentListStateService.timeRange.startTime),i=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.documentListStateService.timeRange.endTime)),this.subs.push(this.documentAPIService.getDocumentList(this.pageCount,this.tableInfo.pageSize,this.tableInfo.sortField,"asc"===this.tableInfo.sortOrder?"TRUE":"FALSE",t,i,n).pipe(Object(kt.a)(this.destroyed$)).subscribe(e=>{e&&(this.totalRecords=e.totalCounts?e.totalCounts:0,this.documentList=e.documents?e.documents:[],this.loading=!1,this.showMaxRowsReachedMsg=!!e.rowCount,this.actualRowCount=e.rowCount),this.fetchingTableData=!1,this.isTableDataAvailable=!0,this.makeComponentsAccessible()},e=>{this.loading=!1,this.documentList=[],this.totalRecords=null,this.showMaxRowsReachedMsg=!1,this.actualRowCount=0,this.fetchingTableData=!1,this.isTableDataAvailable=!1,e.message&&(this.monitoringErrorMessage2=e.message),e.error&&e.error.message&&(this.monitoringErrorMessage3=e.error.message)}))}makeComponentsAccessible(){setTimeout(()=>{const e=document.getElementById("headerCheckbox");e&&h.J.makeTableCheckboxAccessible(e,this.translate.instant("common.table.header.checkbox.title"));const t=document.getElementsByTagName("p-tableCheckbox");let i=0;if(t&&t.length>0)for(i=0;i<t.length;i++)h.J.makeTableCheckboxAccessible(t[i],this.translate.instant("common.table.row.checkbox.title"));const n=document.getElementsByTagName("p-paginator");if(n&&n.length>0)for(i=0;i<n.length;i++)h.J.makePaginatorAccessible(n[i],this.translate.instant("common.table.pagination.go.back.first.page"),this.translate.instant("common.table.pagination.advance.last.page"),this.translate.instant("common.table.pagination.go.back.previous.page"),this.translate.instant("common.table.pagination.advance.next.page"),this.translate.instant("common.table.pagination.select.page"),this.translate.instant("common.table.pagination.select.number.rows"))},100)}hideMaxResultWarning(){this.showMaxRowsReachedMsg=!1}refreshDocumentListContent(e){this.refresh()}refreshDocumentList(){this.getFilteredDocumentList(this.documentListStateService.tableFilters)}refreshIntervalChanged(e){this.documentListStateService.refreshInterval=e.value?e.value:0}renderDocumentTableResults(e){e?(this.tableInfo.sortField=e.sortField,this.tableInfo.sortOrder="desc",1===e.sortOrder&&(this.tableInfo.sortOrder="asc"),this.first=e.first+1,e.rows&&(this.pageCount=Math.floor(e.first/e.rows),this.tableInfo.pageSize=e.rows)):this.setDefault(),this.getRowCount(),this.cd.detectChanges()}getRowCount(){this.tableInfo.pageSize||(this.tableInfo.pageSize=20),this.rows=(this.pageCount+1)*this.tableInfo.pageSize,this.totalRecords>0&&this.totalRecords<this.rows&&(this.rows=this.totalRecords)}onFilterChange(e){if(this.documentListStateService.tableFilters&&0!==this.documentListStateService.tableFilters.length){for(let t=0;t<this.documentListStateService.tableFilters.length;t++)if(this.documentListStateService.tableFilters[t].filterBy===e.filterBy){this.documentListStateService.tableFilters[t]=e;break}}else this.documentListStateService.tableFilters=[],this.documentListStateService.tableFilters.push(e);this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}onClearAll(){this.documentListStateService.tableFilters=[],this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}toggleFullScreen(e){this.documentListStateService.fullScreenTable?(e.classList.remove("dlt-icon-fullscreen-exit"),e.classList.add("dlt-icon-fullscreen"),e.parentElement.title=this.translate.instant("common.showFullScreen")):(e.classList.remove("dlt-icon-fullscreen"),e.classList.add("dlt-icon-fullscreen-exit"),e.parentElement.title=this.translate.instant("common.exitFullScreen")),this.documentListStateService.fullScreenTable=!this.documentListStateService.fullScreenTable}processSelectedTimeRange(e){this.documentListStateService.timeRange=e,this.resetPager(),this.setChartData(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}updateFilterTags(){this.resetPager();const e=[];this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=[]);for(let t=0;t<this.documentListStateService.tableFilters.length;t++){const i=this.documentListStateService.tableFilters[t];"typeSet"===i.filterBy&&i.filterValue?(this.updateDisplayvalueForStatus(i).forEach(t=>{e.push(t)}),this.filterTags=e):null==i.filterDisplayValue&&(i.filterDisplayValue=i.filterValue),null!==i.filterValue&&"typeSet"!==i.filterBy&&e.push(i)}this.filterTags=e}onBasicFiltersReset(){for(let e=this.documentListStateService.tableFilters.length-1;e>=0;--e){const t=this.documentListStateService.tableFilters[e];t.filterBy==t.filterBy&&this.documentListStateService.tableFilters.splice(e,1)}this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}onClearFilter(e){for(let t=0;t<this.documentListStateService.tableFilters.length;t++)if(this.documentListStateService.tableFilters[t].filterBy===e.filterBy){if("typeSet"!==e.filterBy){this.documentListStateService.tableFilters.splice(t,1);break}if(this.filterTags&&this.filterTags.length>0){let t=0;for(let i=0;i<this.filterTags.length;i++)if("typeSet"===this.filterTags[i].filterBy&&this.filterTags[i].filterValue===e.filterValue){t=i;break}if(t>-1&&this.filterTags.splice(t,1),this.documentListStateService.tableFilters&&this.documentListStateService.tableFilters.length>0)for(let i=0;i<this.documentListStateService.tableFilters.length;i++)if("typeSet"===this.documentListStateService.tableFilters[i].filterBy){if(this.documentListStateService.tableFilters[i].filterValue&&this.documentListStateService.tableFilters[i].filterValue.length>0){let t=-1;for(let n=0;n<this.documentListStateService.tableFilters[i].filterValue.length;n++)if(this.documentListStateService.tableFilters[i].filterValue[n]===e.filterValue){t=n;break}t>-1&&this.documentListStateService.tableFilters[i].filterValue.splice(t,1)}break}return void this.getFilteredDocumentList(this.documentListStateService.tableFilters)}}this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}onClearAllFilters(){this.documentListStateService.tableFilters=[],this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}onBasicFiltersApply(e){this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=[]);for(let t=0;t<e.length;t++){const i=e[t];let n=!1;for(let e=0;e<this.documentListStateService.tableFilters.length;e++)if(this.documentListStateService.tableFilters[e].filterBy===i.filterBy){this.documentListStateService.tableFilters[e]=i,n=!0;break}n||this.documentListStateService.tableFilters.push(r.CommonUtil.cloneObject(i))}this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}updateDisplayvalueForStatus(e){const t=[];for(let i=0;i<e.filterValue.length;i++){const n=e.filterValue[i];for(let i=0;i<this.typeList.length;i++){const a=this.typeList[i];if(a.value===n){t.push({filterBy:"typeSet",filterValue:a.value,label:e.label,type:"text",filterDisplayValue:a.label});break}}}return t}getDefaultTableFilters(){return Ft.getDefaultBasicSearchTableFilters(this.typeList)}initTableFilters(){this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=[])}initSearchQuery(){this.documentListStateService.documentSearchQuery||(this.documentListStateService.documentSearchQuery=this.getDefaultDocumentSearchQuery())}getDefaultDocumentSearchQuery(){return this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=[]),{searchTerms:null,tableFilters:this.documentListStateService.tableFilters,status:null,andQuery:!0}}onAdvancedSearchApply(e){this.documentListStateService.documentSearchQuery=e;const t=this.documentListStateService.documentSearchQuery.searchTerms,i=[];for(let n=0;n<t.length;n++){const e=t[n];if(!e.value)continue;const a=Ft.getSearchField(e.field),c={filterBy:a.name,filterValue:e.value,label:a.label,type:a.type,options:this.typeList,filterDisplayValue:a.value};c.filterValue&&i.push(c)}i.push({filterBy:"typeSet",filterValue:this.documentListStateService.documentSearchQuery.status,label:"monitoring.services.service.status",type:"multiSelect",options:this.typeList}),this.documentListStateService.documentSearchQuery.andQuery||i.push({filterBy:"isAnd",filterValue:this.documentListStateService.documentSearchQuery.andQuery,label:"common.labels.SearchCondition",filterDisplayValue:this.translate.instant("common.labels.or"),type:"boolean"}),this.documentListStateService.tableFilters=i,this.updateFilterTags(),this.getFilteredDocumentList(i)}onAdvancedSearchReset(e){this.documentListStateService.documentSearchQuery=e,this.documentListStateService.tableFilters=[],this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}showBasicFilter(){this.documentListStateService.basicSearchFilters=this.getDefaultTableFilters();for(let e=0;e<this.documentListStateService.tableFilters.length;e++){const t=this.documentListStateService.tableFilters[e];"typeSet"===t.filterBy&&t.filterValue?this.documentListStateService.basicSearchFilters[0].filterValue=t.filterValue:"documentName"===t.filterBy&&t.filterValue&&(this.documentListStateService.basicSearchFilters[1].filterValue=t.filterValue)}}showAdvancedSearch(){this.documentListStateService.documentSearchQuery=this.getDefaultDocumentSearchQuery()}onKeydownEnter(e){this.router.navigateByUrl("/monitoring/document/"+e)}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe()),this.destroyed$.next(!0),this.destroyed$.complete()}handleKeydown(e){27===e.keyCode?this.tablePrefsOverlay&&this.tablePrefsOverlay.hide():13===e.keyCode&&e.target&&"showColumns"===e.target.id&&this.tablePrefsOverlay&&this.tablePrefsOverlay.hide()}showTablePrefs(e){const t=this;setTimeout(()=>{t.tablePrefs.setFocus()},10)}pieItemClicked(e){const t=e.label;if(this.documentListStateService.tableFilters&&0!==this.documentListStateService.tableFilters.length){for(let e=0;e<this.documentListStateService.tableFilters.length;e++)if("typeSet"===this.documentListStateService.tableFilters[e].filterBy){this.documentListStateService.tableFilters[e].filterValue=[t];break}}else this.documentListStateService.tableFilters=[],this.documentListStateService.tableFilters.push({filterBy:"typeSet",filterValue:[t],label:"monitoring.services.service.status",type:"multiSelect",options:this.statusList});this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}onRowUnselect(e){e&&"checkbox"===e.type&&e.data&&e.data.DOCUMENTID&&(this.selectedDocumentIDs=this.selectedDocumentIDs.filter(t=>t!==e.data.DOCUMENTID))}onRowSelect(e){e&&"checkbox"===e.type&&e.data&&e.data.DOCUMENTID&&this.selectedDocumentIDs.push(e.data.DOCUMENTID)}onHeaderCheckboxToggle(e){if(e&&(this.selectedDocumentIDs=new Array,e.checked))for(const t of this.documentList)this.selectedDocumentIDs.push(t.DOCUMENTID)}resubmitDocuments(){this.subs.push(this.documentAPIService.resubmitDocuments(this.selectedDocumentIDs).subscribe(e=>{e&&e.message&&e.message.length>0&&this.toastr.success(this.translate.instant("monitoring.documents.multiple.document.resubmit.success.msg",{msg:e.message}),this.translate.instant("monitoring.documents.multiple.document.resubmit.success.title"),{enableHtml:!0}),this.refreshDocumentList()},e=>{const t=Object(h.K)(e,this.translate);this.toastr.error(this.translate.instant("monitoring.documents.multiple.document.resubmit.failed.msg",{errMsg:t}),this.translate.instant("monitoring.documents.multiple.document.resubmit.failed.title")),this.refreshDocumentList()}))}showHelp(){}goToHomePage(){this.router.navigateByUrl(this.homeLink)}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(m),u.Zb(r.TableSettingsService),u.Zb(n.d),u.Zb(h.A),u.Zb(Et),u.Zb(d.e),u.Zb(x.b),u.Zb(r.DateTimeService),u.Zb(u.h),u.Zb(r.PreferencesService))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-document-list"]],viewQuery:function(e,t){if(1&e&&(u.hd(mi,1),u.hd(bi,1),u.hd(vi,1)),2&e){let e;u.Oc(e=u.qc())&&(t.isMonDocTable=e.first),u.Oc(e=u.qc())&&(t.tablePrefs=e.first),u.Oc(e=u.qc())&&(t.tablePrefsOverlay=e.first)}},hostBindings:function(e,t){1&e&&u.pc("keydown",function(e){return t.handleKeydown(e)},!1,u.Qc)},decls:13,vars:8,consts:[[1,"breadcrumbs-container"],["aria-label","breadcrumb",1,"dlt-breadcrumbs"],["routerLink","/integration/dashboard/overview","tabindex","0",1,"dlt-links"],["aria-current","page",1,"dlt-links"],[4,"ngIf","ngIfElse"],["monitorUnavailableTemplate",""],[1,"doclistcontainer"],[1,"row"],[1,"col","page-title"],[1,"d-flex","col","justify-content-end",2,"min-width","615px"],[1,"col-12","right-align",3,"timeRange","refreshInterval","isCustomTimeRange","alignSelector","showRefresh","showAutoRefresh","onSelectTimeRange","onRefreshContent","onRefreshIntervalChanged"],[1,"chartContainerDoc",3,"ngClass"],[1,"row","chart-row"],[1,"col-4"],[1,"header"],[2,"padding-left","10px"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"col-8"],[3,"chartno","data","columnKeyColorArray","heightInput","chartXAxisTitle",4,"ngIf"],[1,"col-5"],[3,"data","heightInput","pieItemClicked"],[1,"col-7","border-right"],[3,"data","heightInput","legendItemClicked"],[1,"donutInfo"],["src","assets/images/svgs/Chart-info-icon.svg",2,"width","16px","height","16px",3,"alt"],[3,"chartno","data","columnKeyColorArray","heightInput","chartXAxisTitle"],["appendTo","body",3,"showTransitionOptions","hideTransitionOptions"],["tablePrefsOverlay",""],["tablePrefs",""],[1,"dlt-data-table-container"],["width","100%"],[2,"vertical-align","top","margin-top","0.0rem","margin-bottom","0.0rem"],[1,"dlt-table-header"],[1,"dlt-data-table-title"],[1,"dlt-table-toolbar"],[1,"dlt-toolbar-content"],[2,"display","inline-flex"],[1,"dlt-dropdown"],["showDelay","250","tooltipPosition","left","tabindex","0",1,"dlt-button","dlt-button-icon","btn-1","tb-vert",3,"pTooltip","click"],[1,"dlt-icon-settings","dlg-icon-btn","dlt-icon"],["showDelay","250","tabindex","0","tooltipPosition","left",1,"dlt-button","dlt-button-icon","btn-1","tb-vert",3,"pTooltip","click"],[1,"dlt-icon-fullscreen","dlg-icon-btn","dlt-icon"],["expandTable",""],["tabindex","0",1,"dlt-button","dlt-button-primary","xs-button",3,"disabled","click"],[1,"dlt-table-wrapper"],["class","dlt-inline warn-border",4,"ngIf"],["lazyLoadOnInit","false","sortMode","single","sortOrder","-1","dataKey","DOCUMENTID",3,"ngClass","columns","value","paginator","rows","totalRecords","rowsPerPageOptions","paginatorDropdownAppendTo","lazy","selection","first","showPageLinks","showJumpToPageDropdown","onLazyLoad","selectionChange","onRowUnselect","onRowSelect","onHeaderCheckboxToggle","firstChange"],["isMonDocTable",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorleft"],[1,"filterCell"],[2,"margin-right","10px"],["tabindex","0",1,"dlt-button","dlt-button-primary","xs-button","searchButton",3,"click"],["tabindex","0",1,"dlt-button","dlt-button-secondary","xs-button","searchButton",3,"click"],[3,"styleClass","tableFilters","onFiltersReset","onFiltersApply","onFilterChange"],["filterOverlayPanel",""],[3,"documentSearchQuery","docStatusList","onDocAdvancedSearchApply","onDocAdvancedSearchReset"],["advancedSearchOverlayPanel",""],[3,"filterTags","onClearAll","onClearFilter"],[1,"dlt-inline","warn-border"],[1,"dlg-title-wrapper"],[1,"dlt-icon-warning","warn-icon"],[1,"inline-message"],["showDelay","250",1,"dlt-icon-close","close-icon","closeWarning",3,"pTooltip","click"],[1,"tableHeaderSelectAll"],["id","headerCheckbox"],["headerCheckbox",""],[4,"ngFor","ngForOf"],["tooltipPosition","top",3,"pSortableColumn","pTooltip",4,"ngIf"],["tooltipPosition","top",3,"pSortableColumn","pTooltip"],[1,"table-header-title","width-100-percentage"],[1,"width-55-percentage","m-pull-top-point-7"],["ariaLabel","'common.table.column.sort'|translate","ariaLabelDesc","'common.table.column.sort.descending'|translate","ariaLabelAsc","'common.table.column.sort.ascending'|translate",3,"field"],[1,"table-data","centerAlignText"],[3,"pSelectableRow","keydown.enter"],[1,"selection-checkbox",2,"color","#000"],[3,"value"],["showDelay","250","tooltipPosition","top",3,"pTooltip",4,"ngIf"],["showDelay","250","tooltipPosition","top",3,"pTooltip","routerLink",4,"ngIf"],["showDelay","250","tooltipPosition","top",3,"pTooltip"],[1,"firstPart","firstPart0"],["showDelay","250","tooltipPosition","top",3,"pTooltip","routerLink"],[1,"firstPart"],[1,"lastPart"],[1,"lastPart","lastPart0"],["class","no-items-todisplay",4,"ngIf"],[1,"no-items-todisplay"],[1,"table-data"],["noItemsTemplate",""],[1,"monitoringUnavailable"],[1,"monitoringUnavailableEnsure"],["class","monitoringErrorInfoLabel",4,"ngIf"],["class","monitoringErrorInfoMsg",4,"ngIf"],[1,"monitoringErrorInfoLabel"],[1,"monitoringErrorInfoMsg"]],template:function(e,t){if(1&e&&(u.fc(0,"div",0),u.fc(1,"ol",1),u.fc(2,"li"),u.fc(3,"a",2),u.bd(4),u.uc(5,"translate"),u.ec(),u.ec(),u.fc(6,"li"),u.fc(7,"a",3),u.bd(8),u.uc(9,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.Zc(10,Qi,27,25,"ng-container",4),u.Zc(11,Gi,21,20,"ng-template",null,5,u.ad)),2&e){const e=u.Pc(12);u.Lb(4),u.cd(u.vc(5,4,"masthead.administration")),u.Lb(4),u.cd(u.vc(9,6,"monitoring.documents.tab")),u.Lb(2),u.Ac("ngIf",t.isChartDataAvailable)("ngIfElse",e)}},directives:[d.h,s.n,r.DateTimerangePanelComponent,s.l,Vt,zt,Qt,Kt.a,r.TablePreferencesComponent,T.a,Wt.h,w.j,r.FilterOverlayPanelComponent,fi,r.FilterTagsComponent,Wt.j,s.m,Wt.g,Wt.f,Wt.e,Wt.i],pipes:[n.c,h.t,h.E,h.F],styles:[".documentList-table[_ngcontent-%COMP%]{margin:10px}.breadcrumbs-container[_ngcontent-%COMP%]{padding-top:.8rem;margin-left:2px}.rightSideFixedcontainer[_ngcontent-%COMP%]{padding-top:.8rem;margin-right:25px}.doclistcontainer[_ngcontent-%COMP%]{width:100%;height:100%;padding:1rem 1rem 1rem 1.26rem;overflow:auto}.page-title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-left:-.36rem;font-family:Roboto,Helvetica,Arial,sans-serif;white-space:nowrap;overflow:none;min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content}.page-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.service-table-wrapper[_ngcontent-%COMP%]{padding:5px}.data-table-title[_ngcontent-%COMP%]{font-weight:500;font-size:1.25rem;color:#333;position:relative;display:flex;line-height:2rem;white-space:nowrap}.documentList-table[_ngcontent-%COMP%]   .table-toolbar[_ngcontent-%COMP%]{display:flex;width:100%;height:2rem;align-items:flex-end;justify-content:flex-end}.documentList-table[_ngcontent-%COMP%]   .dlt-form-group[_ngcontent-%COMP%]{max-width:300px}.documentList-table[_ngcontent-%COMP%]   .xs-button[_ngcontent-%COMP%]{line-height:1.75rem;margin:2px 10px 2px 0}.documentList-table[_ngcontent-%COMP%]   .dlt-dropdown[_ngcontent-%COMP%]{line-height:2rem;margin:0 10px 0 0}.documentList-table[_ngcontent-%COMP%]   .dlt-button-icon[_ngcontent-%COMP%]{height:1.75rem!important;width:1.75rem!important}.hidden[_ngcontent-%COMP%]{display:none}.tableHeaderSelectAll[_ngcontent-%COMP%]{width:3em;padding-left:.9em}.padding-top-30[_ngcontent-%COMP%]{padding-top:30px}.legend-panel[_ngcontent-%COMP%]{background:#fff none repeat scroll 0 0;height:auto;position:absolute;right:20px;top:60px}.panel[_ngcontent-%COMP%]{margin-top:27px!important;border:1px solid #cccccb;padding:0 10px}.chartContainerDoc[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.row.chart-row[_ngcontent-%COMP%]{box-shadow:0 2px 8px 0 rgba(0,0,0,.15);border:1px solid #dadada;background-color:#fff;margin-bottom:20px;margin-top:10px}.header[_ngcontent-%COMP%]{color:#666;padding-left:2px;padding-right:2px;margin-bottom:0;padding-top:10px}.margin-bottom[_ngcontent-%COMP%]{margin-bottom:20px}.donutInfo[_ngcontent-%COMP%]{color:#666;padding-top:0;padding-bottom:10px;padding-left:10px;font-size:.7rem}.dlt-icon-fullscreen[_ngcontent-%COMP%]:before{content:url(Expand-dialog-vec18.4ec93a215fa9f4638f8b.svg)}.dlt-icon-fullscreen-exit[_ngcontent-%COMP%]:before{content:url(Collapse-dialog-vec18.c764bb320fbb6335e037.svg)}.dlt-inline[_ngcontent-%COMP%]{width:100%;margin-top:10px}.monitoringUnavailable[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-top:2rem}.monitoringUnavailable[_ngcontent-%COMP%], .monitoringUnavailableEnsure[_ngcontent-%COMP%]{width:100%;margin-left:2rem;margin-right:2rem;padding-right:2rem;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringUnavailableEnsure[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;font-weight:400}.monitoringErrorInfoLabel[_ngcontent-%COMP%]{font-weight:500;margin-top:1rem;margin-left:3rem;margin-right:3rem;padding-right:3rem}.monitoringErrorInfoLabel[_ngcontent-%COMP%], .monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;width:100%;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-weight:400;margin-left:4rem;margin-right:4rem;padding-right:4rem}.firstPart0[_ngcontent-%COMP%], .lastPart0[_ngcontent-%COMP%]{color:#000}firstPart[_ngcontent-%COMP%], lastPart[_ngcontent-%COMP%]{color:#34d!important}.dlt-icon-tbl[_ngcontent-%COMP%]{width:40px}.filterCell[_ngcontent-%COMP%]{margin-top:0}.closeWarning[_ngcontent-%COMP%]{cursor:pointer}.searchButton[_ngcontent-%COMP%]{display:inline!important}.tb-vert[_ngcontent-%COMP%]{width:2rem!important;height:2rem!important}"]}),e})();var en=i("rK5H");const tn=function(e){return[e]},nn=function(e){return{"dlt-tab-link-selected":e}},an=function(){return["dlt-tab-link-selected"]},cn=function(){return{exact:!0}};function rn(e,t){if(1&e&&(u.dc(0),u.fc(1,"div",2),u.fc(2,"ul",3),u.fc(3,"li",4),u.fc(4,"a",5),u.bd(5),u.uc(6,"translate"),u.ec(),u.ec(),u.fc(7,"li",4),u.fc(8,"a",5),u.bd(9),u.uc(10,"translate"),u.ec(),u.ec(),u.fc(11,"li",4),u.fc(12,"a",6),u.bd(13),u.uc(14,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(15,"div",7),u.fc(16,"div",8),u.ac(17,"router-outlet"),u.ec(),u.ec(),u.cc()),2&e){const e=u.tc();u.Lb(4),u.Ac("id",e.subNavItems[0].id)("routerLink",u.Gc(19,tn,null==e.subNavItems[0]?null:e.subNavItems[0].link))("ngClass",u.Gc(21,nn,e.isServiceLinkActive())),u.Lb(1),u.dd(" ",u.vc(6,13,null==e.subNavItems[0]?null:e.subNavItems[0].displayText)," "),u.Lb(3),u.Ac("id",null==e.subNavItems[1]?null:e.subNavItems[1].id)("routerLink",u.Gc(23,tn,null==e.subNavItems[1]?null:e.subNavItems[1].link))("ngClass",u.Gc(25,nn,e.isDocumentLinkActive())),u.Lb(1),u.dd(" ",u.vc(10,15,null==e.subNavItems[1]?null:e.subNavItems[1].displayText)," "),u.Lb(3),u.Ac("id",null==e.subNavItems[2]?null:e.subNavItems[2].id)("routerLink",u.Gc(27,tn,null==e.subNavItems[2]?null:e.subNavItems[2].link))("routerLinkActive",u.Fc(29,an))("routerLinkActiveOptions",u.Fc(30,cn)),u.Lb(1),u.dd(" ",u.vc(14,17,null==e.subNavItems[2]?null:e.subNavItems[2].displayText)," ")}}function sn(e,t){1&e&&(u.fc(0,"div",13),u.bd(1),u.uc(2,"translate"),u.ec()),2&e&&(u.Lb(1),u.cd(u.vc(2,1,"monitoring.error.information")))}function on(e,t){if(1&e&&(u.fc(0,"div",14),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.cd(e.monitoringErrorInformation)}}function ln(e,t){if(1&e&&(u.fc(0,"div",14),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.cd(e.monitoringErrorMessage1)}}function dn(e,t){if(1&e&&(u.fc(0,"div",14),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.cd(e.monitoringErrorMessage2)}}function un(e,t){if(1&e&&(u.fc(0,"div",14),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.cd(e.monitoringErrorMessage3)}}function hn(e,t){if(1&e&&(u.fc(0,"div",9),u.bd(1),u.uc(2,"translate"),u.ec(),u.fc(3,"ul"),u.fc(4,"li",10),u.bd(5),u.uc(6,"translate"),u.ec(),u.fc(7,"li",10),u.bd(8),u.uc(9,"translate"),u.ec(),u.fc(10,"li",10),u.bd(11),u.uc(12,"translate"),u.ec(),u.fc(13,"li",10),u.bd(14),u.uc(15,"translate"),u.ec(),u.ec(),u.Zc(16,sn,3,3,"div",11),u.Zc(17,on,2,1,"div",12),u.Zc(18,ln,2,1,"div",12),u.Zc(19,dn,2,1,"div",12),u.Zc(20,un,2,1,"div",12)),2&e){const e=u.tc();u.Lb(1),u.dd(" ",u.vc(2,10,"monitoring.unavailable.message")," "),u.Lb(4),u.dd(" ",u.vc(6,12,"monitoring.services.unavailable.ensure1")," "),u.Lb(3),u.dd(" ",u.vc(9,14,"monitoring.services.unavailable.ensure2")," "),u.Lb(3),u.dd(" ",u.vc(12,16,"monitoring.services.unavailable.ensure3")," "),u.Lb(3),u.dd(" ",u.vc(15,18,"monitoring.services.unavailable.ensure4")," "),u.Lb(2),u.Ac("ngIf",e.monitoringErrorInformation||e.monitoringErrorMessage1||e.monitoringErrorMessage2||e.monitoringErrorMessage3),u.Lb(1),u.Ac("ngIf",e.monitoringErrorInformation),u.Lb(1),u.Ac("ngIf",e.monitoringErrorMessage1),u.Lb(1),u.Ac("ngIf",e.monitoringErrorMessage2),u.Lb(1),u.Ac("ngIf",e.monitoringErrorMessage3)}}let gn=(()=>{class e{constructor(e,t,i,n){this.router=e,this.translate=t,this.monitoringLayoutService=n,this.destroyed$=new Rt.a,this.monitoring="/monitoring/",this.services=this.monitoring+"services",this.service=this.monitoring+"service",this.documents=this.monitoring+"documents",this.document=this.monitoring+"document",this.dataManagement=this.monitoring+"data-management",this.subscriptions=[],this.isWmMonitorAvailable=!0,this.subNavItems=h.j.getMonitorNavItems,this.isPackageService=i,this.checkMonitorStatus()}checkMonitorStatus(){this.subscriptions.push(this.isPackageService.getISPackageInfo("WmMonitor").pipe(Object(kt.a)(this.destroyed$)).subscribe(e=>{if(e&&"WmMonitor"===e.packageName&&"true"===e.enabled)return this.isWmMonitorAvailable=!0,void this.subscriptions.push(this.monitoringLayoutService.navLink.subscribe(e=>{this.activeRouteLink=e.startsWith(this.service)?this.services:e.startsWith(this.document)?this.documents:this.dataManagement}));this.monitoringErrorMessage2=this.translate.instant(e&&"WmMonitor"===e.packageName&&"false"===e.enabled?"monitoring.wmmonitor.disabled":"monitoring.wmmonitor.not.installed"),this.isWmMonitorAvailable=!1},e=>{this.isWmMonitorAvailable=!1,this.monitoringErrorMessage2=this.translate.instant("monitoring.wmmonitor.not.installed"),this.monitoringErrorMessage3=Object(h.K)(e,this.translate)}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.destroyed$.next(!0),this.destroyed$.complete()}isServiceLinkActive(){return(this.router.url&&this.router.url.indexOf("/service"))>-1}isDocumentLinkActive(){return(this.router.url&&this.router.url.indexOf("/document"))>-1}ngOnInit(){!this.activeRouteLink&&this.subNavItems&&this.subNavItems.length>0&&(this.activeRouteLink=this.subNavItems[0].link)}onNavItemClick(e,t){this.activeRouteLink=t.link,e.stopPropagation(),e.preventDefault(),this.activeRouteLink=t.link,this.router.navigateByUrl(t.link)}getClassForServicesTab(){return this.activeRouteLink===this.services?"selected-navigation-link":"navigation-link"}getClassForDocumentsTab(){return this.activeRouteLink===this.documents?"selected-navigation-link":"navigation-link"}getClassForDataManagementTab(){return this.activeRouteLink===this.dataManagement?"selected-navigation-link":"navigation-link"}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(d.e),u.Zb(n.d),u.Zb(en.a),u.Zb(S))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-monitoring-layout"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["monitorUnavailableTemplate",""],[1,"monitoring","dlt-tab-bar"],["role","tablist",1,"dlt-tab-nav"],["role","presentation"],["role","tab",1,"dlt-tab-link",3,"id","routerLink","ngClass"],["role","tab",1,"dlt-tab-link",3,"id","routerLink","routerLinkActive","routerLinkActiveOptions"],[1,"monitoring-container"],[1,"monitoring-area"],[1,"monitoringUnavailable"],[1,"monitoringUnavailableEnsure"],["class","monitoringErrorInfoLabel",4,"ngIf"],["class","monitoringErrorInfoMsg",4,"ngIf"],[1,"monitoringErrorInfoLabel"],[1,"monitoringErrorInfoMsg"]],template:function(e,t){if(1&e&&(u.Zc(0,rn,18,31,"ng-container",0),u.Zc(1,hn,21,20,"ng-template",null,1,u.ad)),2&e){const e=u.Pc(2);u.Ac("ngIf",t.isWmMonitorAvailable)("ngIfElse",e)}},directives:[s.n,d.h,s.l,d.g,d.j],pipes:[n.c],styles:[".sub-nav[_ngcontent-%COMP%]{position:relative;padding:0 30px;height:56px;border-radius:0;background-color:#fff;box-shadow:0 1px 0 0 rgba(0,0,0,.15);border:none}.sub-nav[_ngcontent-%COMP%], .sub-nav__container[_ngcontent-%COMP%]{list-style-type:none;margin:0}.sub-nav__container[_ngcontent-%COMP%]{position:absolute;bottom:0;padding:0}.sub-nav__container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-right:32px;padding:7px 16px}.sub-nav__container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;display:block;text-decoration:none}.sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]{padding-bottom:7px;border:2px solid transparent}.sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]:focus, .sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]:hover{padding-bottom:7px;border:2px solid #14629f}.sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;text-decoration:none;font-size:14px}.sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#1776bf;text-decoration:none}.sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.sub-nav[_ngcontent-%COMP%]   .selected-navigation-link[_ngcontent-%COMP%]{font-weight:700;padding-bottom:7px;border-style:solid;color:transparent;border-bottom:solid #14629f;border-width:2px}.sub-nav[_ngcontent-%COMP%]   .selected-navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1776bf}.sub-nav[_ngcontent-%COMP%]   .selected-navigation-link[_ngcontent-%COMP%]:focus, .sub-nav[_ngcontent-%COMP%]   .selected-navigation-link[_ngcontent-%COMP%]:hover{border-color:#14629f}.navigation-link[_ngcontent-%COMP%]:hover, .navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .selected-navigation-link[_ngcontent-%COMP%]{border-bottom-color:#14629f}.navigation-link[_ngcontent-%COMP%]:focus, .navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{border-color:#14629f}.monitoring-container[_ngcontent-%COMP%]{height:calc(100vh - 64px - 56px - 15px);width:100%;margin-bottom:1rem}.monitoring-area[_ngcontent-%COMP%]{height:100%;width:100%}.monitoring[_ngcontent-%COMP%]{margin-top:5px}  .dlt-tab-bar{box-shadow:0 1px 0 0 #e5e5e5}  .dlt-tab-bar ul.dlt-tab-nav li{width:auto!important} .dlt-tab-bar ul.dlt-tab-nav li a.dlt-tab-link{border-bottom:2px solid transparent;color:#333!important}.monitoringUnavailable[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-top:2rem}.monitoringUnavailable[_ngcontent-%COMP%], .monitoringUnavailableEnsure[_ngcontent-%COMP%]{width:100%;margin-left:2rem;margin-right:2rem;padding-right:2rem;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringUnavailableEnsure[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;font-weight:400}.monitoringErrorInfoLabel[_ngcontent-%COMP%]{font-weight:500;margin-top:1rem;margin-left:3rem;margin-right:3rem;padding-right:3rem}.monitoringErrorInfoLabel[_ngcontent-%COMP%], .monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;width:100%;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-weight:400;margin-left:4rem;margin-right:4rem;padding-right:4rem}"]}),e})();var pn=i("lJxs");new o.e({"Content-Type":"application/json"});let fn=(()=>{class e{constructor(e,t,i,n){this.http=e,this.translateService=t,this.dateTimeService=i,this.toastr=n,this.servicesUrl="/admin/monitor"}getServices(){return this.http.get(this.servicesUrl+"/service").pipe(Object(pn.a)(e=>{if(e&&e.services)return e.services;throw new Error("Invalid response format received while getting service list")}),Object(g.a)(this.handleError("getServices",[])))}getServiceDetails(e){return this.http.get(this.servicesUrl+"/service/"+e).pipe(Object(g.a)(this.handleError("getServiceDetails")))}getServiceHistory(e){return this.http.get(this.servicesUrl+"/service/"+e+"/history").pipe(Object(g.a)(this.handleError("getServiceHistory")))}getServiceActivityMessages(e){return this.http.get(this.servicesUrl+"/service/"+e+"/activity_logs").pipe(Object(g.a)(this.handleError("getServiceActivityMessages")))}getControlActions(e){return this.http.get(this.servicesUrl+"/service/"+e+"/control_actions").pipe(Object(g.a)(this.handleError("getControlActions")))}getLoggedFields(e){return this.http.get(this.servicesUrl+"/service/"+e+"/custom_data").pipe(Object(g.a)(this.handleError("getLoggedFields")))}getServiceErrors(e){return this.http.get(this.servicesUrl+"/service/"+e+"/errors").pipe(Object(g.a)(this.handleError("getServiceErrors")))}getMonitorStatus(){return this.http.get(this.servicesUrl+"/status")}resubmitService(e,t,i){return this.http.post(this.servicesUrl+"/service/"+e+"?action=resubmit&name="+t,i).pipe(Object(g.a)(this.handleResubmitError))}resubmitServices(e){let t=this.servicesUrl+"/service?action=resubmit";for(const i of e)t+="&contextIDs[]="+i;return this.http.post(t,null)}handleError(e="operation",t){return i=>(console.error(i),this.log(`${e} failed: ${i.message}`),Object(p.a)(t))}handleResubmitError(e){let t=null;return t=e instanceof Response?`${e.status} - ${e.statusText||""} ${e||""}`:e.message?e.message:e.toString(),console.error(t),Object(p.a)(t)}log(e){u.fb&&console.log(`ServiceApiService: ${e}`)}getServiceExecutionList(e,t,i="LASTTIMESTRING",n,a,c,r){let s=(new o.f).set("pageNumber",e).set("pageSize",t).set("sortColumn",i).set("sortAscending",n);if(r&&r.length>0)for(let o=0;o<r.length;o++)if("durationInHours"===r[o].filterBy){const e=this.setStartAndFromDateWithoutSeconds(r[o].filterValue,a,c);a=e.startTime,c=e.endTime,r.splice(o,1);break}return a&&(s=s.append("fromDate",a)),c&&(s=s.append("toDate",c)),this.hasIsAnd(r)||(s=s.append("isAnd","TRUE")),s=h.J.getFliterToQueryParam(r,s),this.http.get(this.servicesUrl+"/service",{params:s})}hasIsAnd(e){if(!e||0===e.length)return!1;for(let t=0;t<e.length;t++)if("isAnd"===e[t].filterBy)return!0;return!1}setStartAndFromDateWithoutSeconds(e,t,i){return{startTime:(i=f.utc().startOf("minute")).clone().subtract(e,"hours").valueOf(),endTime:i=i.valueOf()}}getServiceExecutionChartData(e,t,i){let n=new o.f;if(t||i||e||(e=1),e){const n=this.setStartAndFromDateWithoutSeconds(e,t,i);t=n.startTime,i=n.endTime}return t&&(n=n.append("fromDate",t)),i&&(n=n.append("toDate",i)),n=n.append("isAnd","TRUE"),n=n.append("customIntervals","20"),this.http.get(this.servicesUrl+"/service/summary",{params:n})}summarizedChartData(e,t,i,n){if(e){const a=[];let c="";const r=[],s=[],o=[],l=[];c=this.getLabelForBarChartXAxis(t,i,n);for(const t of e.serviceArray){const e=t.startTimestamp,i=t.endTimestamp;let n;0===a.length&&(n=n);let c="0",r="0",s="0",o="0";if(t.statusDetails.length>0)for(const a of t.statusDetails)"failed"===a.status?s=a.numberOfExecutions.toString():"completed"===a.status?r=a.numberOfExecutions.toString():"resubmitted"===a.status?o=a.numberOfExecutions.toString():"started"===a.status&&(c=a.numberOfExecutions.toString());const l={completed:r,completedOriginal:r,failed:s,failedOriginal:s,resubmitted:o,resubmittedOriginal:o,started:c,startedOriginal:c,startTime:this.dateTimeService.converUTCTimeStampToLocalJsDate(e),endTime:this.dateTimeService.converUTCTimeStampToLocalJsDate(i)};a.push(l)}for(let e=0;e<a.length;e++)r.push(a[e].completed),s.push(a[e].failed),o.push(a[e].started),l.push(a[e].resubmitted);const d=r.reduce((e,t)=>Math.max(e,t)),u=s.reduce((e,t)=>Math.max(e,t)),h=o.reduce((e,t)=>Math.max(e,t)),g=l.reduce((e,t)=>Math.max(e,t)),p=Math.max(d,u,h,g);if(p>0)for(let e=0;e<a.length;e++){if("0"!==a[e].completed){let t=Number(a[e].completed)/Number(p)*100;for(;t<6;)a[e].completed=(Number(a[e].completed)+1).toString(),t=Number(a[e].completed)/Number(p)*100}if("0"!==a[e].failed){let t=Number(a[e].failed)/Number(p)*100;for(;t<6;)a[e].failed=(Number(a[e].failed)+1).toString(),t=Number(a[e].failed)/Number(p)*100}if("0"!==a[e].started){let t=Number(a[e].started)/Number(p)*100;for(;t<6;)a[e].started=(Number(a[e].started)+1).toString(),t=Number(a[e].started)/Number(p)*100}if("0"!==a[e].resubmitted){let t=Number(a[e].resubmitted)/Number(p)*100;for(;t<6;)a[e].resubmitted=(Number(a[e].resubmitted)+1).toString(),t=Number(a[e].resubmitted)/Number(p)*100}}const f=new Map;return f.set("barData",a),f.set("barChartLabel",c),f.set("totalCompleted",e.totalCompleted),f.set("totalFailed",e.totalFailed),f.set("totalStarted",e.totalStarted),f.set("totalResubmitted",e.totalResubmitted),f.set("donutData",this.getDonutData(e)),f.set("columnKeyColorArray",this.getServiceBarColumnKeyColorArray(e.totalStarted,e.totalCompleted,e.totalFailed,e.totalResubmitted)),f}throw new Error("Invalid response format for integration serivce execution chart")}getLabelForBarChartXAxis(e,t,i){let n="";return e&&e<=24?n=this.translateService.instant(1===e?"common.chart.label.time.duration.hour":"common.chart.label.time.duration.hours",{value:e}):e&&48===e?n=this.translateService.instant("common.chart.label.time.duration.days",{value:e/24}):e&&e>48?n=this.translateService.instant(168===e?"common.chart.label.time.duration.week":"common.chart.label.time.duration.weeks",{value:e/168}):t&&i&&(n=this.translateService.instant("common.chart.label.time.duration.custom",{value1:this.dateTimeService.converUTCTimeStampToLocalDateFormatString(t),value2:this.dateTimeService.converUTCTimeStampToLocalDateFormatString(i)})),n}getServiceBarColumnKeyColorArray(e,t,i,n){return[{key:"started",color:r.COLOR_HEX.STARTED,displayValue:"monitoring.services.service.status.started",count:e},{key:"completed",color:r.COLOR_HEX.COMPLETED,displayValue:"monitoring.services.service.status.completed",count:t},{key:"failed",color:r.COLOR_HEX.FAILED,displayValue:"monitoring.services.service.status.failed",count:i},{key:"resubmitted",color:r.COLOR_HEX.RESUBMITTED,displayValue:"monitoring.services.service.status.resubmitted",count:n}]}getDonutData(e){return[{label:"started",displayLabel:"monitoring.services.service.status.started",value:e.totalStarted,color:r.COLOR_HEX.STARTED},{label:"completed",displayLabel:"monitoring.services.service.status.completed",value:e.totalCompleted,color:r.COLOR_HEX.COMPLETED},{label:"failed",displayLabel:"monitoring.services.service.status.failed",value:e.totalFailed,color:r.COLOR_HEX.FAILED},{label:"resubmitted",displayLabel:"monitoring.services.service.status.resubmitted",value:e.totalResubmitted,color:r.COLOR_HEX.RESUBMITTED}]}}return e.\u0275fac=function(t){return new(t||e)(u.mc(o.b),u.mc(n.d),u.mc(r.DateTimeService),u.mc(x.b))},e.\u0275prov=u.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var mn=i("TFiL"),bn=i("KnEf");const vn=["runTreeRef"],yn=["op"],Cn=["pipelineInput"];function Sn(e,t){if(1&e&&(u.fc(0,"div",92),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Bc("pTooltip",e.serviceDetails.details.ERRORMESSAGE),u.Lb(1),u.dd("",e.serviceDetails.details.ERRORMESSAGE," ")}}function xn(e,t){1&e&&(u.fc(0,"div",92),u.uc(1,"translate"),u.bd(2),u.uc(3,"translate"),u.ec()),2&e&&(u.Bc("pTooltip",u.vc(1,2,"monitoring.services.service.errors.none")),u.Lb(2),u.dd(" ",u.vc(3,4,"monitoring.services.service.errors.none")," "))}function Tn(e,t){if(1&e&&(u.dc(0),u.ac(1,"hr",34),u.fc(2,"div",53),u.fc(3,"div",93),u.bd(4),u.uc(5,"translate"),u.ec(),u.ec(),u.ac(6,"hr",94),u.fc(7,"div",53),u.fc(8,"div",95),u.fc(9,"div",96),u.fc(10,"a",97),u.bd(11),u.ec(),u.ec(),u.ec(),u.ec(),u.cc()),2&e){const e=u.tc(2);u.Lb(4),u.dd(" ",u.vc(5,4,"monitoring.services.root.service")," "),u.Lb(6),u.Bc("pTooltip",e.serviceDetails.details.root.SERVICENAME),u.Bc("routerLink",e.getRootServiceLink()),u.Lb(1),u.dd(" ",e.serviceDetails.details.root.SERVICENAME," ")}}function Ln(e,t){if(1&e&&(u.dc(0),u.ac(1,"hr",34),u.fc(2,"div",53),u.fc(3,"div",93),u.bd(4),u.uc(5,"translate"),u.ec(),u.ec(),u.ac(6,"hr",94),u.fc(7,"div",53),u.fc(8,"div",95),u.fc(9,"div",96),u.fc(10,"a",97),u.bd(11),u.ec(),u.ec(),u.ec(),u.ec(),u.cc()),2&e){const e=u.tc(2);u.Lb(4),u.dd(" ",u.vc(5,4,"monitoring.services.parent.service")," "),u.Lb(6),u.Bc("pTooltip",e.serviceDetails.details.parent.SERVICENAME),u.Bc("routerLink",e.getParentServiceLink()),u.Lb(1),u.dd(" ",e.serviceDetails.details.parent.SERVICENAME," ")}}function wn(e,t){if(1&e&&(u.dc(0),u.ac(1,"hr",34),u.fc(2,"div",53),u.fc(3,"div",93),u.bd(4),u.uc(5,"translate"),u.ec(),u.ec(),u.ac(6,"hr",94),u.fc(7,"div",53),u.fc(8,"div",95),u.fc(9,"div",96),u.fc(10,"a",97),u.bd(11),u.ec(),u.ec(),u.ec(),u.ec(),u.cc()),2&e){const e=u.tc(2);u.Lb(4),u.dd(" ",u.vc(5,4,"monitoring.services.last.audited.parent.service")," "),u.Lb(6),u.Bc("pTooltip",e.serviceDetails.details.auditparent.SERVICENAME),u.Bc("routerLink",e.getLastAuditedParentServiceLink()),u.Lb(1),u.dd(" ",e.serviceDetails.details.auditparent.SERVICENAME," ")}}function In(e,t){if(1&e&&(u.fc(0,"div",96),u.fc(1,"a",97),u.bd(2),u.ec(),u.ec()),2&e){const e=t.index,i=u.tc(3);u.Lb(1),u.Bc("pTooltip",i.serviceDetails.details.children[e].SERVICENAME),u.Bc("routerLink",i.getChildServiceLink(e)),u.Lb(1),u.dd(" ",i.serviceDetails.details.children[e].SERVICENAME," ")}}function Mn(e,t){if(1&e&&(u.dc(0),u.ac(1,"hr",34),u.fc(2,"div",53),u.fc(3,"div",93),u.bd(4),u.uc(5,"translate"),u.ec(),u.ec(),u.ac(6,"hr",94),u.fc(7,"div",53),u.fc(8,"div",98),u.Zc(9,In,3,3,"div",99),u.ec(),u.ec(),u.cc()),2&e){const e=u.tc(2);u.Lb(4),u.dd(" ",u.vc(5,2,"monitoring.services.child.services")," "),u.Lb(5),u.Ac("ngForOf",e.serviceDetails.details.children)}}function On(e,t){if(1&e&&(u.fc(0,"span"),u.bd(1),u.uc(2,"translate"),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.ed(" ",u.vc(2,2,"monitoring.services.service.history.section")," (",e.serviceHistory.history.length,") ")}}function _n(e,t){1&e&&(u.fc(0,"span"),u.bd(1),u.uc(2,"translate"),u.ec()),2&e&&(u.Lb(1),u.dd(" ",u.vc(2,1,"monitoring.services.service.history.section")," "))}function Pn(e,t){if(1&e){const e=u.gc();u.fc(0,"span",100),u.fc(1,"a",101),u.pc("click",function(t){return u.Rc(e),u.tc(2).toggleServiceHistoryHeight(t)}),u.bd(2),u.ec(),u.ec()}if(2&e){const e=u.tc(2);u.Lb(2),u.cd(e.serviceHistoryScrollHeightTxt)}}function Dn(e,t){if(1&e&&(u.dc(0,106),u.fc(1,"th",107),u.uc(2,"translate"),u.bd(3),u.ac(4,"p-sortIcon",108),u.ec(),u.cc()),2&e){const e=t.$implicit;u.Lb(1),u.Ob(e.class),u.Bc("pTooltip",u.vc(2,7,e.header)),u.Ac("pSortableColumn",e.field),u.Lb(2),u.dd(" ",e.header," "),u.Lb(1),u.Ac("field",e.field)}}function An(e,t){if(1&e&&(u.fc(0,"tr"),u.Zc(1,Dn,5,9,"ng-container",105),u.ec()),2&e){const e=t.$implicit;u.Lb(1),u.Ac("ngForOf",e)}}function Rn(e,t){if(1&e&&(u.fc(0,"tr"),u.fc(1,"td",109),u.uc(2,"preferredDateTime"),u.bd(3),u.uc(4,"preferredDateTime"),u.ec(),u.fc(5,"td",110),u.bd(6),u.ec(),u.ec()),2&e){const e=t.$implicit,i=u.tc(3);u.Lb(1),u.Bc("pTooltip",u.xc(2,4,e.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)),u.Lb(2),u.dd(" ",u.xc(4,8,e.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)," "),u.Lb(2),u.Bc("pTooltip",e.STATUSDECODE),u.Lb(1),u.cd(e.STATUSDECODE)}}function kn(e,t){if(1&e&&(u.dc(0),u.fc(1,"p-table",102),u.Zc(2,An,2,1,"ng-template",103),u.Zc(3,Rn,7,12,"ng-template",104),u.ec(),u.cc()),2&e){const e=u.tc(2);u.Lb(1),u.Bc("scrollHeight",e.serviceHistoryScrollHeight),u.Ac("columns",e.histCols)("value",e.serviceHistory.history)("scrollable",!0)}}function En(e,t){1&e&&(u.fc(0,"tr"),u.fc(1,"td"),u.bd(2),u.uc(3,"translate"),u.ec(),u.ec()),2&e&&(u.Lb(2),u.cd(u.vc(3,1,"common.table.zero.items")))}function Fn(e,t){if(1&e&&(u.fc(0,"span"),u.bd(1),u.uc(2,"translate"),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.ed(" ",u.vc(2,2,"monitoring.services.service.activity.messages.section")," (",e.activityMessages.activityLogs.length,") ")}}function Bn(e,t){1&e&&(u.fc(0,"span"),u.bd(1),u.uc(2,"translate"),u.ec()),2&e&&(u.Lb(1),u.dd(" ",u.vc(2,1,"monitoring.services.service.activity.messages.section")," "))}function Nn(e,t){if(1&e){const e=u.gc();u.fc(0,"span",100),u.fc(1,"a",101),u.pc("click",function(t){return u.Rc(e),u.tc(2).toggleActivityMessagesHeight(t)}),u.bd(2),u.ec(),u.ec()}if(2&e){const e=u.tc(2);u.Lb(2),u.cd(e.activityMessagesScrollHeightTxt)}}function Hn(e,t){if(1&e&&(u.dc(0,106),u.fc(1,"th",107),u.uc(2,"translate"),u.bd(3),u.ac(4,"p-sortIcon",108),u.ec(),u.cc()),2&e){const e=t.$implicit;u.Lb(1),u.Ob(e.class),u.Bc("pTooltip",u.vc(2,7,e.header)),u.Ac("pSortableColumn",e.field),u.Lb(2),u.dd(" ",e.header," "),u.Lb(1),u.Ac("field",e.field)}}function Vn(e,t){if(1&e&&(u.fc(0,"tr"),u.Zc(1,Hn,5,9,"ng-container",105),u.ec()),2&e){const e=t.$implicit;u.Lb(1),u.Ac("ngForOf",e)}}function Zn(e,t){if(1&e&&(u.fc(0,"tr"),u.fc(1,"td",109),u.uc(2,"preferredDateTime"),u.bd(3),u.uc(4,"preferredDateTime"),u.ec(),u.fc(5,"td",111),u.bd(6),u.ec(),u.fc(7,"td",111),u.bd(8),u.ec(),u.fc(9,"td",112),u.bd(10),u.ec(),u.ec()),2&e){const e=t.$implicit,i=u.tc(3);u.Lb(1),u.Bc("pTooltip",u.xc(2,8,e.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)),u.Lb(2),u.dd(" ",u.xc(4,12,e.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)," "),u.Lb(2),u.Bc("pTooltip",e.ENTRYTYPE),u.Lb(1),u.cd(e.ENTRYTYPE),u.Lb(1),u.Bc("pTooltip",e.BRIEFMESSAGE),u.Lb(1),u.cd(e.BRIEFMESSAGE),u.Lb(1),u.Bc("pTooltip",e.FULLMESSAGE),u.Lb(1),u.cd(e.FULLMESSAGE)}}function jn(e,t){if(1&e&&(u.dc(0),u.fc(1,"p-table",102),u.Zc(2,Vn,2,1,"ng-template",103),u.Zc(3,Zn,11,16,"ng-template",104),u.ec(),u.cc()),2&e){const e=u.tc(2);u.Lb(1),u.Bc("scrollHeight",e.activityMessagesScrollHeight),u.Ac("columns",e.actMsgCols)("value",e.activityMessages.activityLogs)("scrollable",!0)}}function zn(e,t){1&e&&(u.fc(0,"tr"),u.fc(1,"td"),u.bd(2),u.uc(3,"translate"),u.ec(),u.ec()),2&e&&(u.Lb(2),u.cd(u.vc(3,1,"common.table.zero.items")))}function Un(e,t){if(1&e&&(u.fc(0,"span"),u.bd(1),u.uc(2,"translate"),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.ed(" ",u.vc(2,2,"monitoring.services.service.control.actions.section")," (",e.controlActions.actions.length,") ")}}function $n(e,t){1&e&&(u.fc(0,"span"),u.bd(1),u.uc(2,"translate"),u.ec()),2&e&&(u.Lb(1),u.dd(" ",u.vc(2,1,"monitoring.services.service.control.actions.section")," "))}function Qn(e,t){if(1&e){const e=u.gc();u.fc(0,"span",100),u.fc(1,"a",101),u.pc("click",function(t){return u.Rc(e),u.tc(2).toggleControlActionsHeight(t)}),u.bd(2),u.ec(),u.ec()}if(2&e){const e=u.tc(2);u.Lb(2),u.cd(e.controlActionsScrollHeightTxt)}}function Kn(e,t){if(1&e&&(u.dc(0,106),u.fc(1,"th",107),u.uc(2,"translate"),u.bd(3),u.ac(4,"p-sortIcon",108),u.ec(),u.cc()),2&e){const e=t.$implicit;u.Lb(1),u.Ob(e.class),u.Bc("pTooltip",u.vc(2,7,e.header)),u.Ac("pSortableColumn",e.field),u.Lb(2),u.dd(" ",e.header," "),u.Lb(1),u.Ac("field",e.field)}}function Wn(e,t){if(1&e&&(u.fc(0,"tr"),u.Zc(1,Kn,5,9,"ng-container",105),u.ec()),2&e){const e=t.$implicit;u.Lb(1),u.Ac("ngForOf",e)}}function qn(e,t){if(1&e&&(u.fc(0,"tr"),u.fc(1,"td",109),u.uc(2,"preferredDateTime"),u.bd(3),u.uc(4,"preferredDateTime"),u.ec(),u.fc(5,"td",111),u.bd(6),u.ec(),u.fc(7,"td",111),u.bd(8),u.ec(),u.fc(9,"td",112),u.bd(10),u.ec(),u.ec()),2&e){const e=t.$implicit,i=u.tc(3);u.Lb(1),u.Bc("pTooltip",u.xc(2,8,e.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)),u.Lb(2),u.dd(" ",u.xc(4,12,e.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)," "),u.Lb(2),u.Bc("pTooltip",e.ACTIONDECODE),u.Lb(1),u.cd(e.ACTIONDECODE),u.Lb(1),u.Bc("pTooltip",e.USERNAME),u.Lb(1),u.cd(e.USERNAME),u.Lb(1),u.Bc("pTooltip",e.SERVERID),u.Lb(1),u.cd(e.SERVERID)}}function Xn(e,t){if(1&e&&(u.dc(0),u.fc(1,"p-table",102),u.Zc(2,Wn,2,1,"ng-template",103),u.Zc(3,qn,11,16,"ng-template",104),u.ec(),u.cc()),2&e){const e=u.tc(2);u.Lb(1),u.Bc("scrollHeight",e.controlActionsScrollHeight),u.Ac("columns",e.ctlActCols)("value",e.controlActions.actions)("scrollable",!0)}}function Jn(e,t){1&e&&(u.fc(0,"tr"),u.fc(1,"td"),u.bd(2),u.uc(3,"translate"),u.ec(),u.ec()),2&e&&(u.Lb(2),u.cd(u.vc(3,1,"common.table.zero.items")))}function Gn(e,t){if(1&e&&(u.fc(0,"span"),u.bd(1),u.uc(2,"translate"),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.ed(" ",u.vc(2,2,"monitoring.services.service.logged.fields.section")," (",e.loggedFields.customFieldList.length,") ")}}function Yn(e,t){1&e&&(u.fc(0,"span"),u.bd(1),u.uc(2,"translate"),u.ec()),2&e&&(u.Lb(1),u.dd(" ",u.vc(2,1,"monitoring.services.service.logged.fields.section")," "))}function ea(e,t){if(1&e){const e=u.gc();u.fc(0,"span",100),u.fc(1,"a",101),u.pc("click",function(t){return u.Rc(e),u.tc(2).toggleLoggedFieldsHeight(t)}),u.bd(2),u.ec(),u.ec()}if(2&e){const e=u.tc(2);u.Lb(2),u.cd(e.loggedFieldsScrollHeightTxt)}}function ta(e,t){if(1&e&&(u.dc(0,106),u.fc(1,"th",107),u.uc(2,"translate"),u.bd(3),u.ac(4,"p-sortIcon",108),u.ec(),u.cc()),2&e){const e=t.$implicit;u.Lb(1),u.Ob(e.class),u.Bc("pTooltip",u.vc(2,7,e.header)),u.Ac("pSortableColumn",e.field),u.Lb(2),u.dd(" ",e.header," "),u.Lb(1),u.Ac("field",e.field)}}function ia(e,t){if(1&e&&(u.fc(0,"tr"),u.Zc(1,ta,5,9,"ng-container",105),u.ec()),2&e){const e=t.$implicit;u.Lb(1),u.Ac("ngForOf",e)}}function na(e,t){if(1&e&&(u.fc(0,"tr"),u.fc(1,"td",109),u.uc(2,"preferredDateTime"),u.bd(3),u.uc(4,"preferredDateTime"),u.ec(),u.fc(5,"td",109),u.uc(6,"serviceIO"),u.bd(7),u.uc(8,"serviceIO"),u.ec(),u.fc(9,"td",113),u.bd(10),u.ec(),u.fc(11,"td",113),u.bd(12),u.ec(),u.ec()),2&e){const e=t.$implicit,i=u.tc(3);u.Lb(1),u.Bc("pTooltip",u.xc(2,8,e.time,i.preferencesService,i.dateTimePreferenceService)),u.Lb(2),u.dd(" ",u.xc(4,12,e.time,i.preferencesService,i.dateTimePreferenceService)," "),u.Lb(2),u.Bc("pTooltip",u.vc(6,16,"dataRow.inputField")),u.Lb(2),u.cd(u.vc(8,18,e.inputField)),u.Lb(2),u.Bc("pTooltip",e.fieldName),u.Lb(1),u.cd(e.fieldName),u.Lb(1),u.Bc("pTooltip",e.fieldValue),u.Lb(1),u.cd(e.fieldValue)}}function aa(e,t){if(1&e&&(u.dc(0),u.fc(1,"p-table",102),u.Zc(2,ia,2,1,"ng-template",103),u.Zc(3,na,13,20,"ng-template",104),u.ec(),u.cc()),2&e){const e=u.tc(2);u.Lb(1),u.Bc("scrollHeight",e.loggedFieldsScrollHeight),u.Ac("columns",e.logFldCols)("value",e.loggedFields.customFieldList)("scrollable",!0)}}function ca(e,t){1&e&&(u.fc(0,"tr"),u.fc(1,"td"),u.bd(2),u.uc(3,"translate"),u.ec(),u.ec()),2&e&&(u.Lb(2),u.cd(u.vc(3,1,"common.table.zero.items")))}function ra(e,t){if(1&e&&(u.fc(0,"span"),u.bd(1),u.uc(2,"translate"),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.ed(" ",u.vc(2,2,"monitoring.services.service.errors.section")," (",e.serviceErrors.errors.length,") ")}}function sa(e,t){1&e&&(u.fc(0,"span"),u.bd(1),u.uc(2,"translate"),u.ec()),2&e&&(u.Lb(1),u.dd(" ",u.vc(2,1,"monitoring.services.service.errors.section")," "))}function oa(e,t){if(1&e){const e=u.gc();u.fc(0,"span",100),u.fc(1,"a",101),u.pc("click",function(t){return u.Rc(e),u.tc(2).toggleServiceErrorsHeight(t)}),u.bd(2),u.ec(),u.ec()}if(2&e){const e=u.tc(2);u.Lb(2),u.cd(e.serviceErrorsScrollHeightTxt)}}function la(e,t){if(1&e&&(u.dc(0,106),u.fc(1,"th",107),u.uc(2,"translate"),u.bd(3),u.ac(4,"p-sortIcon",108),u.ec(),u.cc()),2&e){const e=t.$implicit;u.Lb(1),u.Ob(e.class),u.Bc("pTooltip",u.vc(2,7,e.header)),u.Ac("pSortableColumn",e.field),u.Lb(2),u.dd(" ",e.header," "),u.Lb(1),u.Ac("field",e.field)}}function da(e,t){if(1&e&&(u.fc(0,"tr"),u.Zc(1,la,5,9,"ng-container",105),u.ec()),2&e){const e=t.$implicit;u.Lb(1),u.Ac("ngForOf",e)}}function ua(e,t){if(1&e&&(u.fc(0,"tr"),u.fc(1,"td",109),u.uc(2,"preferredDateTime"),u.bd(3),u.uc(4,"preferredDateTime"),u.ec(),u.fc(5,"td",110),u.bd(6),u.ec(),u.ec()),2&e){const e=t.$implicit,i=u.tc(3);u.Lb(1),u.Bc("pTooltip",u.xc(2,4,e.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)),u.Lb(2),u.dd(" ",u.xc(4,8,e.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)," "),u.Lb(2),u.Bc("pTooltip",e.ERRORMESSAGE),u.Lb(1),u.cd(e.ERRORMESSAGE)}}function ha(e,t){if(1&e&&(u.dc(0),u.fc(1,"p-table",102),u.Zc(2,da,2,1,"ng-template",103),u.Zc(3,ua,7,12,"ng-template",104),u.ec(),u.cc()),2&e){const e=u.tc(2);u.Lb(1),u.Bc("scrollHeight",e.serviceErrorsScrollHeight),u.Ac("columns",e.svcErrCols)("value",e.serviceErrors.errors)("scrollable",!0)}}function ga(e,t){1&e&&(u.fc(0,"tr"),u.fc(1,"td"),u.bd(2),u.uc(3,"translate"),u.ec(),u.ec()),2&e&&(u.Lb(2),u.cd(u.vc(3,1,"common.table.zero.items")))}const pa=function(e){return{svcName:e}},fa=function(e){return{width:e}},ma=function(){return{height:"calc(100vh - 301px)",overflow:"scroll",display:"block"}},ba=function(){return{width:"100%"}},va=function(){return{width:"70vw"}},ya=function(){return{"overflow-x":"auto","overflow-y":"auto"}};function Ca(e,t){if(1&e){const e=u.gc();u.fc(0,"div",6),u.fc(1,"div",7),u.fc(2,"div",8),u.fc(3,"div",9),u.fc(4,"div",10),u.fc(5,"h1"),u.bd(6),u.uc(7,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(8,"div",11),u.fc(9,"div",9),u.fc(10,"div",12),u.fc(11,"button",13),u.pc("click",function(){return u.Rc(e),u.tc().returnToList()}),u.ac(12,"img",14),u.uc(13,"translate"),u.fc(14,"label",15),u.bd(15),u.uc(16,"translate"),u.ec(),u.ec(),u.fc(17,"div",16),u.fc(18,"button",17),u.pc("click",function(){return u.Rc(e),u.tc().refreshServiceDetails()}),u.uc(19,"translate"),u.uc(20,"translate"),u.ac(21,"i",18),u.ec(),u.ec(),u.fc(22,"div",19),u.fc(23,"button",20,21),u.pc("click",function(){return u.Rc(e),u.tc().onShowOverlayPanel()}),u.uc(25,"translate"),u.uc(26,"translate"),u.ac(27,"i",22),u.ec(),u.fc(28,"div",23),u.fc(29,"button",24),u.pc("click",function(){return u.Rc(e),u.tc().editPipeline()})("focusout",function(t){return u.Rc(e),u.tc().opFocusLost(t)})("keydown.enter",function(){return u.Rc(e),u.tc().editPipeline()}),u.uc(30,"translate"),u.bd(31),u.uc(32,"translate"),u.ec(),u.fc(33,"button",25),u.pc("click",function(){return u.Rc(e),u.tc().resubmitService(!1)})("focusout",function(t){return u.Rc(e),u.tc().opFocusLost(t)})("keydown.enter",function(){return u.Rc(e),u.tc().resubmitService(!1)}),u.uc(34,"translate"),u.bd(35),u.uc(36,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ac(37,"hr"),u.fc(38,"table",26),u.ac(39,"col",27),u.ac(40,"col",28),u.fc(41,"tr"),u.fc(42,"td",29),u.fc(43,"div",30),u.fc(44,"div",31),u.fc(45,"div",7),u.fc(46,"div",32),u.fc(47,"isac-lib-simple-card",33),u.uc(48,"translate"),u.ac(49,"hr",34),u.fc(50,"table",35),u.fc(51,"tr"),u.fc(52,"td",36),u.ac(53,"img",37),u.fc(54,"span",38),u.bd(55),u.ec(),u.ec(),u.fc(56,"td",39),u.fc(57,"span",40),u.bd(58),u.uc(59,"translate"),u.ec(),u.fc(60,"span",41),u.bd(61),u.uc(62,"durationFormatTrimmed"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(63,"div",42),u.fc(64,"div",43),u.fc(65,"isac-lib-simple-card",44),u.uc(66,"translate"),u.fc(67,"table",45),u.ac(68,"col",46),u.ac(69,"col",47),u.fc(70,"tr"),u.fc(71,"td",48),u.uc(72,"translate"),u.bd(73),u.uc(74,"translate"),u.ec(),u.fc(75,"td",49),u.bd(76),u.ec(),u.ec(),u.fc(77,"tr"),u.fc(78,"td",48),u.uc(79,"translate"),u.bd(80),u.uc(81,"translate"),u.ec(),u.fc(82,"td",49),u.bd(83),u.ec(),u.ec(),u.fc(84,"tr"),u.fc(85,"td",48),u.uc(86,"translate"),u.bd(87),u.uc(88,"translate"),u.ec(),u.fc(89,"td",49),u.bd(90),u.ec(),u.ec(),u.fc(91,"tr"),u.fc(92,"td",48),u.uc(93,"translate"),u.bd(94),u.uc(95,"translate"),u.ec(),u.fc(96,"td",49),u.bd(97),u.ec(),u.ec(),u.fc(98,"tr"),u.fc(99,"td",48),u.uc(100,"translate"),u.bd(101),u.uc(102,"translate"),u.ec(),u.fc(103,"td",49),u.bd(104),u.ec(),u.ec(),u.fc(105,"tr"),u.fc(106,"td",48),u.uc(107,"translate"),u.bd(108),u.uc(109,"translate"),u.ec(),u.fc(110,"td",49),u.bd(111),u.ec(),u.ec(),u.fc(112,"tr"),u.fc(113,"td",48),u.uc(114,"translate"),u.bd(115),u.uc(116,"translate"),u.ec(),u.fc(117,"td",49),u.uc(118,"preferredDateTime"),u.bd(119),u.uc(120,"preferredDateTime"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(121,"div",42),u.fc(122,"div",50),u.fc(123,"isac-lib-simple-card",33),u.uc(124,"translate"),u.ac(125,"hr",34),u.fc(126,"div",51),u.ac(127,"div",52),u.ec(),u.fc(128,"div",53),u.fc(129,"div",52),u.Zc(130,Sn,2,2,"div",54),u.Zc(131,xn,4,6,"ng-template",null,55,u.ad),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(133,"div",56),u.fc(134,"div",57),u.fc(135,"div",58),u.fc(136,"isac-lib-simple-card",33),u.uc(137,"translate"),u.ac(138,"hr",34),u.fc(139,"div",53),u.fc(140,"div",59),u.fc(141,"div",60),u.bd(142),u.uc(143,"preferredDateTime"),u.ec(),u.ec(),u.ec(),u.Zc(144,Tn,12,6,"ng-container",61),u.Zc(145,Ln,12,6,"ng-container",61),u.Zc(146,wn,12,6,"ng-container",61),u.Zc(147,Mn,10,4,"ng-container",61),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(148,"td",62),u.fc(149,"div",62),u.fc(150,"p-sidebar",63),u.pc("visibleChange",function(t){return u.Rc(e),u.tc().display=t}),u.fc(151,"button",64),u.pc("click",function(){return u.Rc(e),u.tc().toggleAdvancedFullScreen()}),u.ac(152,"img",65),u.ec(),u.fc(153,"button",66),u.pc("click",function(){return u.Rc(e),u.tc().display=!1}),u.uc(154,"translate"),u.ac(155,"img",67),u.uc(156,"translate"),u.ec(),u.fc(157,"button",68),u.pc("click",function(){return u.Rc(e),u.tc().collapseAllTables()}),u.uc(158,"translate"),u.ac(159,"img",69),u.uc(160,"translate"),u.ec(),u.fc(161,"button",70),u.pc("click",function(){return u.Rc(e),u.tc().expandAllTables()}),u.uc(162,"translate"),u.ac(163,"img",71),u.uc(164,"translate"),u.ec(),u.fc(165,"p-accordion",72),u.pc("activeIndexChange",function(t){return u.Rc(e),u.tc().indexes=t}),u.fc(166,"p-accordionTab",73),u.pc("click",function(t){return u.Rc(e),u.tc().toggleRevealServiceHistory(t)}),u.fc(167,"p-header"),u.Zc(168,On,3,4,"span",61),u.Zc(169,_n,3,3,"span",61),u.Zc(170,Pn,3,1,"span",74),u.ec(),u.Zc(171,kn,4,4,"ng-container",75),u.Zc(172,En,4,3,"ng-template",null,76,u.ad),u.ec(),u.fc(174,"p-accordionTab",73),u.pc("click",function(t){return u.Rc(e),u.tc().toggleRevealActivityMessages(t)}),u.fc(175,"p-header"),u.Zc(176,Fn,3,4,"span",61),u.Zc(177,Bn,3,3,"span",61),u.Zc(178,Nn,3,1,"span",74),u.ec(),u.Zc(179,jn,4,4,"ng-container",75),u.Zc(180,zn,4,3,"ng-template",null,77,u.ad),u.ec(),u.fc(182,"p-accordionTab",73),u.pc("click",function(t){return u.Rc(e),u.tc().toggleRevealControlActions(t)}),u.fc(183,"p-header"),u.Zc(184,Un,3,4,"span",61),u.Zc(185,$n,3,3,"span",61),u.Zc(186,Qn,3,1,"span",74),u.ec(),u.Zc(187,Xn,4,4,"ng-container",75),u.Zc(188,Jn,4,3,"ng-template",null,78,u.ad),u.ec(),u.fc(190,"p-accordionTab",73),u.pc("click",function(t){return u.Rc(e),u.tc().toggleRevealLoggedFields(t)}),u.fc(191,"p-header"),u.Zc(192,Gn,3,4,"span",61),u.Zc(193,Yn,3,3,"span",61),u.Zc(194,ea,3,1,"span",74),u.ec(),u.Zc(195,aa,4,4,"ng-container",75),u.Zc(196,ca,4,3,"ng-template",null,79,u.ad),u.ec(),u.fc(198,"p-accordionTab",73),u.pc("click",function(t){return u.Rc(e),u.tc().toggleRevealServiceErrors(t)}),u.fc(199,"p-header"),u.Zc(200,ra,3,4,"span",61),u.Zc(201,sa,3,3,"span",61),u.Zc(202,oa,3,1,"span",74),u.ec(),u.Zc(203,ha,4,4,"ng-container",75),u.Zc(204,ga,4,3,"ng-template",null,80,u.ad),u.ec(),u.ec(),u.ec(),u.fc(206,"button",81),u.pc("click",function(){return u.Rc(e),u.tc().display=!0}),u.uc(207,"translate"),u.ac(208,"img",67),u.uc(209,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(210,"p-dialog",82,83),u.pc("visibleChange",function(t){return u.Rc(e),u.tc().displayEditPipeline=t})("onHide",function(){return u.Rc(e),u.tc().cancelPipelineEdit()}),u.fc(212,"p-header"),u.fc(213,"div",84),u.fc(214,"div",85),u.bd(215),u.uc(216,"translate"),u.ec(),u.ec(),u.ec(),u.fc(217,"service-run-input",86,87),u.pc("svcInputLoaded",function(){return u.Rc(e),u.tc().serviceInputLoaded()}),u.ec(),u.fc(219,"p-footer"),u.fc(220,"div",88),u.fc(221,"button",89),u.pc("click",function(){return u.Rc(e),u.tc().cancelPipelineEdit()}),u.uc(222,"translate"),u.uc(223,"translate"),u.bd(224),u.uc(225,"translate"),u.ec(),u.fc(226,"button",90),u.pc("click",function(){return u.Rc(e),u.tc().resubmitService(!0)}),u.uc(227,"translate"),u.uc(228,"translate"),u.bd(229),u.uc(230,"translate"),u.ec(),u.fc(231,"button",91),u.pc("click",function(){return u.Rc(e),u.tc().saveAndClosePipelineEdit()}),u.uc(232,"translate"),u.uc(233,"translate"),u.bd(234),u.uc(235,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec()}if(2&e){const e=u.Pc(132),t=u.Pc(173),i=u.Pc(181),n=u.Pc(189),a=u.Pc(197),c=u.Pc(205),r=u.tc();u.Lb(6),u.cd(u.wc(7,138,"monitoring.services.service.name",u.Gc(249,pa,r.serviceDetails.details.SERVICENAME))),u.Lb(6),u.Bc("alt",u.vc(13,141,"monitoring.services.return.to.list")),u.Lb(3),u.cd(u.vc(16,143,"monitoring.services.return.to.list")),u.Lb(3),u.Bc("pTooltip",u.vc(19,145,"monitoring.services.refresh.service.detail")),u.Mb("aria-label",u.vc(20,147,"monitoring.services.refresh.service.detail")),u.Lb(5),u.Bc("pTooltip",u.vc(25,149,"monitoring.services.service.actions")),u.Mb("aria-label",u.vc(26,151,"monitoring.services.service.actions")),u.Lb(6),u.Mb("aria-label",u.vc(30,153,"monitoring.services.service.edit.pipeline.button")),u.Lb(2),u.dd(" ",u.vc(32,155,"monitoring.services.service.edit.pipeline.button")," "),u.Lb(2),u.Mb("aria-label",u.vc(34,157,"monitoring.services.service.resubmit.button")),u.Lb(2),u.dd(" ",u.vc(36,159,"monitoring.services.service.resubmit.button")," "),u.Lb(12),u.Bc("label",u.vc(48,161,"monitoring.services.service.status")),u.Lb(6),u.Bc("src",r.getStatusImage(),u.Uc),u.Bc("alt",r.getStatusText()),u.Lb(2),u.cd(r.getStatusText()),u.Lb(3),u.cd(u.vc(59,163,"monitoring.services.service.duration")),u.Lb(3),u.cd(u.vc(62,165,r.serviceDetails.details.DURATION)),u.Lb(4),u.Bc("label",u.vc(66,167,"monitoring.services.service.information.section")),u.Lb(6),u.Bc("pTooltip",u.vc(72,169,"monitoring.services.service.name1")),u.Lb(2),u.dd(" ",u.vc(74,171,"monitoring.services.service.name1")," "),u.Lb(2),u.Bc("pTooltip",r.serviceDetails.details.SERVICENAME),u.Lb(1),u.dd(" ",r.serviceDetails.details.SERVICENAME," "),u.Lb(2),u.Bc("pTooltip",u.vc(79,173,"monitoring.services.service.custom.context.id")),u.Lb(2),u.dd(" ",u.vc(81,175,"monitoring.services.service.custom.context.id")," "),u.Lb(2),u.Bc("pTooltip",r.serviceDetails.details.CUSTOMCONTEXTID),u.Lb(1),u.dd(" ",r.serviceDetails.details.CUSTOMCONTEXTID," "),u.Lb(2),u.Bc("pTooltip",u.vc(86,177,"monitoring.services.service.root.context.id")),u.Lb(2),u.dd(" ",u.vc(88,179,"monitoring.services.service.root.context.id")," "),u.Lb(2),u.Bc("pTooltip",r.serviceDetails.details.ROOTCONTEXTID),u.Lb(1),u.dd(" ",r.serviceDetails.details.ROOTCONTEXTID," "),u.Lb(2),u.Bc("pTooltip",u.vc(93,181,"monitoring.services.service.parent.context.id")),u.Lb(2),u.dd(" ",u.vc(95,183,"monitoring.services.service.parent.context.id")," "),u.Lb(2),u.Bc("pTooltip",r.serviceDetails.details.PARENTCONTEXTID),u.Lb(1),u.dd(" ",r.serviceDetails.details.PARENTCONTEXTID," "),u.Lb(2),u.Bc("pTooltip",u.vc(100,185,"monitoring.services.service.context.id")),u.Lb(2),u.dd(" ",u.vc(102,187,"monitoring.services.service.context.id")," "),u.Lb(2),u.Bc("pTooltip",r.serviceDetails.details.CONTEXTID),u.Lb(1),u.dd(" ",r.serviceDetails.details.CONTEXTID," "),u.Lb(2),u.Bc("pTooltip",u.vc(107,189,"monitoring.services.service.server.id")),u.Lb(2),u.dd(" ",u.vc(109,191,"monitoring.services.service.server.id")," "),u.Lb(2),u.Bc("pTooltip",r.serviceDetails.details.SERVERID),u.Lb(1),u.dd(" ",r.serviceDetails.details.SERVERID," "),u.Lb(2),u.Bc("pTooltip",u.vc(114,193,"monitoring.services.service.timestamp")),u.Lb(2),u.dd(" ",u.vc(116,195,"monitoring.services.service.timestamp")," "),u.Lb(2),u.Bc("pTooltip",u.xc(118,197,r.serviceDetails.details.AUDITTIMESTAMP,r.preferencesService,r.dateTimePreferenceService)),u.Lb(2),u.dd(" ",u.xc(120,201,r.serviceDetails.details.AUDITTIMESTAMP,r.preferencesService,r.dateTimePreferenceService)," "),u.Lb(4),u.Bc("label",u.vc(124,205,"monitoring.error.messages")),u.Lb(7),u.Ac("ngIf",r.serviceDetails.details&&r.serviceDetails.details.ERRORMESSAGE)("ngIfElse",e),u.Lb(6),u.Bc("label",u.vc(137,207,"monitoring.services.service.last.updated")),u.Lb(6),u.dd(" ",u.xc(143,209,r.serviceDetails.details.AUDITTIMESTAMP,r.preferencesService,r.dateTimePreferenceService)," "),u.Lb(2),u.Ac("ngIf",r.serviceDetails.details.root&&r.serviceDetails.details.root.CONTEXTID),u.Lb(1),u.Ac("ngIf",r.serviceDetails.details.parent&&r.serviceDetails.details.parent.CONTEXTID),u.Lb(1),u.Ac("ngIf",r.serviceDetails.details.auditparent&&r.serviceDetails.details.auditparent.CONTEXTID),u.Lb(1),u.Ac("ngIf",r.serviceDetails.details.children&&r.serviceDetails.details.children.length>0),u.Lb(3),u.Wc(u.Gc(251,fa,r.advancedPartialScreenWidth)),u.Ac("visible",r.display)("fullScreen",r.isAdvancedFullScreen),u.Lb(1),u.Bc("pTooltip",r.sidebarScreenSize),u.Lb(1),u.Bc("src",r.advancedScreenImage,u.Uc),u.Bc("alt",r.sidebarScreenSize),u.Lb(1),u.Bc("pTooltip",u.vc(154,213,"monitoring.services.hide.details.button")),u.Lb(2),u.Bc("alt",u.vc(156,215,"monitoring.services.hide.details.button")),u.Lb(2),u.Bc("pTooltip",u.vc(158,217,"common.collapse.all")),u.Lb(2),u.Bc("alt",u.vc(160,219,"common.collapse.all")),u.Lb(2),u.Bc("pTooltip",u.vc(162,221,"common.expand.all")),u.Lb(2),u.Bc("alt",u.vc(164,223,"common.expand.all")),u.Lb(2),u.Wc(u.Fc(253,ma)),u.Ac("activeIndex",r.indexes)("multiple",!0)("expandIcon","dlt-accordion-arrow dlt-icon-chevron-down")("collapseIcon","dlt-accordion-arrow dlt-icon-chevron-up"),u.Lb(2),u.Wc(u.Fc(254,ba)),u.Lb(1),u.Ac("ngIf",r.serviceHistory&&r.serviceHistory.history&&r.serviceHistory.history.length>0),u.Lb(1),u.Ac("ngIf",!r.serviceHistory||!r.serviceHistory.history||r.serviceHistory.history.length<1),u.Lb(1),u.Ac("ngIf",r.revealServiceHistory),u.Lb(1),u.Ac("ngIf",r.serviceHistory&&r.serviceHistory.history&&r.serviceHistory.history.length>0)("ngIfElse",t),u.Lb(4),u.Wc(u.Fc(255,ba)),u.Lb(1),u.Ac("ngIf",r.activityMessages&&r.activityMessages.activityLogs&&r.activityMessages.activityLogs.length>0),u.Lb(1),u.Ac("ngIf",!r.activityMessages||!r.activityMessages.activityLogs||r.activityMessages.activityLogs.length<1),u.Lb(1),u.Ac("ngIf",r.revealActivityMessages),u.Lb(1),u.Ac("ngIf",r.activityMessages&&r.activityMessages.activityLogs&&r.activityMessages.activityLogs.length>0)("ngIfElse",i),u.Lb(4),u.Wc(u.Fc(256,ba)),u.Lb(1),u.Ac("ngIf",r.controlActions&&r.controlActions.actions&&r.controlActions.actions.length>0),u.Lb(1),u.Ac("ngIf",!r.controlActions||!r.controlActions.actions||r.controlActions.actions.length<1),u.Lb(1),u.Ac("ngIf",r.revealControlActions),u.Lb(1),u.Ac("ngIf",r.controlActions&&r.controlActions.actions&&r.controlActions.actions.length>0)("ngIfElse",n),u.Lb(4),u.Wc(u.Fc(257,ba)),u.Lb(1),u.Ac("ngIf",r.loggedFields&&r.loggedFields.customFieldList&&r.loggedFields.customFieldList.length>0),u.Lb(1),u.Ac("ngIf",!r.loggedFields||!r.loggedFields.customFieldList||r.loggedFields.customFieldList.length<1),u.Lb(1),u.Ac("ngIf",r.revealLoggedFields),u.Lb(1),u.Ac("ngIf",r.loggedFields&&r.loggedFields.customFieldList&&r.loggedFields.customFieldList.length>0)("ngIfElse",a),u.Lb(4),u.Wc(u.Fc(258,ba)),u.Lb(1),u.Ac("ngIf",r.serviceErrors&&r.serviceErrors.errors&&r.serviceErrors.errors.length>0),u.Lb(1),u.Ac("ngIf",!r.serviceErrors||!r.serviceErrors.errors||r.serviceErrors.errors.length<1),u.Lb(1),u.Ac("ngIf",r.revealServiceErrors),u.Lb(1),u.Ac("ngIf",r.serviceErrors&&r.serviceErrors.errors&&r.serviceErrors.errors.length>0)("ngIfElse",c),u.Lb(3),u.Bc("pTooltip",u.vc(207,225,"monitoring.services.show.details.button")),u.Lb(2),u.Bc("alt",u.vc(209,227,"monitoring.services.show.details.button")),u.Lb(2),u.Wc(u.Fc(259,va)),u.Ac("closeOnEscape",!0)("visible",r.displayEditPipeline)("showHeader",!0)("draggable",!0)("resizable",!0)("modal",!0)("contentStyle",u.Fc(260,ya))("focusTrap",!0)("maximizeIcon","dlt-icon-fullscreen")("minimizeIcon","dlt-icon-fullscreen-exit")("closeIcon","dlt-icon-close")("baseZIndex",1)("maximizable",!0)("blockScroll",!0)("closable",!0),u.Lb(5),u.cd(u.vc(216,229,"monitoring.services.service.edit.pipeline.button")),u.Lb(6),u.Bc("value",u.vc(223,233,"common.cancel.button.text")),u.Mb("aria-label",u.vc(222,231,"common.cancel.button.text")),u.Lb(3),u.dd(" ",u.vc(225,235,"common.cancel.button.text")," "),u.Lb(2),u.Bc("value",u.vc(228,239,"monitoring.services.service.resubmit.button")),u.Mb("aria-label",u.vc(227,237,"monitoring.services.service.resubmit.button")),u.Lb(3),u.dd(" ",u.vc(230,241,"monitoring.services.service.resubmit.button")," "),u.Lb(2),u.Bc("value",u.vc(233,245,"common.save.button.text")),u.Mb("aria-label",u.vc(232,243,"common.save.button.text")),u.Lb(3),u.dd(" ",u.vc(235,247,"common.save.button.text")," ")}}let Sa=(()=>{class e{constructor(e,t,i,n,a,c,r,s,o,l){this.route=e,this.location=t,this.translate=i,this.sharedMessageService=n,this.serviceAPIService=a,this.monitoringLayoutService=c,this.serviceExecutionService=r,this.router=s,this.toastr=o,this.preferencesService=l,this.homeLink="#/integration/dashboard/overview",this.servicesLink="../../monitoring/services",this.isAdvancedFullScreen=!1,this.advancedPartialScreenWidth="50em",this.advancedScreenImage="assets/images/enlarge.png",this.revealServiceHistory=!1,this.revealActivityMessages=!1,this.revealControlActions=!1,this.revealLoggedFields=!1,this.revealServiceErrors=!1,this.svcDetailLink="/monitoring/service/",this.subscriptions=[],this.defaultScrollHeight="200px",this.fullScrollHeight="100vh",this.serviceHistoryScrollHeight=this.defaultScrollHeight,this.activityMessagesScrollHeight=this.defaultScrollHeight,this.controlActionsScrollHeight=this.defaultScrollHeight,this.loggedFieldsScrollHeight=this.defaultScrollHeight,this.serviceErrorsScrollHeight=this.defaultScrollHeight,this.indexes=[],this.displayEditPipeline=!1,this.subscriptions.push(e.params.subscribe(e=>{this.translate.setDefaultLang("en"),this.subscriptions.push(this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})),this.refreshServiceDetails()}))}ngOnInit(){this.showAllText=this.translate.instant("monitoring.services.service.table.show.all"),this.makeComponentsAccessible()}makeComponentsAccessible(){setTimeout(()=>{const e=document.getElementById("serviceSidebar");h.J.makeSidebarAccessible(e,this.translate.instant("common.close.title"))},500)}refreshServiceDetails(){this.contextId=this.route.snapshot.paramMap.get("id"),this.monitoringLayoutService.changeNavItem(this.router.url),this.getServiceDetails()}getServiceDetails(){this.subscriptions.push(this.serviceAPIService.getServiceDetails(this.contextId).subscribe(e=>{this.serviceDetails=e,this.serviceExecutionService.setCurrentServiceInfo(this.serviceDetails.details.SERVICENAME,this.contextId),this.getServiceHistory(),this.getServiceActivityMessages(),this.getControlActions(),this.getLoggedFields(),this.getServiceErrors(),this.sidebarScreenSize=this.translate.instant("monitoring.services.fullscreen.details.button"),this.serviceHistoryScrollHeightTxt=this.activityMessagesScrollHeightTxt=this.controlActionsScrollHeightTxt=this.loggedFieldsScrollHeightTxt=this.serviceErrorsScrollHeightTxt=this.serviceErrorsScrollHeightTxt=this.showAllText}))}configTableColumns(){this.histCols=[{field:"AUDITTIMESTRING",header:this.translate.instant("monitoring.services.service.timestamp.column"),class:"t200px"},{field:"STATUSDECODE",header:this.translate.instant("monitoring.services.service.status.column"),class:"t100pct"}],this.actMsgCols=[{field:"AUDITTIMESTRING",header:this.translate.instant("monitoring.services.service.timestamp.column"),class:"t200px"},{field:"ENTRYTYPE",header:this.translate.instant("monitoring.services.service.entry.type.column"),class:"t33pct"},{field:"BRIEFMESSAGE",header:this.translate.instant("monitoring.services.service.brief.message.column"),class:"t33pct"},{field:"FULLMESSAGE",header:this.translate.instant("monitoring.services.service.full.message.column"),class:"t34pct"}],this.ctlActCols=[{field:"AUDITTIMESTRING",header:this.translate.instant("monitoring.services.service.timestamp.column"),class:"t200px"},{field:"ACTIONDECODE",header:this.translate.instant("monitoring.services.service.action.column"),class:"t33pct"},{field:"USERNAME",header:this.translate.instant("monitoring.services.service.user.column"),class:"t33pct"},{field:"SERVERID",header:this.translate.instant("monitoring.services.service.server.id.column"),class:"t34pct"}],this.logFldCols=[{field:"FIELDNAME",header:this.translate.instant("monitoring.services.service.timestamp.column"),class:"t200px"},{field:"FIELDNAME",header:this.translate.instant("monitoring.services.service.input.output.column"),class:"t200px"},{field:"FIELDNAME",header:this.translate.instant("monitoring.services.service.field.name.column"),class:"t50pct"},{field:"DISPVALUE",header:this.translate.instant("monitoring.services.service.field.value.column"),class:"t50pct"}],this.svcErrCols=[{field:"AUDITTIMESTRING",header:this.translate.instant("monitoring.services.service.timestamp.column"),class:"t200px"},{field:"ERRORMESSAGE",header:this.translate.instant("monitoring.services.service.error.message.column"),class:"t100pct"}]}getServiceHistory(){this.subscriptions.push(this.serviceAPIService.getServiceHistory(this.contextId).subscribe(e=>{this.serviceHistory=e}))}getServiceActivityMessages(){this.subscriptions.push(this.serviceAPIService.getServiceActivityMessages(this.contextId).subscribe(e=>{this.activityMessages=e}))}getControlActions(){this.subscriptions.push(this.serviceAPIService.getControlActions(this.contextId).subscribe(e=>{this.controlActions=e}))}getLoggedFields(){this.subscriptions.push(this.serviceAPIService.getLoggedFields(this.contextId).subscribe(e=>{this.loggedFields=e}))}getServiceErrors(){this.subscriptions.push(this.serviceAPIService.getServiceErrors(this.contextId).subscribe(e=>{this.serviceErrors=e})),this.configTableColumns()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getStatusImage(){switch(this.serviceDetails.details.STATUS){case 1:return"assets/images/monitoring/started.svg";case 2:return"assets/images/monitoring/completed.svg";case 4:return"assets/images/monitoring/failed.svg";default:return"assets/images/monitoring/resubmitted.svg"}}getStatusText(){switch(this.serviceDetails.details.STATUS){case 1:return this.translate.instant("monitoring.status.started");case 2:return this.translate.instant("monitoring.status.completed");case 4:return this.translate.instant("monitoring.status.failed");default:return this.translate.instant("monitoring.status.resubmitted")}}getLastUpdatedText(){return null!=this.serviceDetails.details.AUDITTIMESTAMP?new Date(this.serviceDetails.details.AUDITTIMESTAMP).toLocaleString():""}getRootServiceLink(){return this.svcDetailLink+this.serviceDetails.details.root.CONTEXTID}getParentServiceLink(){return this.svcDetailLink+this.serviceDetails.details.parent.CONTEXTID}getLastAuditedParentServiceLink(){return this.svcDetailLink+this.serviceDetails.details.auditparent.CONTEXTID}getChildServiceLink(e){return this.svcDetailLink+this.serviceDetails.details.children[e].CONTEXTID}toggleAdvancedFullScreen(){this.isAdvancedFullScreen=!this.isAdvancedFullScreen,this.isAdvancedFullScreen?(this.advancedPartialScreenWidth="",this.advancedScreenImage="assets/images/shrink.png",this.sidebarScreenSize=this.translate.instant("monitoring.services.partialscreen.details.button")):(this.advancedPartialScreenWidth="50em",this.advancedScreenImage="assets/images/enlarge.png",this.sidebarScreenSize=this.translate.instant("monitoring.services.fullscreen.details.button"))}toggleRevealServiceHistory(e){if(e&&e.target&&e.target.parentNode&&e.target.parentNode.id&&e.target.parentNode.id.startsWith("p-accordiontab-"))if("true"===e.target.parentNode.ariaExpanded)this.revealServiceHistory=!0,this.indexes.includes(0)||this.indexes.push(0);else{this.revealServiceHistory=!1;const e=this.indexes.indexOf(0,0);e>-1&&this.indexes.splice(e,1)}}toggleRevealActivityMessages(e){e&&e.target&&e.target.parentNode&&e.target.parentNode.id&&e.target.parentNode.id.startsWith("p-accordiontab-")&&(this.revealActivityMessages=!this.revealActivityMessages)}toggleRevealControlActions(e){e&&e.target&&e.target.parentNode&&e.target.parentNode.id&&e.target.parentNode.id.startsWith("p-accordiontab-")&&(this.revealControlActions=!this.revealControlActions)}toggleRevealLoggedFields(e){e&&e.target&&e.target.parentNode&&e.target.parentNode.id&&e.target.parentNode.id.startsWith("p-accordiontab-")&&(this.revealLoggedFields=!this.revealLoggedFields)}toggleRevealServiceErrors(e){e&&e.target&&e.target.parentNode&&e.target.parentNode.id&&e.target.parentNode.id.startsWith("p-accordiontab-")&&(this.revealServiceErrors=!this.revealServiceErrors)}toggleServiceHistoryHeight(e){e&&(e.preventDefault(),e.stopPropagation()),this.serviceHistoryScrollHeight===this.defaultScrollHeight?(this.serviceHistoryScrollHeight=this.fullScrollHeight,this.serviceHistoryScrollHeightTxt=this.translate.instant("monitoring.services.service.table.restore"),this.indexes=[0],this.revealServiceHistory=!0,this.revealActivityMessages=!1,this.revealControlActions=!1,this.revealLoggedFields=!1,this.revealServiceErrors=!1):(this.serviceHistoryScrollHeight=this.defaultScrollHeight,this.serviceHistoryScrollHeightTxt=this.showAllText)}toggleActivityMessagesHeight(e){e&&(e.preventDefault(),e.stopPropagation()),this.activityMessagesScrollHeight===this.defaultScrollHeight?(this.activityMessagesScrollHeight=this.fullScrollHeight,this.activityMessagesScrollHeightTxt=this.translate.instant("monitoring.services.service.table.restore"),this.indexes=[1],this.revealServiceHistory=!1,this.revealActivityMessages=!0,this.revealControlActions=!1,this.revealLoggedFields=!1,this.revealServiceErrors=!1):(this.activityMessagesScrollHeight=this.defaultScrollHeight,this.activityMessagesScrollHeightTxt=this.showAllText)}toggleControlActionsHeight(e){e&&(e.preventDefault(),e.stopPropagation()),this.controlActionsScrollHeight===this.defaultScrollHeight?(this.controlActionsScrollHeight=this.fullScrollHeight,this.controlActionsScrollHeightTxt=this.translate.instant("monitoring.services.service.table.restore"),this.indexes=[2],this.revealServiceHistory=!1,this.revealActivityMessages=!1,this.revealControlActions=!0,this.revealLoggedFields=!1,this.revealServiceErrors=!1):(this.controlActionsScrollHeight=this.defaultScrollHeight,this.controlActionsScrollHeightTxt=this.showAllText)}toggleLoggedFieldsHeight(e){e&&(e.preventDefault(),e.stopPropagation()),this.loggedFieldsScrollHeight===this.defaultScrollHeight?(this.loggedFieldsScrollHeight=this.fullScrollHeight,this.loggedFieldsScrollHeightTxt=this.translate.instant("monitoring.services.service.table.restore"),this.indexes=[3],this.revealServiceHistory=!1,this.revealActivityMessages=!1,this.revealControlActions=!1,this.revealLoggedFields=!0,this.revealServiceErrors=!1):(this.loggedFieldsScrollHeight=this.defaultScrollHeight,this.loggedFieldsScrollHeightTxt=this.showAllText)}toggleServiceErrorsHeight(e){e&&(e.preventDefault(),e.stopPropagation()),this.serviceErrorsScrollHeight===this.defaultScrollHeight?(this.serviceErrorsScrollHeight=this.fullScrollHeight,this.serviceErrorsScrollHeightTxt=this.translate.instant("monitoring.services.service.table.restore"),this.indexes=[4],this.revealServiceHistory=!1,this.revealActivityMessages=!1,this.revealControlActions=!1,this.revealLoggedFields=!1,this.revealServiceErrors=!0):(this.serviceErrorsScrollHeight=this.defaultScrollHeight,this.serviceErrorsScrollHeightTxt=this.showAllText)}expandAllTables(){this.revealServiceHistory=!0,this.revealActivityMessages=!0,this.revealControlActions=!0,this.revealLoggedFields=!0,this.revealServiceErrors=!0,this.indexes=[0,1,2,3,4]}collapseAllTables(){this.indexes=[],this.revealServiceHistory=!1,this.revealActivityMessages=!1,this.revealControlActions=!1,this.revealLoggedFields=!1,this.revealServiceErrors=!1}editPipeline(){this.op&&this.op.nativeElement.click(),this.serviceTreeAndDataLoaded?(this.runTreeRef.reopen(),this.makePipelineDialogAccessible()):this.runTreeRef.populateServiceTreeAndData(),this.displayEditPipeline=!0,this.serviceTreeAndDataLoaded=!0}serviceInputLoaded(){this.makePipelineDialogAccessible()}makePipelineDialogAccessible(){setTimeout(()=>{const e=document.getElementById("servicePipelineInput");h.J.makeDialogAccessible(e,this.translate.instant("common.restore.title"),this.translate.instant("common.maximize.title"),this.translate.instant("common.close.title"));const t=document.getElementById("minimizeMaximize");t&&(t.focus(),this.minMaxEvt&&t.removeEventListener("click",this.minMaxEvt),this.minMaxEvt=this.makePipelineDialogAccessible.bind(this),t.addEventListener("click",this.minMaxEvt))},200)}cancelPipelineEdit(){this.runTreeRef.setCanceled(),this.displayEditPipeline=!1}saveAndClosePipelineEdit(){this.runTreeRef.savePipeline()&&(this.displayEditPipeline=!1,this.toastr.success(this.translate.instant("monitoring.services.pipeline.save.success.msg"),this.translate.instant("monitoring.services.pipeline.save.success.title")))}resubmitService(e){this.op&&!e&&this.op.nativeElement.click(),this.runTreeRef.savePipeline()&&setTimeout(()=>{const e=this.runTreeRef.getPipelineForResubmit();this.subscriptions.push(this.serviceAPIService.resubmitService(this.contextId,this.serviceDetails.details.SERVICENAME,e).subscribe(e=>{e&&e.length>0?this.toastr.error(this.translate.instant("monitoring.services.service.resubmit.failure.msg",{errMsg:e}),this.translate.instant("monitoring.services.service.resubmit.failure.title")):(this.runTreeRef.savePipeline(),this.displayEditPipeline=!1,this.toastr.success(this.translate.instant("monitoring.services.service.resubmit.success.msg"),this.translate.instant("monitoring.services.service.resubmit.success.title")))}))},500)}returnToList(){this.location.back()}onShowOverlayPanel(){setTimeout(()=>{const e=document.getElementById("editServicePipeline");e&&e.focus()},100)}opFocusLost(e){if(e&&e.target&&"resubmitService"===e.target.id){if(e.relatedTarget&&"editServicePipeline"===e.relatedTarget.id)return}else if(e&&e.target&&"editServicePipeline"===e.target.id&&e.relatedTarget&&"resubmitService"===e.relatedTarget.id)return;this.op.nativeElement.click()}goToHomePage(){this.router.navigateByUrl(this.homeLink)}goToServiceListPage(){this.router.navigateByUrl(this.servicesLink)}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(d.a),u.Zb(s.j),u.Zb(n.d),u.Zb(h.A),u.Zb(fn),u.Zb(S),u.Zb(C),u.Zb(d.e),u.Zb(x.b),u.Zb(r.PreferencesService))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-service-details"]],viewQuery:function(e,t){if(1&e&&(u.hd(vn,1),u.hd(yn,1),u.hd(Cn,1)),2&e){let e;u.Oc(e=u.qc())&&(t.runTreeRef=e.first),u.Oc(e=u.qc())&&(t.op=e.first),u.Oc(e=u.qc())&&(t.pipelineInput=e.first)}},inputs:{serviceDetails:"serviceDetails"},decls:15,vars:10,consts:[[1,"breadcrumbs-container"],["aria-label","breadcrumb",1,"dlt-breadcrumbs"],["routerLink","/integration/dashboard/overview","tabindex","0",1,"dlt-links"],["routerLink","/monitoring/services","tabindex","0",1,"dlt-links"],["aria-current","page",1,"dlt-links"],["class","detailcontainer",4,"ngIf"],[1,"detailcontainer"],[1,"row"],[1,"col-md-6"],[1,"dlg-title-wrapper"],[1,"page-title"],[1,"col-md-6","text-right"],[1,"btn-container"],["id","returnToServicesList",1,"iconButton1",3,"click"],["src","assets/images/return-to-previous-arrow-icon24.svg",3,"alt"],[1,"lbl-return"],[1,"dlt-dropdown"],["showDelay","250",1,"dlt-button","dlt-button-icon","iconButton2",3,"pTooltip","click"],[1,"dlt-icon-refresh","dlg-icon-btn"],["ngbDropdown","","placement","bottom-right",1,"dlt-dropdown","ngbDropdown"],["ngbDropdownToggle","","id","serviceActionsDropDown","showDelay","250","tabindex","0",1,"dlt-button","dlt-button-icon","hide-caret","iconButton2",3,"pTooltip","click"],["op",""],[1,"dlt-icon-more-menu","actions-menu","dlg-icon-btn"],["ngbDropdownMenu","",1,"isac-overflow-menu"],["ngbDropdownItem","","id","editServicePipeline","tabindex","0",3,"click","focusout","keydown.enter"],["ngbDropdownItem","","id","resubmitService","tabindex","0",3,"click","focusout","keydown.enter"],["id","mainTable",1,"main"],["width","100%"],["height","100%"],["valign","top","height","100%"],[1,"row","rowone"],[1,"colone"],[1,"svc-card1"],[3,"label"],[1,"hr1"],[1,"status"],[1,"status-col1"],[2,"width","36px","height","36px",3,"src","alt"],[1,"svc-data1"],["align","center"],[1,"card3a"],["id","serviceDuration",1,"svc-data2b"],[1,"row","row-narrow"],[1,"svc-card2"],["showExpandCollapse","true",3,"label"],[1,"svc-info"],[2,"min-width","30%"],[2,"width","70%"],["showDelay","250","tooltipPosition","top",1,"svc-data3","svc-info",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"svc-data4","svc-info",3,"pTooltip"],[1,"svc-card"],[1,"col-1"],[1,"card2"],[1,"col"],["showDelay","250","tooltipPosition","top","class","svc-data5",3,"pTooltip",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"col","float-left","d-flex","align-items-stretch","coltwo"],[2,"width","100%"],[1,"svc-card3"],[1,"card2a"],["id","lastUpdated",1,"svc-data1a"],[4,"ngIf"],[1,"sidebar"],["id","serviceSidebar","position","right",3,"visible","fullScreen","visibleChange"],["tabindex","0","showDelay","250","tooltipPosition","top",1,"sidebar",3,"pTooltip","click"],["width","22","height","20",3,"src","alt"],["showDelay","250","tooltipPosition","top",1,"sidebar1",3,"pTooltip","click"],["src","assets/images/SvcDoc-details-vec-18.svg","width","22","height","20",3,"alt"],["showDelay","250",1,"sidebar2",3,"pTooltip","click"],["src","assets/isac-assets/images/svgs/Collapse-All-vec17.svg","width","18","height","18",3,"alt"],["showDelay","250","tooltipPosition","top",1,"sidebar3",3,"pTooltip","click"],["src","assets/isac-assets/images/svgs/Expand-All-vec17.svg","width","18","height","18",3,"alt"],[3,"activeIndex","multiple","expandIcon","collapseIcon","activeIndexChange"],[3,"click"],["class","sidebarhdr",4,"ngIf"],[4,"ngIf","ngIfElse"],["noHistoryItemsTemplate",""],["noActivityMsgItemsTemplate",""],["noControlActionItemsTemplate",""],["noLoggedFieldItemsTemplate",""],["noServiceErrorItemsTemplate",""],["showDelay","250","tooltipPosition","top",1,"sidebar",3,"pTooltip","click"],["id","servicePipelineInput","position","center",3,"closeOnEscape","visible","showHeader","draggable","resizable","modal","contentStyle","focusTrap","maximizeIcon","minimizeIcon","closeIcon","baseZIndex","maximizable","blockScroll","closable","visibleChange","onHide"],["pipelineServiceInput",""],[1,"dlg-title-wrapper","svc-title-wrapper"],[1,"dlg-title-row"],[3,"svcInputLoaded"],["runTreeRef",""],[1,"dlg-footer-buttons-wrapper","svc-footer-wrapper"],["id","service_pipeline_cancel",1,"dlt-button","dlt-button-secondary","cancel-modal",3,"value","click"],["id","service_pipeline_resubmit",1,"dlt-button","dlt-button-secondary",3,"value","click"],["id","service_pipeline_save",1,"dlt-button","dlt-button-primary","save-modal","dlg-rt-btn",3,"value","click"],["showDelay","250","tooltipPosition","top",1,"svc-data5",3,"pTooltip"],[1,"card3"],[1,"hr2"],[1,"card4"],[1,"svc-data2a"],["showDelay","250","tooltipPosition","top",1,"dlt-links",3,"pTooltip","routerLink"],[1,"card5"],["class","svc-data2a",4,"ngFor","ngForOf"],[1,"sidebarhdr"],["role","button","href","javascript:void(0);",1,"dlt-links","sidebarhdr",3,"click"],[3,"columns","value","scrollable","scrollHeight"],["pTemplate","header"],["pTemplate","body"],["class","timestamp",4,"ngFor","ngForOf"],[1,"timestamp"],["tooltipPosition","top",3,"pSortableColumn","pTooltip"],["ariaLabel","'common.table.column.sort'|translate","ariaLabelDesc","'common.table.column.sort.descending'|translate","ariaLabelAsc","'common.table.column.sort.ascending'|translate",3,"field"],["showDelay","250","tooltipPosition","top",1,"t200px",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"t100pct",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"t33pct",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"t34pct",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"t50pct",3,"pTooltip"]],template:function(e,t){1&e&&(u.fc(0,"div",0),u.fc(1,"ol",1),u.fc(2,"li"),u.fc(3,"a",2),u.bd(4),u.uc(5,"translate"),u.ec(),u.ec(),u.fc(6,"li"),u.fc(7,"a",3),u.bd(8),u.uc(9,"translate"),u.ec(),u.ec(),u.fc(10,"li"),u.fc(11,"a",4),u.bd(12),u.uc(13,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.Zc(14,Ca,236,261,"div",5)),2&e&&(u.Lb(4),u.cd(u.vc(5,4,"masthead.administration")),u.Lb(4),u.cd(u.vc(9,6,"monitoring.services.tab")),u.Lb(4),u.cd(u.vc(13,8,"monitoring.services.service.detail.pagetitle")),u.Lb(2),u.Ac("ngIf",t.serviceDetails))},directives:[d.h,s.n,T.a,a.b,a.f,a.e,a.d,r.SimpleCardComponent,mn.a,bn.a,bn.c,w.g,L.a,Lt,w.f,s.m,Wt.h,w.j,Wt.g,Wt.f],pipes:[n.c,h.h,h.t,h.x],styles:['.breadcrumbs-container[_ngcontent-%COMP%]{padding-top:.7rem}.rightSideFixedcontainer[_ngcontent-%COMP%]{padding-top:.7rem;margin-right:25px}.detailcontainer[_ngcontent-%COMP%]{width:100%;height:100%;padding:1rem;overflow:auto}.page-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;padding-left:.25rem;font-family:Roboto,Helvetica,Arial,sans-serif}.btn-grp[_ngcontent-%COMP%], .page-title[_ngcontent-%COMP%]{line-height:1.5rem;width:100%}.btn-grp[_ngcontent-%COMP%]{padding-right:1.05rem;padding-top:1rem;display:inline;text-align:right}.svc-data1[_ngcontent-%COMP%]{margin-left:1rem;white-space:nowrap}.svc-data1[_ngcontent-%COMP%], .svc-data1a[_ngcontent-%COMP%]{margin-top:.22rem;font-size:1.25rem;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-data1a[_ngcontent-%COMP%]{margin-left:0;min-width:280px}.svc-data2[_ngcontent-%COMP%], .svc-data2a[_ngcontent-%COMP%]{margin-top:.22rem;margin-left:1rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-data2a[_ngcontent-%COMP%]{word-wrap:break-word;width:100%}.svc-data2b[_ngcontent-%COMP%]{margin-top:.22rem;margin-left:.4rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-data3[_ngcontent-%COMP%]{margin-left:2rem;font-weight:500;white-space:nowrap}.svc-data3[_ngcontent-%COMP%], .svc-data4[_ngcontent-%COMP%]{margin-top:-.6rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-data4[_ngcontent-%COMP%]{margin-left:0;word-wrap:break-word}.svc-data5[_ngcontent-%COMP%]{margin-top:-.6rem;margin-left:-3rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif;white-space:normal;word-wrap:break-word;text-align:left}.svc-card[_ngcontent-%COMP%]{margin-top:1.2rem;padding-bottom:.9rem}.svc-card[_ngcontent-%COMP%], .svc-card1[_ngcontent-%COMP%]{padding-left:1.05rem;padding-right:1.05rem;min-width:500px;width:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-card1[_ngcontent-%COMP%]{padding-bottom:2.12rem}.svc-card2[_ngcontent-%COMP%]{padding-left:1.05rem;padding-right:1.05rem;min-width:500px}.svc-card2[_ngcontent-%COMP%], .svc-card3[_ngcontent-%COMP%]{padding-bottom:.9rem;width:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-card3[_ngcontent-%COMP%]{margin-left:0;padding-left:2px;padding-right:1px;height:100%}.hr1[_ngcontent-%COMP%]{width:100%;margin-left:1.65rem;margin-right:1.65rem;margin-top:.4rem}.hr1a[_ngcontent-%COMP%]{margin-top:.4rem}.hr1a[_ngcontent-%COMP%], .hr1b[_ngcontent-%COMP%]{width:100%;margin-left:1rem;margin-right:1rem}.hr1b[_ngcontent-%COMP%]{margin-top:-1.6rem}.vr1[_ngcontent-%COMP%]{width:10px;size:500;position:absolute;top:0;bottom:0;left:150px}.hr2[_ngcontent-%COMP%]{width:100%;margin-left:1.65rem;margin-right:1.65rem;margin-top:.4rem;border-top:0}.card2[_ngcontent-%COMP%]{margin-bottom:.4rem}.card2[_ngcontent-%COMP%], .card2a[_ngcontent-%COMP%]{border:0 solid;margin-left:.65rem;margin-top:0;font-family:Roboto,Helvetica,Arial,sans-serif}.card2a[_ngcontent-%COMP%]{margin-bottom:.55rem}.card3[_ngcontent-%COMP%]{margin:-.4rem .65rem .4rem}.card3[_ngcontent-%COMP%], .card3a[_ngcontent-%COMP%]{font-size:16px;font-weight:700;border:0 solid}.card3a[_ngcontent-%COMP%]{margin-top:-.4rem;margin-bottom:.4rem}.card4[_ngcontent-%COMP%]{margin-right:2rem}.card4[_ngcontent-%COMP%], .card5[_ngcontent-%COMP%]{border:0 solid;margin-left:.65rem;margin-top:-2rem;font-family:Roboto,Helvetica,Arial,sans-serif}.card5[_ngcontent-%COMP%]{margin-bottom:1rem}table.status[_ngcontent-%COMP%]{table-layout:auto;width:100%;margin:0 1rem 1rem 2rem;border:0;border-collapse:collapse}td.status-col1[_ngcontent-%COMP%]{width:1px;white-space:nowrap}table.svc-info[_ngcontent-%COMP%]{width:100%;margin:.4rem 1.65rem 1.5rem;border:none;border-collapse:collapse}table.svc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;border:1px solid #e5e5e5;word-wrap:break-word}table.svc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none}table.svc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none}table.svc-details[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:0 8px}button.sidebar[_ngcontent-%COMP%], button.sidebar1[_ngcontent-%COMP%]{margin-top:.4rem;margin-bottom:1rem;border:none;background:none;width:22px;height:20px}button.sidebar1[_ngcontent-%COMP%]{margin-left:.7rem}button.sidebar2[_ngcontent-%COMP%]{margin-right:2rem}button.sidebar2[_ngcontent-%COMP%], button.sidebar3[_ngcontent-%COMP%]{margin-top:.4rem;margin-bottom:1rem;border:none;background:none;width:22px;height:20px;float:right}button.sidebar1[_ngcontent-%COMP%]:focus, button.sidebar2[_ngcontent-%COMP%]:focus, button.sidebar3[_ngcontent-%COMP%]:focus, button.sidebar[_ngcontent-%COMP%]:focus{outline:0}div.sidebar[_ngcontent-%COMP%]{width:28px;margin-left:-.4rem}div.sidebar[_ngcontent-%COMP%], td.sidebar[_ngcontent-%COMP%]{background-color:#f2f2f2}td.sidebar[_ngcontent-%COMP%]{vertical-align:top;overflow:hidden;height:100%}table.main[_ngcontent-%COMP%]{width:"100%";height:"100%";margin-left:.46rem}.iconButton[_ngcontent-%COMP%]{font-size:1.25rem}.iconButton[_ngcontent-%COMP%], .iconButton1[_ngcontent-%COMP%]{font-weight:400;vertical-align:middle;margin-right:5px}.iconButton1[_ngcontent-%COMP%]{font-size:1.46rem;margin-top:0;margin-bottom:0;padding-right:-15px;background:none;padding-top:0;padding-bottom:2px;border:2px solid transparent;outline:none}.iconButton1[_ngcontent-%COMP%]:hover{border:2px solid #1776bf}.iconButton1[_ngcontent-%COMP%]:focus{border-color:#1776bf}.iconButton2[_ngcontent-%COMP%]{font-size:1.46rem;font-weight:400;vertical-align:middle;margin-right:7px;border:2px solid transparent;background:none;outline:none;color:#000}.iconButton2[_ngcontent-%COMP%]:hover{border:2px solid #1776bf}.lbl-return[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:1.02rem;vertical-align:middle;padding-top:0;color:#1776bf;margin:0 10px 2px 5px;cursor:pointer}.btn-container[_ngcontent-%COMP%]{width:100%;padding:0}span.sidebarhdr[_ngcontent-%COMP%]{float:right;margin-top:.1rem;font-weight:700;color:#4591ca}a.sidebarhdr[_ngcontent-%COMP%]{color:#4591ca!important;float:right}  .p-sidebar-active{top:233px!important;height:calc(100vh - 237px)!important}td.t33pct[_ngcontent-%COMP%]{width:33%}td.t34pct[_ngcontent-%COMP%]{width:34%}td.t50pct[_ngcontent-%COMP%]{width:50%}td.t100pct[_ngcontent-%COMP%]{width:100%}td.t200px[_ngcontent-%COMP%]{width:200px;white-space:nowrap}th.t33pct[_ngcontent-%COMP%]{width:33%}th.t34pct[_ngcontent-%COMP%]{width:34%}th.t50pct[_ngcontent-%COMP%]{width:50%}th.t100pct[_ngcontent-%COMP%]{width:100%}th.t200px[_ngcontent-%COMP%]{width:200px;white-space:nowrap}.buttons-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:8px}.row-narrow[_ngcontent-%COMP%]{margin-top:-20px}.refresh[_ngcontent-%COMP%]{width:24px;height:24px}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.actions-menu[_ngcontent-%COMP%]:before{font-size:1.31rem!important;font-weight:800!important;line-height:16px;width:18px;height:18px;margin-top:4px;padding-left:2px}.rowone[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;margin-left:0}.colone[_ngcontent-%COMP%]{padding-right:10px}.colone[_ngcontent-%COMP%], .coltwo[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:1;overflow:hidden;margin-right:.6rem}.coltwo[_ngcontent-%COMP%]{padding-right:11px;padding-left:0!important;min-width:500px}.svc-title-wrapper[_ngcontent-%COMP%]{margin-top:4px}.svc-footer-wrapper[_ngcontent-%COMP%]{margin-right:.1rem;margin-top:1rem}  .dlt-icon-fullscreen:before{content:url(Expand-dialog-vec18.4ec93a215fa9f4638f8b.svg)}  .dlt-icon-fullscreen-exit:before{content:url(Collapse-dialog-vec18.c764bb320fbb6335e037.svg)}']}),e})(),xa=(()=>{class e{constructor(){this.fullScreenTable=!1,this._serviceSearchQuery=null}get timeRange(){return this._timeRange}set timeRange(e){this._timeRange=e}get basicSearchFilters(){return this._basicSearchFilters}set basicSearchFilters(e){this._basicSearchFilters=e}get tableFilters(){return this._tableFilters}set tableFilters(e){this._tableFilters=e}get serviceSearchQuery(){return this._serviceSearchQuery}set serviceSearchQuery(e){this._serviceSearchQuery=e}get refreshInterval(){return this._refreshInterval}set refreshInterval(e){this._refreshInterval=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=u.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Ta{static getAdvancedSearchBuilderConfig(){return{searchFields:{serviceName:{name:"serviceName",label:"monitoring.services.service.name1",type:"text",nullable:!0,isISService:!0},serverID:{name:"serverID",label:"monitoring.services.service.server.id",type:"text",nullable:!0},contextID:{name:"contextID",label:"monitoring.services.service.context.id",type:"text",nullable:!0},rootContextID:{name:"rootContextID",label:"monitoring.services.service.root.context.id",type:"text",nullable:!0},parentContextID:{name:"parentContextID",label:"monitoring.services.service.parent.context.id",type:"text",nullable:!0},username:{name:"username",label:"monitoring.services.service.user.id",type:"text",nullable:!0}}}}static getAllSearchFields(){return{serviceName:{name:"serviceName",label:"monitoring.services.service.name1",type:"text",nullable:!0,isISService:!0},serverID:{name:"serverID",label:"monitoring.services.service.server.id",type:"text",nullable:!0},contextID:{name:"contextID",label:"monitoring.services.service.context.id",type:"text",nullable:!0},rootContextID:{name:"rootContextID",label:"monitoring.services.service.root.context.id",type:"text",nullable:!0},parentContextID:{name:"parentContextID",label:"monitoring.services.service.parent.context.id",type:"text",nullable:!0},username:{name:"username",label:"monitoring.services.service.user.id",type:"text",nullable:!0},statusSet:{name:"statusSet",label:"monitoring.services.service.status",type:"multiSelect",options:null,value:null,nullable:!0}}}static getSearchField(e){return Ta.getAllSearchFields()[e]}}function La(e,t){if(1&e&&(u.dc(0),u.fc(1,"td",5),u.bd(2),u.ec(),u.cc()),2&e){const e=t.$implicit;u.Lb(2),u.dd(" ",e," ")}}function wa(e,t){if(1&e&&(u.dc(0),u.fc(1,"tr"),u.Zc(2,La,3,1,"ng-container",4),u.ac(3,"td"),u.ac(4,"td"),u.ec(),u.cc()),2&e){const e=u.tc(2);u.Lb(2),u.Ac("ngForOf",e.columnHeaders)}}function Ia(e,t){if(1&e&&(u.fc(0,"option",14),u.bd(1),u.uc(2,"translate"),u.ec()),2&e){const e=t.$implicit;u.Ac("ngValue",e),u.Lb(1),u.dd(" ",u.vc(2,2,e.name)," ")}}function Ma(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"tr"),u.fc(2,"td",6),u.fc(3,"div"),u.fc(4,"input",7),u.pc("ngModelChange",function(e){return t.$implicit.field=e})("ngModelChange",function(i){u.Rc(e);const n=t.$implicit;return u.tc(2).changeField(i,n)}),u.uc(5,"translate"),u.ec(),u.ec(),u.ec(),u.fc(6,"td",6),u.fc(7,"div",8),u.fc(8,"select",9),u.pc("ngModelChange",function(e){return t.$implicit.operator=e})("ngModelChange",function(i){u.Rc(e);const n=t.$implicit;return u.tc(2).changeOperator(n,i)}),u.Zc(9,Ia,3,4,"option",10),u.ec(),u.ec(),u.ec(),u.fc(10,"td",6),u.fc(11,"div"),u.fc(12,"input",7),u.pc("ngModelChange",function(e){return t.$implicit.value=e})("ngModelChange",function(){return u.Rc(e),u.tc(2).changeInput()}),u.ec(),u.ec(),u.ec(),u.fc(13,"td"),u.fc(14,"button",11),u.pc("click",function(){u.Rc(e);const i=t.$implicit;return u.tc(2).addCondition(i)}),u.uc(15,"translate"),u.uc(16,"translate"),u.ac(17,"i",12),u.ec(),u.ec(),u.fc(18,"td"),u.fc(19,"button",11),u.pc("click",function(){u.Rc(e);const i=t.$implicit;return u.tc(2).removeCondition(i)}),u.uc(20,"translate"),u.uc(21,"translate"),u.ac(22,"i",13),u.ec(),u.ec(),u.ec(),u.cc()}if(2&e){const e=t.$implicit,i=u.tc(2);u.Lb(4),u.Ac("ngModel",e.field)("disabled",i.disabled),u.Mb("aria-label",u.vc(5,17,"common.filters.add.condition"))("aria-label",i.columnHeaders[0]),u.Lb(4),u.Ac("ngModel",e.operator)("disabled",i.disabled),u.Mb("aria-label",i.columnHeaders[1]),u.Lb(1),u.Ac("ngForOf",i.getOperators()),u.Lb(3),u.Ac("ngModel",e.value)("disabled",i.disabled),u.Mb("aria-label",i.columnHeaders[2]),u.Lb(2),u.Bc("pTooltip",u.vc(15,19,"common.filters.add.condition")),u.Ac("disabled",i.disabled),u.Mb("aria-label",u.vc(16,21,"common.filters.add.condition")),u.Lb(5),u.Bc("pTooltip",u.vc(20,23,"common.filters.remove.condition")),u.Ac("disabled",i.data.conditions.length<=1),u.Mb("aria-label",u.vc(21,25,"common.filters.remove.condition"))}}function Oa(e,t){if(1&e&&(u.fc(0,"ul",1),u.fc(1,"table",2),u.Zc(2,wa,5,1,"ng-container",3),u.Zc(3,Ma,23,27,"ng-container",4),u.ec(),u.ec()),2&e){const e=u.tc();u.Lb(2),u.Ac("ngIf",e.columnHeaders),u.Lb(1),u.Ac("ngForOf",e.data.conditions)}}let _a=(()=>{class e{constructor(e){this.changeDetectorRef=e,this.data={conditions:[]},this.config={fields:{}},this.markDirty=new u.p,this.defaultEmptyList=[]}ngOnInit(){}ngOnChanges(e){const t=this.config,i=typeof t;if("object"!==i)throw new Error(`Expected 'config' must be a valid object, got ${i} instead.`);t.fields&&(this.fields=Object.keys(t.fields).map(e=>{const i=t.fields[e];return i.value=i.value||e,i}))}addCondition(){if(this.disabled)return;let e="";this.fields&&this.fields.length>0&&(e=this.fields[0].name),this.data.conditions=this.data.conditions.concat([{field:e,value:"",operator:Pa[0]}]),this.handleDataChange()}removeCondition(e){if(this.disabled)return;const t=this.data;t.conditions=t.conditions.filter(t=>t!==e),this.handleDataChange()}getDefaultValue(e){switch(typeof e){case"function":return e();default:return e}}getOperators(){return Pa}get value(){return this.data}set value(e){this.data=e||{conditions:[]},this.handleDataChange()}handleDataChange(){this.changeDetectorRef.markForCheck(),this.markDirty.emit("changed")}changeOperator(e,t){this.disabled||(e.operator=t,this.handleDataChange())}changeInput(){this.disabled||this.handleDataChange()}changeField(e,t){this.disabled||this.handleDataChange()}getFields(e){return this.fields}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(u.h))},e.\u0275cmp=u.Tb({type:e,selectors:[["ac-condition-builder"]],inputs:{disabled:"disabled",data:"data",columnHeaders:"columnHeaders",config:"config",value:"value"},outputs:{markDirty:"markDirty"},features:[u.Jb],decls:1,vars:1,consts:[["class","conditionbuilder",4,"ngIf"],[1,"conditionbuilder"],[1,"conditionTable"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"conditionColHdr"],[1,"conditionCell"],["type","text","tabindex","0",3,"ngModel","disabled","ngModelChange"],[1,"select-arrow-icon"],["tabindex","0",3,"ngModel","disabled","ngModelChange"],["tabindex","0",3,"ngValue",4,"ngFor","ngForOf"],["showDelay","250","tabindex","0",1,"plusminus",3,"disabled","pTooltip","click"],[1,"dlt-icon-plus-circle","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-minus-circle","dlg-icon-btn","dlt-icon"],["tabindex","0",3,"ngValue"]],template:function(e,t){1&e&&u.Zc(0,Oa,4,2,"ul",0),2&e&&u.Ac("ngIf",t.data&&t.data.conditions)},directives:[s.n,s.m,te.c,te.n,te.q,te.x,T.a,te.r,te.B],pipes:[n.c],styles:["ul[_ngcontent-%COMP%]{list-style:none;margin:0;overflow:hidden;padding:0}li[_ngcontent-%COMP%]{padding:7px}.row[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.conditionbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:400;font-size:.875rem;display:block;width:100%;line-height:1.5rem;height:1.5rem;padding:0 .5rem;color:#333;background-color:#fff;border-radius:0;border:1px solid gray}.conditionbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:enabled, .conditionbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover:enabled{border:1px solid #1776bf;outline:1px solid #1776bf;outline-offset:-2px;border-radius:0}.conditionbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;font-size:.875rem;width:100%;height:1.5rem;line-height:1.5rem;padding:0 5px 0 .5rem;color:#333;border-radius:0;border:1px solid gray;display:block;background-color:#fff;margin:0 20px 0 0;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.conditionbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus:enabled, .conditionbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover:enabled{border:1px solid #1776bf;outline:1px solid #1776bf;outline-offset:-2px}.select-arrow-icon[_ngcontent-%COMP%]:after{line-height:1.5rem}.conditionbuilder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:400;height:1.5rem;line-height:1.5rem;vertical-align:middle;border:none;outline:none;background-color:#fff}.conditionbuilder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:enabled{color:#1776bf}.plusminus[_ngcontent-%COMP%]{display:inline-block;position:relative}.plusminus[_ngcontent-%COMP%]:focus{border:1px solid #1776bf!important;outline:1px solid #1776bf!important;box-shadow:none!important;outline-offset:-2px}table.conditionTable[_ngcontent-%COMP%]{width:100%;padding-left:0;padding-right:0}.conditionColHdr[_ngcontent-%COMP%]{font-weight:500;font-size:.875rem;line-height:1;color:#333;padding-bottom:.025rem;padding-right:.02rem}.conditionCell[_ngcontent-%COMP%], .conditionColHdr[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;padding-left:.46rem}.conditionCell[_ngcontent-%COMP%]{padding-right:.6rem}"]}),e})();const Pa=[{value:"=",name:"common.operator.equals"},{value:"Contains",name:"common.operator.contains"},{value:"NotContains",name:"common.operator.notContains"},{value:"!=",name:"common.operator.notEquals"},{value:">",name:"common.operator.greaterThan"},{value:">=",name:"common.operator.greaterThanEqual"},{value:"<",name:"common.operator.lessThan"},{value:"<=",name:"common.operator.lessThanEqual"}];var Da=i("Ckfk");const Aa=["searchOverlay"],Ra=["acConditionBuilder"],ka=["acSearchBuilder"],Ea=function(){return{"min-height":"200px","min-width":"620px"}},Fa=function(){return{"min-width":"150px",width:"11rem","line-height":"1.5rem",height:"1.5rem"}};let Ba=(()=>{class e{constructor(e,t){this.translate=e,this.sharedMessageService=t,this.onAdvancedSearchReset=new u.p,this.onAdvancedSearchApply=new u.p,this.config=Ta.getAdvancedSearchBuilderConfig(),this.query=null,this.conditions=null,this.conditionConfig={},this.isDirty=!1,this._isAndQuery=!1,this._initialDataSetDone=!1,this.searchColHdrs=[],this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})}ngOnInit(){this.searchColHdrs=[this.translate.instant("monitoring.services.logFieldName"),this.translate.instant("common.labels.operator"),this.translate.instant("common.labels.value")]}showSearchOverlay(){const e=this.serviceSearchQuery.tableFilters;let t=this.serviceSearchQuery.searchTerms;t||(t=new Array);for(let a=0;a<e.length;a++){const i=e[a];if("topLevelOnly"===i.filterBy)this.serviceSearchQuery.rootLevelServiceOnly=i.filterValue;else if("isAnd"===i.filterBy)this.serviceSearchQuery.andQuery=i.filterValue;else if("statusSet"===i.filterBy)this.serviceSearchQuery.status=i.filterValue;else if("customData"===i.filterBy&&i.filterValue){const e=[];i.filterValue.map(t=>e.push(Object.assign({},t))),this.serviceSearchQuery.logFields=e}else t.push({field:i.filterBy,value:i.filterValue})}0===t.length&&t.push(this.createDefaultSearchRow()),this.serviceSearchQuery.searchTerms=t,this.query={searchTerms:this.serviceSearchQuery.searchTerms};let i=this.serviceSearchQuery.logFields;i&&0!==i.length||(i=new Array,i.push(this.createDefaultConditionRow())),this.serviceSearchQuery.logFields=i,this.conditions={conditions:this.serviceSearchQuery.logFields};const n=this;setTimeout(()=>{n.acSearchBuilder.setFocus(),this._initialDataSetDone=!0},200),this.enableModality(),this._isAndQuery=this.serviceSearchQuery.andQuery,this.makeComponentsAccessible(),this.isDirty=!1}toggle(e){this.searchOverlay&&this.searchOverlay.toggle(e)}statusChange(e){this.serviceSearchQuery.status=e.value,this.isDirty=!0}cancelSearch(){this.searchOverlay.hide()}applySearch(){const e=this.acConditionBuilder.data.conditions;this.serviceSearchQuery.searchTerms=this.acSearchBuilder.data.searchTerms,this.serviceSearchQuery.logFields=e,this.onAdvancedSearchApply.emit(this.serviceSearchQuery),this.searchOverlay.hide()}setOrQuery(){this.serviceSearchQuery.andQuery=!1,this.isDirty=!0}setAndQuery(){this.serviceSearchQuery.andQuery=!0,this.isDirty=!0}resetSearch(){this.serviceSearchQuery.searchTerms=null,this.serviceSearchQuery.logFields=null,this.serviceSearchQuery.status=null,this.serviceSearchQuery.andQuery=!0,this.serviceSearchQuery.rootLevelServiceOnly=!1,this.searchOverlay.hide(),this.isDirty=!0,this.onAdvancedSearchReset.emit(this.serviceSearchQuery)}createDefaultSearchRow(){return{field:this.config.searchFields.serviceName.name,value:null,isISService:!0}}createDefaultConditionRow(){return{field:null,value:null,operator:Pa[0]}}getSearchField(e){return this.config.searchFields[e]}handleKeydown(e){this.isDirty=!0,27===e.keyCode&&this.searchOverlay.hide()}statusEnter(){document.querySelector("#statusSelect").click()}enableModality(){if(this.searchOverlay&&!this.searchOverlay.mask){this.searchOverlay.mask=document.createElement("div"),this.searchOverlay.mask.style.zIndex=String(parseInt(this.searchOverlay.container.style.zIndex)-1);let e="ui-widget-overlay ui-dialog-mask";this.searchOverlay.blockScroll&&(e+=" ui-dialog-mask-scrollblocker"),Da.b.addMultipleClasses(this.searchOverlay.mask,e),this.searchOverlay.closable&&this.searchOverlay.dismissableMask&&(this.maskClickListener=this.searchOverlay.renderer.listen(this.searchOverlay.mask,"click",e=>{this.searchOverlay.close(e)})),document.body.appendChild(this.searchOverlay.mask),this.searchOverlay.blockScroll&&Da.b.addClass(document.body,"ui-overflow-hidden")}}disableModality(){if(this.searchOverlay&&this.searchOverlay.mask){if(this.unbindMaskClickListener(),document.body.removeChild(this.searchOverlay.mask),this.searchOverlay.blockScroll){const e=document.body.children;let t;for(let i=0;i<e.length;i++)if(Da.b.hasClass(e[i],"ui-dialog-mask-scrollblocker")){t=!0;break}t||Da.b.removeClass(document.body,"ui-overflow-hidden")}this.searchOverlay.mask=null}}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}hideSearchOverlay(){this.disableModality(),this.isDirty=!1,this._initialDataSetDone=!1}makeComponentsAccessible(){setTimeout(()=>{const e=document.getElementsByTagName("p-multiSelect")[0];e&&h.J.makeMultiCheckboxAccessible(e,this.translate.instant("common.filters.multiselect.select.options"),this.translate.instant("monitoring.search.deselect.all"),this.translate.instant("monitoring.search.select.all"))},100)}ngOnDestroy(){this.disableModality(),this.subscription.unsubscribe()}markDirty(){this.isDirty=!0}ngDoCheck(){this._isAndQuery!==this.serviceSearchQuery.andQuery&&this._initialDataSetDone&&this.markDirty()}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(n.d),u.Zb(h.A))},e.\u0275cmp=u.Tb({type:e,selectors:[["ac-service-search"]],viewQuery:function(e,t){if(1&e&&(u.hd(Aa,1),u.hd(Ra,1),u.hd(ka,1)),2&e){let e;u.Oc(e=u.qc())&&(t.searchOverlay=e.first),u.Oc(e=u.qc())&&(t.acConditionBuilder=e.first),u.Oc(e=u.qc())&&(t.acSearchBuilder=e.first)}},hostBindings:function(e,t){1&e&&u.pc("keydown",function(e){return t.handleKeydown(e)},!1,u.Qc)},inputs:{serviceSearchQuery:"serviceSearchQuery",serviceStatusList:"serviceStatusList"},outputs:{onAdvancedSearchReset:"onAdvancedSearchReset",onAdvancedSearchApply:"onAdvancedSearchApply"},decls:66,vars:57,consts:[["focusOnShow","true",3,"baseZIndex","appendTo","onShow","onHide"],["searchOverlay",""],[1,"filter-top-row"],[1,"isac-overlay-title-wrapper"],[1,"isac-overlay-details-title"],[1,"svc-filter-label-wrapper"],["for","searchConditionSwitchSvc",1,"dlt-form-label","padding-top-5","padding-right-5"],[1,"padding-left-5","dlt-form-label","padding-top-5","toggle-inline",3,"click"],[1,"toggle-btn","toggle-inline"],[1,"dlt-fieldset","sm-switch","fliter-switch-item"],[1,"dlt-switch-item"],["id","searchConditionSwitchSvc","type","checkbox","ngDefaultControl","",1,"dlt-switch-input",3,"ngModel","ngModelChange"],["for","searchConditionSwitchSvc",1,"dlt-switch-text"],[1,"dlt-switch-appearance","dlt-on-off"],[1,"on"],[1,"off"],[1,"dlt-form-label","padding-top-5","toggle-inline",3,"click"],[1,"filter-title-buttons-wrapper"],["tabindex","0","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"pTooltip","click"],[1,"dlt-icon-close","isac-dlg-close-icon-btn","dlg-icon-btn","dlt-icon"],[1,"filter-row"],[1,"dlt-form-label"],[1,"searchArea"],[3,"data","config","markDirty"],["acSearchBuilder",""],["id","statusFilterRefSvcId","tabindex","0","autofocusFilter","true","dropdownIcon","dlt-icon-dropdown",3,"options","ngModel","filter","defaultLabel","maxSelectedLabels","baseZIndex","onPanelShow","onChange","ngModelChange","keydown.enter"],["statusFilterRefSvc",""],[3,"data","config","columnHeaders","markDirty"],["acConditionBuilder",""],[1,"ftr-container"],[1,"ftr-item"],[1,"dlt-checkbox","root-checkbox"],["type","checkbox","id","rootLevelServicesOnlyCheckbox","name","","tabindex","0",3,"ngModel","ngModelChange"],["for","rootLevelServicesOnlyCheckbox"],[1,"ftr-divider"],["tabindex","0",1,"dlt-button","dlt-button-primary",3,"disabled","click"],[1,"footer-btn-divider"],["tabindex","0",1,"dlt-button","dlt-button-secondary","dlg-rt-btn",3,"click"]],template:function(e,t){1&e&&(u.fc(0,"p-overlayPanel",0,1),u.pc("onShow",function(){return t.showSearchOverlay()})("onHide",function(){return t.hideSearchOverlay()}),u.fc(2,"div",2),u.fc(3,"div",3),u.fc(4,"div",4),u.bd(5),u.uc(6,"translate"),u.ec(),u.ec(),u.fc(7,"div",5),u.fc(8,"label",6),u.bd(9),u.uc(10,"translate"),u.ec(),u.fc(11,"label",7),u.pc("click",function(){return t.setOrQuery()}),u.bd(12),u.uc(13,"translate"),u.ec(),u.fc(14,"div",8),u.fc(15,"fieldset",9),u.fc(16,"div",10),u.fc(17,"input",11),u.pc("ngModelChange",function(e){return t.serviceSearchQuery.andQuery=e}),u.ec(),u.fc(18,"label",12),u.ac(19,"span",13),u.ac(20,"span",14),u.ac(21,"span",15),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(22,"label",16),u.pc("click",function(){return t.setAndQuery()}),u.bd(23),u.uc(24,"translate"),u.ec(),u.ec(),u.fc(25,"div",17),u.fc(26,"button",18),u.pc("click",function(){return t.cancelSearch()}),u.uc(27,"translate"),u.uc(28,"translate"),u.ac(29,"i",19),u.ec(),u.ec(),u.ec(),u.fc(30,"div",20),u.fc(31,"label",21),u.bd(32),u.uc(33,"translate"),u.ec(),u.ec(),u.fc(34,"div",22),u.fc(35,"ac-search-builder",23,24),u.pc("markDirty",function(){return t.markDirty}),u.ec(),u.ec(),u.ac(37,"hr",20),u.fc(38,"div",20),u.fc(39,"label",21),u.bd(40),u.uc(41,"translate"),u.ec(),u.ec(),u.fc(42,"p-multiSelect",25,26),u.pc("onPanelShow",function(){return t.makeComponentsAccessible()})("onChange",function(e){return t.statusChange(e)})("ngModelChange",function(e){return t.serviceSearchQuery.status=e})("keydown.enter",function(){return t.statusEnter()}),u.uc(44,"translate"),u.ec(),u.ac(45,"hr",20),u.fc(46,"div",22),u.fc(47,"ac-condition-builder",27,28),u.pc("markDirty",function(){return t.markDirty}),u.ec(),u.ec(),u.fc(49,"p-footer"),u.fc(50,"div",29),u.fc(51,"div",30),u.fc(52,"div",31),u.fc(53,"input",32),u.pc("ngModelChange",function(e){return t.serviceSearchQuery.rootLevelServiceOnly=e})("ngModelChange",function(){return t.markDirty()}),u.ec(),u.fc(54,"label",33),u.bd(55),u.uc(56,"translate"),u.ec(),u.ec(),u.ec(),u.ac(57,"div",34),u.fc(58,"div",30),u.fc(59,"button",35),u.pc("click",function(){return t.applySearch()}),u.bd(60),u.uc(61,"translate"),u.ec(),u.ac(62,"div",36),u.fc(63,"button",37),u.pc("click",function(){return t.resetSearch()}),u.bd(64),u.uc(65,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec()),2&e&&(u.Wc(u.Fc(55,Ea)),u.Ac("baseZIndex",1)("appendTo","body"),u.Lb(5),u.cd(u.vc(6,31,"common.label.AdvancedSearch")),u.Lb(4),u.cd(u.vc(10,33,"common.labels.SearchCondition")),u.Lb(3),u.cd(u.vc(13,35,"common.labels.or")),u.Lb(5),u.Ac("ngModel",t.serviceSearchQuery.andQuery),u.Lb(6),u.cd(u.vc(24,37,"common.labels.and")),u.Lb(3),u.Bc("pTooltip",u.vc(27,39,"common.close.title")),u.Mb("aria-label",u.vc(28,41,"common.close.title")),u.Lb(6),u.cd(u.vc(33,43,"common.labels.searchArea")),u.Lb(3),u.Ac("data",t.query)("config",t.config),u.Lb(5),u.dd(" ",u.vc(41,45,"monitoring.services.service.status"),""),u.Lb(2),u.Wc(u.Fc(56,Fa)),u.Bc("defaultLabel",u.vc(44,47,"common.all")),u.Ac("options",t.serviceStatusList)("ngModel",t.serviceSearchQuery.status)("filter",!1)("maxSelectedLabels",4)("baseZIndex",2e3),u.Lb(5),u.Ac("data",t.conditions)("config",t.conditionConfig)("columnHeaders",t.searchColHdrs),u.Lb(6),u.Ac("ngModel",t.serviceSearchQuery.rootLevelServiceOnly),u.Lb(2),u.cd(u.vc(56,49,"monitoring.services.rootLevelServicesOnly")),u.Lb(4),u.Ac("disabled",!t.isDirty),u.Lb(1),u.cd(u.vc(61,51,"common.apply")),u.Lb(4),u.cd(u.vc(65,53,"common.reset")))},directives:[Kt.a,te.a,te.c,te.n,te.q,T.a,li,di.a,_a,w.f],pipes:[n.c],styles:[".margin-right-5[_ngcontent-%COMP%]{margin-right:5px}.dlt-switch-text[_ngcontent-%COMP%]{margin-top:5px}.toggle-inline[_ngcontent-%COMP%]{float:left}.toggle-btn[_ngcontent-%COMP%]{margin:0 7px}.btn-group[_ngcontent-%COMP%]{padding:.875rem 0 0}.conditionlabel1Width[_ngcontent-%COMP%]{width:16rem;margin-right:21px}.conditionlabel2Width[_ngcontent-%COMP%]{min-width:8rem;padding-right:7px}.searchArea[_ngcontent-%COMP%]{margin-left:-7px!important}p-multiselect[_ngcontent-%COMP%]:focus{outline:3px solid #1776bf}.filter-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:0;margin-left:0}.filter-top-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:6px 0 1rem}.footer-buttons-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:0}.root-checkbox[_ngcontent-%COMP%]{margin-right:10rem;padding:0}.ftr-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:1.5rem}.ftr-item[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.ftr-divider[_ngcontent-%COMP%]{display:flex;flex:1}.fliter-switch-item[_ngcontent-%COMP%]{margin-top:3px}.svc-filter-label-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-left:1rem;margin-top:-5px}"]}),e})();const Na=["isMonSvcExeTable"],Ha=["tablePrefs"],Va=["tablePrefsOverlay"];function Za(e,t){if(1&e){const e=u.gc();u.fc(0,"div",7),u.fc(1,"div",20),u.fc(2,"d3-donut-chart",21),u.pc("pieItemClicked",function(t){return u.Rc(e),u.tc(2).pieItemClicked(t)}),u.ec(),u.ec(),u.fc(3,"div",22),u.fc(4,"app-chart-legend",23),u.pc("legendItemClicked",function(t){return u.Rc(e),u.tc(2).pieItemClicked(t)}),u.ec(),u.ec(),u.fc(5,"div",24),u.ac(6,"img",25),u.uc(7,"translate"),u.bd(8),u.uc(9,"translate"),u.ec(),u.ec()}if(2&e){const e=u.tc(2);u.Lb(2),u.Ac("data",e.donutChartData)("heightInput","160px"),u.Lb(2),u.Ac("data",e.legendsData)("heightInput","160px"),u.Lb(2),u.Bc("alt",u.vc(7,6,"common.chart.donut.infolabel")),u.Lb(2),u.dd(" ",u.vc(9,8,"common.chart.donut.infolabel")," ")}}function ja(e,t){1&e&&u.ac(0,"ac-loader")}function za(e,t){if(1&e&&u.ac(0,"ac-d3-stacked-bar-chart",26),2&e){const e=u.tc(2);u.Ac("chartno",0)("data",e.barData)("columnKeyColorArray",e.columnKeyColorArray)("heightInput","160px")("chartXAxisTitle",e.chartXAxisTitle)}}function Ua(e,t){1&e&&u.ac(0,"ac-loader")}function $a(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"div",53),u.fc(2,"label",54),u.bd(3),u.uc(4,"translate"),u.ec(),u.fc(5,"button",55),u.pc("click",function(t){u.Rc(e);const i=u.Pc(12);return u.tc(3).showBasicFilter(),i.toggle(t)}),u.bd(6),u.uc(7,"translate"),u.ec(),u.fc(8,"button",56),u.pc("click",function(t){u.Rc(e);const i=u.Pc(14);return u.tc(3).showAdvancedSearch(),i.toggle(t)}),u.bd(9),u.uc(10,"translate"),u.ec(),u.fc(11,"isac-lib-filter-overlay-panel",57,58),u.pc("onFiltersReset",function(t){return u.Rc(e),u.tc(3).onBasicFiltersReset(t)})("onFiltersApply",function(t){return u.Rc(e),u.tc(3).onBasicFiltersApply(t)})("onFilterChange",function(t){return u.Rc(e),u.tc(3).onFilterChange(t)}),u.ec(),u.fc(13,"ac-service-search",59,60),u.pc("onAdvancedSearchApply",function(t){return u.Rc(e),u.tc(3).onAdvancedSearchApply(t)})("onAdvancedSearchReset",function(t){return u.Rc(e),u.tc(3).onAdvancedSearchReset(t)}),u.ec(),u.fc(15,"isac-lib-filter-tags",61),u.pc("onClearAll",function(t){return u.Rc(e),u.tc(3).onClearAllFilters(t)})("onClearFilter",function(t){return u.Rc(e),u.tc(3).onClearFilter(t)}),u.ec(),u.ec(),u.cc()}if(2&e){const e=u.tc(3);u.Lb(3),u.cd(u.vc(4,8,"common.table.search")),u.Lb(3),u.cd(u.vc(7,10,"common.basic")),u.Lb(3),u.cd(u.vc(10,12,"common.advanced")),u.Lb(2),u.Ac("styleClass","filter-overlaypanel-content")("tableFilters",e.serviceListStateService.basicSearchFilters),u.Lb(2),u.Ac("serviceSearchQuery",e.serviceListStateService.serviceSearchQuery)("serviceStatusList",e.statusList),u.Lb(2),u.Ac("filterTags",e.filterTags)}}const Qa=function(e){return{value1:1e4,value2:e}};function Ka(e,t){if(1&e){const e=u.gc();u.fc(0,"div",62),u.fc(1,"div",63),u.ac(2,"span",64),u.fc(3,"div",65),u.bd(4),u.uc(5,"translate"),u.ec(),u.fc(6,"span",66),u.pc("click",function(){return u.Rc(e),u.tc(3).hideMaxResultWarning()}),u.uc(7,"translate"),u.ec(),u.ec(),u.ec()}if(2&e){const e=u.tc(3);u.Lb(4),u.dd(" ",u.wc(5,2,"monitoring.maxrowsreached",u.Gc(7,Qa,e.actualRowCount))," "),u.Lb(2),u.Bc("pTooltip",u.vc(7,5,"common.close.title"))}}const Wa=function(e){return{"text-align":e}};function qa(e,t){if(1&e&&(u.fc(0,"th",72),u.uc(1,"translate"),u.fc(2,"div",73),u.fc(3,"label",74),u.bd(4),u.uc(5,"translate"),u.ac(6,"p-sortIcon",75),u.ec(),u.ec(),u.ec()),2&e){const e=u.tc().$implicit;u.Bc("pTooltip",u.vc(1,5,e.header)),u.Ac("pSortableColumn",e.field)("ngStyle",u.Gc(9,Wa,e.hdrAlign)),u.Lb(4),u.dd(" ",u.vc(5,7,e.header)," "),u.Lb(2),u.Ac("field",e.field)}}function Xa(e,t){if(1&e&&(u.dc(0),u.Zc(1,qa,7,11,"th",71),u.cc()),2&e){const e=t.$implicit;u.Lb(1),u.Ac("ngIf",!e.hide)}}function Ja(e,t){if(1&e&&(u.fc(0,"tr"),u.fc(1,"td",76),u.ac(2,"ac-loader"),u.ec(),u.ec()),2&e){const e=u.tc(4);u.Lb(1),u.Mb("colspan",e.tableInfo.tableColumnInfo.length)}}function Ga(e,t){if(1&e&&(u.fc(0,"tr"),u.fc(1,"td",67),u.ac(2,"p-tableHeaderCheckbox",68,69),u.ec(),u.Zc(4,Xa,2,1,"ng-container",70),u.ec(),u.Zc(5,Ja,3,1,"tr",17)),2&e){const e=u.tc(3);u.Lb(4),u.Ac("ngForOf",e.tableInfo.tableColumnInfo),u.Lb(1),u.Ac("ngIf",e.fetchingTableData)}}function Ya(e,t){if(1&e&&(u.fc(0,"a",84),u.fc(1,"span",85),u.bd(2),u.uc(3,"smartTruncatePart1Pipe"),u.ec(),u.fc(4,"span",86),u.bd(5),u.uc(6,"smartTruncatePart2Pipe"),u.ec(),u.ec()),2&e){const e=u.tc(2).$implicit,t=u.tc().$implicit;u.Bc("pTooltip",t[e.field]),u.Cc("routerLink","/monitoring/service/",t.CONTEXTID,""),u.Mb("aria-label",t[e.field]),u.Lb(2),u.cd(u.wc(3,5,t[e.field],3)),u.Lb(3),u.cd(u.wc(6,8,t[e.field],3))}}function ec(e,t){if(1&e&&(u.fc(0,"div",87),u.uc(1,"durationFormat"),u.fc(2,"span",88),u.bd(3),u.uc(4,"durationFormatTrimmed"),u.ec(),u.ec()),2&e){const e=u.tc(2).$implicit,t=u.tc().$implicit;u.Bc("pTooltip",u.xc(1,2,t[e.field],"ms","dHHmmssSSS")),u.Lb(3),u.cd(u.vc(4,6,t[e.field]))}}function tc(e,t){if(1&e&&(u.fc(0,"div",87),u.uc(1,"preferredDateTime"),u.fc(2,"span",88),u.bd(3),u.uc(4,"preferredDateTime"),u.ec(),u.ec()),2&e){const e=u.tc(2).$implicit,t=u.tc().$implicit,i=u.tc(3);u.Bc("pTooltip",u.xc(1,2,t[e.field],i.preferencesService,i.dateTimePreferenceService)),u.Lb(3),u.cd(u.xc(4,6,t[e.field],i.preferencesService,i.dateTimePreferenceService))}}function ic(e,t){if(1&e&&(u.fc(0,"div",87),u.fc(1,"span",88),u.bd(2),u.uc(3,"smartTruncatePart1Pipe"),u.ec(),u.fc(4,"span",89),u.bd(5),u.uc(6,"smartTruncatePart2Pipe"),u.ec(),u.ec()),2&e){const e=u.tc(2).$implicit,t=u.tc().$implicit;u.Bc("pTooltip",t[e.field]),u.Lb(2),u.cd(u.wc(3,3,t[e.field],3)),u.Lb(3),u.cd(u.wc(6,6,t[e.field],3))}}function nc(e,t){if(1&e&&(u.fc(0,"div",87),u.fc(1,"span",88),u.bd(2),u.uc(3,"smartTruncatePart1Pipe"),u.ec(),u.fc(4,"span",89),u.bd(5),u.uc(6,"smartTruncatePart2Pipe"),u.ec(),u.ec()),2&e){const e=u.tc(2).$implicit,t=u.tc().$implicit,i=u.tc(3);u.Bc("pTooltip",i.getStatus(t[e.field])),u.Lb(2),u.cd(u.wc(3,3,i.getStatus(t[e.field]),3)),u.Lb(3),u.cd(u.wc(6,6,i.getStatus(t[e.field]),3))}}function ac(e,t){if(1&e&&(u.fc(0,"td",81),u.fc(1,"span"),u.fc(2,"div"),u.Zc(3,Ya,7,11,"a",82),u.Zc(4,ec,5,8,"div",83),u.Zc(5,tc,5,10,"div",83),u.Zc(6,ic,7,9,"div",83),u.Zc(7,nc,7,9,"div",83),u.ec(),u.ec(),u.ec()),2&e){const e=u.tc(),t=e.$implicit,i=e.index;u.Ac("ngStyle",u.Gc(6,Wa,t.cellAlign)),u.Lb(3),u.Ac("ngIf",0==i),u.Lb(1),u.Ac("ngIf",0!=i&&"DURATION"==t.field),u.Lb(1),u.Ac("ngIf",0!=i&&("FIRSTTIME"==t.field||"LASTTIME"==t.field)),u.Lb(1),u.Ac("ngIf",0!=i&&"LASTSTATUSDECODE"!=t.field&&"DURATION"!=t.field&&"FIRSTTIME"!=t.field&&"LASTTIME"!=t.field),u.Lb(1),u.Ac("ngIf",0!=i&&"LASTSTATUSDECODE"==t.field)}}function cc(e,t){if(1&e&&(u.dc(0),u.Zc(1,ac,8,8,"td",80),u.cc()),2&e){const e=t.$implicit;u.Lb(1),u.Ac("ngIf",!e.hide)}}function rc(e,t){if(1&e){const e=u.gc();u.fc(0,"tr",77),u.pc("keydown.enter",function(){u.Rc(e);const i=t.$implicit;return u.tc(3).onKeydownEnter(i.CONTEXTID)}),u.fc(1,"td",78),u.ac(2,"p-tableCheckbox",79),u.ec(),u.Zc(3,cc,2,1,"ng-container",70),u.ec()}if(2&e){const e=t.$implicit,i=u.tc(3);u.Ac("pSelectableRow",e),u.Lb(2),u.Ac("value",e),u.Lb(1),u.Ac("ngForOf",i.tableInfo.tableColumnInfo)}}function sc(e,t){if(1&e&&(u.fc(0,"tr",91),u.fc(1,"td",92),u.bd(2),u.uc(3,"translate"),u.ec(),u.ec()),2&e){const e=u.tc(4);u.Lb(1),u.Mb("colspan",e.tableInfo.tableColumnInfo.length),u.Lb(1),u.dd(" ",u.vc(3,2,"common.table.no.items")," ")}}function oc(e,t){if(1&e&&u.Zc(0,sc,4,4,"tr",90),2&e){const e=u.tc(3);u.Ac("ngIf",null!=e.serviceExecutions)}}const lc=function(e,t,i){return{first:e,rows:t,totalRecords:i}};function dc(e,t){if(1&e&&(u.fc(0,"div"),u.bd(1),u.uc(2,"translate"),u.ec()),2&e){const e=u.tc(4);u.Lb(1),u.dd(" ",u.wc(2,1,"common.table.items.page.info",u.Ic(4,lc,e.first,e.rows,e.totalRecords))," ")}}function uc(e,t){1&e&&(u.fc(0,"div"),u.bd(1),u.uc(2,"translate"),u.ec()),2&e&&(u.Lb(1),u.cd(u.vc(2,1,"common.table.zero.items")))}function hc(e,t){if(1&e&&(u.Zc(0,dc,3,8,"div",4),u.Zc(1,uc,3,3,"ng-template",null,93,u.ad)),2&e){const e=u.Pc(2),t=u.tc(3);u.Ac("ngIf",t.totalRecords>0)("ngIfElse",e)}}const gc=function(e){return{zebrastripes:e}},pc=function(){return[20,40,60]};function fc(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"p-overlayPanel",27,28),u.ac(3,"isac-lib-table-preferences",null,29),u.ec(),u.fc(5,"div",30),u.fc(6,"table",31),u.fc(7,"tr"),u.fc(8,"td"),u.Zc(9,$a,16,14,"ng-container",17),u.ec(),u.fc(10,"td",32),u.fc(11,"section",33),u.fc(12,"div",34),u.fc(13,"section",35),u.fc(14,"div",36),u.fc(15,"div",37),u.fc(16,"div",38),u.fc(17,"button",39),u.pc("click",function(t){u.Rc(e);const i=u.Pc(2),n=u.tc(2);return i.toggle(t),n.showTablePrefs(t)}),u.uc(18,"translate"),u.uc(19,"translate"),u.ac(20,"i",40),u.ec(),u.ec(),u.fc(21,"div",38),u.fc(22,"button",41),u.pc("click",function(){u.Rc(e);const t=u.Pc(26);return u.tc(2).toggleFullScreen(t)}),u.uc(23,"translate"),u.uc(24,"translate"),u.ac(25,"i",42,43),u.ec(),u.ec(),u.ec(),u.fc(27,"button",44),u.pc("click",function(){return u.Rc(e),u.tc(2).resubmitServices()}),u.uc(28,"translate"),u.bd(29),u.uc(30,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(31,"div",45),u.Zc(32,Ka,8,9,"div",46),u.fc(33,"p-table",47,48),u.pc("onLazyLoad",function(t){return u.Rc(e),u.tc(2).lazyLoadServiceTableResults(t)})("selectionChange",function(t){return u.Rc(e),u.tc(2).selectedServices=t})("onRowUnselect",function(t){return u.Rc(e),u.tc(2).onRowUnselect(t)})("onRowSelect",function(t){return u.Rc(e),u.tc(2).onRowSelect(t)})("onHeaderCheckboxToggle",function(t){return u.Rc(e),u.tc(2).onHeaderCheckboxToggle(t)})("firstChange",function(t){return u.Rc(e),u.tc(2).first=t}),u.Zc(35,Ga,6,2,"ng-template",49),u.Zc(36,rc,4,3,"ng-template",50),u.Zc(37,oc,1,1,"ng-template",51),u.Zc(38,hc,3,2,"ng-template",52),u.ec(),u.ec(),u.ec(),u.cc()}if(2&e){const e=u.tc(2);u.Lb(1),u.Ac("showTransitionOptions","0ms")("hideTransitionOptions","0ms"),u.Lb(8),u.Ac("ngIf",e.isLocalizationResourcesLoaded),u.Lb(8),u.Bc("pTooltip",u.vc(18,25,"common.table.settings")),u.Mb("aria-label",u.vc(19,27,"common.table.settings")),u.Lb(5),u.Bc("pTooltip",u.vc(23,29,"common.showFullScreen")),u.Nb("aria-label","",u.vc(24,31,"common.showFullScreen")," "),u.Lb(5),u.Ac("disabled",!(e.selectedServices&&e.selectedServices.length>0)),u.Mb("aria-label",u.vc(28,33,"common.table.resubmit")),u.Lb(2),u.dd("",u.vc(30,35,"common.table.resubmit")," "),u.Lb(3),u.Ac("ngIf",e.showMaxRowsReachedMsg),u.Lb(1),u.Ac("ngClass",u.Gc(37,gc,e.tableInfo.showZebraStripes))("columns",e.tableInfo.tableColumnInfo)("value",e.serviceExecutions)("paginator",!0)("rows",e.tableInfo.pageSize)("totalRecords",e.totalRecords)("rowsPerPageOptions",u.Fc(39,pc))("paginatorDropdownAppendTo","body")("lazy",!0)("lazyLoadOnInit",!1)("selection",e.selectedServices)("first",e.first)("showPageLinks",!1)("showJumpToPageDropdown",!0)}}const mc=function(e){return{hidden:e}};function bc(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"div",6),u.fc(2,"div",7),u.fc(3,"div",8),u.fc(4,"h1"),u.bd(5),u.uc(6,"translate"),u.ec(),u.ec(),u.fc(7,"div",9),u.fc(8,"isac-lib-date-timerange-panel",10),u.pc("onSelectTimeRange",function(t){return u.Rc(e),u.tc().processSelectedTimeRange(t)})("onRefreshContent",function(t){return u.Rc(e),u.tc().refreshServiceListContent(t)})("onRefreshIntervalChanged",function(t){return u.Rc(e),u.tc().refreshIntervalChanged(t)}),u.ec(),u.ec(),u.ec(),u.fc(9,"div",11),u.fc(10,"div",12),u.fc(11,"div",13),u.fc(12,"div",14),u.fc(13,"span"),u.bd(14),u.uc(15,"translate"),u.ec(),u.fc(16,"span",15),u.bd(17),u.ec(),u.ec(),u.Zc(18,Za,10,10,"div",16),u.Zc(19,ja,1,0,"ac-loader",17),u.ec(),u.fc(20,"div",18),u.fc(21,"div",14),u.bd(22),u.uc(23,"translate"),u.ec(),u.Zc(24,za,1,5,"ac-d3-stacked-bar-chart",19),u.Zc(25,Ua,1,0,"ac-loader",17),u.ec(),u.ec(),u.ec(),u.Zc(26,fc,39,40,"ng-container",4),u.ec(),u.cc()}if(2&e){const e=u.tc(),t=u.Pc(12);u.Lb(5),u.cd(u.vc(6,17,e.tableInfo.tableId)),u.Lb(3),u.Ac("timeRange",e.serviceListStateService.timeRange)("refreshInterval",e.serviceListStateService.refreshInterval)("isCustomTimeRange",!0)("alignSelector","right")("showRefresh",!0)("showAutoRefresh",!0),u.Lb(1),u.Ac("ngClass",u.Gc(23,mc,e.serviceListStateService.fullScreenTable)),u.Lb(5),u.cd(u.vc(15,19,"monitoring.services.executions")),u.Lb(3),u.cd(e.totalExecutions),u.Lb(1),u.Ac("ngIf",e.chartDataFetched),u.Lb(1),u.Ac("ngIf",e.fetchingChartData),u.Lb(3),u.dd(" ",u.vc(23,21,"monitoring.barchart.history"),""),u.Lb(2),u.Ac("ngIf",e.chartDataFetched),u.Lb(1),u.Ac("ngIf",e.fetchingChartData),u.Lb(1),u.Ac("ngIf",e.isTableDataAvailable)("ngIfElse",t)}}function vc(e,t){1&e&&(u.fc(0,"div",98),u.bd(1),u.uc(2,"translate"),u.ec()),2&e&&(u.Lb(1),u.cd(u.vc(2,1,"monitoring.error.information")))}function yc(e,t){if(1&e&&(u.fc(0,"div",99),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.cd(e.monitoringErrorInformation)}}function Cc(e,t){if(1&e&&(u.fc(0,"div",99),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.cd(e.monitoringErrorMessage1)}}function Sc(e,t){if(1&e&&(u.fc(0,"div",99),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.cd(e.monitoringErrorMessage2)}}function xc(e,t){if(1&e&&(u.fc(0,"div",99),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.cd(e.monitoringErrorMessage3)}}function Tc(e,t){if(1&e&&(u.fc(0,"div",94),u.bd(1),u.uc(2,"translate"),u.ec(),u.fc(3,"ul"),u.fc(4,"li",95),u.bd(5),u.uc(6,"translate"),u.ec(),u.fc(7,"li",95),u.bd(8),u.uc(9,"translate"),u.ec(),u.fc(10,"li",95),u.bd(11),u.uc(12,"translate"),u.ec(),u.fc(13,"li",95),u.bd(14),u.uc(15,"translate"),u.ec(),u.ec(),u.Zc(16,vc,3,3,"div",96),u.Zc(17,yc,2,1,"div",97),u.Zc(18,Cc,2,1,"div",97),u.Zc(19,Sc,2,1,"div",97),u.Zc(20,xc,2,1,"div",97)),2&e){const e=u.tc();u.Lb(1),u.dd(" ",u.vc(2,10,"monitoring.services.unavailable.message")," "),u.Lb(4),u.dd(" ",u.vc(6,12,"monitoring.services.unavailable.ensure1")," "),u.Lb(3),u.dd(" ",u.vc(9,14,"monitoring.services.unavailable.ensure2")," "),u.Lb(3),u.dd(" ",u.vc(12,16,"monitoring.services.unavailable.ensure3")," "),u.Lb(3),u.dd(" ",u.vc(15,18,"monitoring.services.unavailable.ensure4")," "),u.Lb(2),u.Ac("ngIf",e.monitoringErrorInformation||e.monitoringErrorMessage1||e.monitoringErrorMessage2||e.monitoringErrorMessage3),u.Lb(1),u.Ac("ngIf",e.monitoringErrorInformation),u.Lb(1),u.Ac("ngIf",e.monitoringErrorMessage1),u.Lb(1),u.Ac("ngIf",e.monitoringErrorMessage2),u.Lb(1),u.Ac("ngIf",e.monitoringErrorMessage3)}}let Lc=(()=>{class e{constructor(e,t,i,n,a,c,s,o,l,d){this.translate=i,this.sharedMessageService=n,this.serviceListStateService=a,this.router=c,this.toastr=s,this.dateTimeService=o,this.cd=l,this.preferencesService=d,this.destroyed$=new Rt.a,this.homeLink="#/integration/dashboard/overview",this.isChartDataAvailable=!0,this.isTableDataAvailable=!0,this.filterTags=[],this.first=1,this.pageCount=0,this.tableInfo=new h.I("",[]),this.subs=[],this.showMaxRowsReachedMsg=!1,this.actualRowCount=0,this.selectedContextIDs=new Array,this.serviceAPIService=e,this.tableSettingsService=t,this.serviceListStateService.timeRange||(this.serviceListStateService.timeRange=r.TimerangePickerService.getDefaultTimerange()),this.serviceListStateService.refreshInterval||(this.serviceListStateService.refreshInterval=0),this.translate.setDefaultLang("en"),this.subs.push(this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)}))}ngOnInit(){this.checkMonitorStatus()}initializeServicesList(){this.setDefault(),this.chartDataFetched=!1,this.fetchingChartData=!0,this.loading=!0,this.fetchingTableData=!0,this.subs.push(this.tableSettingsService.getTableInfo("monitoring.services.service.executions").subscribe(e=>{this.tableInfo=e,this.tableInfo.pageSize||(this.tableInfo.pageSize=20),this.tableSettingsService.changeShowHideInfo(this.tableInfo)})),this.subs.push(this.translate.get("common.reset").subscribe(()=>{this.isLocalizationResourcesLoaded=!0,this.statusList=[{label:this.translate.instant("monitoring.services.service.status.started"),value:"started"},{label:this.translate.instant("monitoring.services.service.status.completed"),value:"completed"},{label:this.translate.instant("monitoring.services.service.status.failed"),value:"failed"},{label:this.translate.instant("monitoring.services.service.status.resubmitted"),value:"resubmitted"}],this.initTableFilters(),this.updateFilterTags()})),this.serviceListStateService.timeRange||(this.serviceListStateService.timeRange=r.TimerangePickerService.getDefaultTimerange()),this.serviceListStateService.refreshInterval||(this.serviceListStateService.refreshInterval=0),this.initSearchQuery(),this.setChartData(),this.pageCount=0,this.getFilteredServiceList(this.serviceListStateService.tableFilters)}refresh(){this.setChartData(),this.refreshServiceList()}checkMonitorStatus(){this.subs.push(this.serviceAPIService.getMonitorStatus().pipe(Object(kt.a)(this.destroyed$)).subscribe(e=>{e&&e.hasOwnProperty("name")&&e.hasOwnProperty("status")&&"WmMonitor"===e.name&&"enabled"===e.status?(this.isTableDataAvailable=!0,this.initializeServicesList()):e&&e.hasOwnProperty("name")&&e.hasOwnProperty("status")&&"WmMonitor"===e.name&&"disabled"===e.status?(this.monitoringErrorMessage2=this.translate.instant("monitoring.wmmonitor.disabled"),this.isTableDataAvailable=!1):this.isTableDataAvailable=!1},e=>{this.isTableDataAvailable=!1,this.monitoringErrorMessage2=Object(h.K)(e,this.translate)}))}setChartData(){this.chartDataFetched=!1,this.fetchingChartData=!0,this.donutChartData=null,this.totalExecutions=0,this.barData=null;let e=null,t=null,i=null;const n=this;this.serviceListStateService.timeRange.durationInHours?(e=this.serviceListStateService.timeRange.durationInHours,this.handleOneandSixHoursDurationAsCustomTime(e,t,i)):(t=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.serviceListStateService.timeRange.startTime),i=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.serviceListStateService.timeRange.endTime)),this.subs.push(this.serviceAPIService.getServiceExecutionChartData(e,t,i).pipe(Object(kt.a)(this.destroyed$)).subscribe(a=>{if(a&&a.hasOwnProperty("serviceArray")){const c=n.serviceAPIService.summarizedChartData(a,e,t,i);n.barData=c.get("barData"),n.chartXAxisTitle=c.get("barChartLabel"),n.donutChartData=c.get("donutData"),n.legendsData=c.get("columnKeyColorArray"),n.columnKeyColorArray=c.get("columnKeyColorArray"),n.totalExecutions=a.totalExecutions}else this.donutChartData=null,this.barData=null,this.chartXAxisTitle=null,this.totalExecutions=0;n.chartDataFetched=!0,n.fetchingChartData=!1,this.isChartDataAvailable=!0},e=>{this.chartDataFetched=!0,this.fetchingChartData=!1,this.donutChartData=null,this.barData=null,this.chartXAxisTitle=null,this.totalExecutions=0,this.isChartDataAvailable=!1,this.monitoringErrorInformation=Object(h.K)(e,this.translate),e.message&&(this.monitoringErrorMessage1=e.message)}))}handleOneandSixHoursDurationAsCustomTime(e,t,i){}setDefault(){this.loading=!1,this.tableInfo.sortField=this.tableInfo.defaultSortField,this.tableInfo.sortOrder=this.tableInfo.defaultSortOrder,this.resetPager()}resetPager(){this.first=1,this.pageCount=0,this.totalRecords=0,this.tableInfo.pageSize||(this.tableInfo.pageSize=20),this.rows=this.tableInfo.pageSize}lazyLoadServiceTableResults(e){this.renderServiceTableResults(e);const t=e.filters,i=[];Object.keys(t).forEach(e=>{this.addFilterIfNotInList({filterBy:e,filterValue:t[e].value,type:"text",label:e})}),this.serviceListStateService.tableFilters||(this.serviceListStateService.tableFilters=[]),this.getFilteredServiceList(i.length>0?i:this.serviceListStateService.tableFilters)}addFilterIfNotInList(e){for(let t=0;t<this.serviceListStateService.tableFilters.length;t++)if(this.serviceListStateService.tableFilters[t].filterBy===e.filterBy)return void(this.serviceListStateService.tableFilters[t]=e);this.serviceListStateService.tableFilters.push(e)}getFilteredServiceList(e){this.fetchingTableData=!0;const t=[];let i=null,n=null;e.map(e=>t.push(Object.assign({},e))),this.truncateLogfieldKeys(t),this.serviceListStateService.timeRange.durationInHours?t.push({filterBy:"durationInHours",filterValue:this.serviceListStateService.timeRange.durationInHours}):(i=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.serviceListStateService.timeRange.startTime),n=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.serviceListStateService.timeRange.endTime)),this.serviceExecutions=void 0,this.subs.push(this.serviceAPIService.getServiceExecutionList(this.pageCount,this.tableInfo.pageSize,this.tableInfo.sortField,"asc"===this.tableInfo.sortOrder?"TRUE":"FALSE",i,n,t).pipe(Object(kt.a)(this.destroyed$)).subscribe(e=>{e&&(this.totalRecords=e.totalCounts?e.totalCounts:0,this.serviceExecutions=e.services?e.services:[],this.loading=!1,this.showMaxRowsReachedMsg=!!e.rowCount,this.actualRowCount=e.rowCount),this.fetchingTableData=!1,this.isTableDataAvailable=!0,this.makeComponentsAccessible()},e=>{this.loading=!1,this.serviceExecutions=[],this.totalRecords=null,this.showMaxRowsReachedMsg=!1,this.actualRowCount=0,this.fetchingTableData=!1,this.isTableDataAvailable=!1,e.message&&(this.monitoringErrorMessage2=e.message),e.error&&e.error.message&&(this.monitoringErrorMessage3=e.error.message)}))}makeComponentsAccessible(){setTimeout(()=>{const e=document.getElementById("headerCheckbox");e&&h.J.makeTableCheckboxAccessible(e,this.translate.instant("common.table.header.checkbox.title"));const t=document.getElementsByTagName("p-tablecheckbox");let i=0;if(t&&t.length>0)for(i=0;i<t.length;i++)h.J.makeTableCheckboxAccessible(t[i],this.translate.instant("common.table.row.checkbox.title"));const n=document.getElementsByTagName("p-paginator");if(n&&n.length>0)for(i=0;i<n.length;i++)h.J.makePaginatorAccessible(n[i],this.translate.instant("common.table.pagination.go.back.first.page"),this.translate.instant("common.table.pagination.advance.last.page"),this.translate.instant("common.table.pagination.go.back.previous.page"),this.translate.instant("common.table.pagination.advance.next.page"),this.translate.instant("common.table.pagination.select.page"),this.translate.instant("common.table.pagination.select.number.rows"))},100)}hideMaxResultWarning(){this.showMaxRowsReachedMsg=!1}refreshServiceListContent(e){this.refresh()}refreshServiceList(){this.getFilteredServiceList(this.serviceListStateService.tableFilters)}refreshIntervalChanged(e){this.serviceListStateService.refreshInterval=e.value?e.value:0}renderServiceTableResults(e){e?(this.tableInfo.sortField=e.sortField,this.tableInfo.sortOrder="desc",1===e.sortOrder&&(this.tableInfo.sortOrder="asc"),this.first=e.first+1,e.rows&&(this.pageCount=Math.floor(e.first/e.rows),this.tableInfo.pageSize=e.rows)):this.setDefault(),this.getRowCount(),this.cd.detectChanges()}getRowCount(){this.tableInfo.pageSize||(this.tableInfo.pageSize=20),this.rows=(this.pageCount+1)*this.tableInfo.pageSize,this.totalRecords>0&&this.totalRecords<this.rows&&(this.rows=this.totalRecords)}getTime(e){return e.getTime()}clearSearch(e,t,i){e.filter("",t,i)}processSelectedTimeRange(e){this.serviceListStateService.timeRange=e,this.resetPager(),this.setChartData(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}pieItemClicked(e){const t=e.label;if(this.serviceListStateService.tableFilters&&0!==this.serviceListStateService.tableFilters.length){for(let e=0;e<this.serviceListStateService.tableFilters.length;e++)if("statusSet"===this.serviceListStateService.tableFilters[e].filterBy){this.serviceListStateService.tableFilters[e].filterValue=[t];break}}else this.serviceListStateService.tableFilters=[],this.serviceListStateService.tableFilters.push({filterBy:"statusSet",filterValue:[t],label:"monitoring.services.service.status",type:"multiSelect",options:this.statusList});this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}onFilterChange(e){if(this.serviceListStateService.tableFilters&&0!==this.serviceListStateService.tableFilters.length){for(let t=0;t<this.serviceListStateService.tableFilters.length;t++)if(this.serviceListStateService.tableFilters[t].filterBy===e.filterBy){this.serviceListStateService.tableFilters[t]=r.CommonUtil.cloneObject(e);break}}else this.serviceListStateService.tableFilters=[],this.serviceListStateService.tableFilters.push(e);this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}onBasicFiltersReset(){for(let e=this.serviceListStateService.tableFilters.length-1;e>=0;--e){const t=this.serviceListStateService.tableFilters[e];t.filterBy==t.filterBy&&this.serviceListStateService.tableFilters.splice(e,1)}this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}onClearFilter(e){for(let t=0;t<this.serviceListStateService.tableFilters.length;t++){let i=this.serviceListStateService.tableFilters[t];if(i.filterBy===e.filterBy){if("customData"===e.filterBy)i=e;else if("statusSet"===e.filterBy){if(this.filterTags&&this.filterTags.length>0){let t=0;for(let i=0;i<this.filterTags.length;i++)if("statusSet"===this.filterTags[i].filterBy&&this.filterTags[i].filterValue===e.filterValue){t=i;break}if(t>-1&&this.filterTags.splice(t,1),this.serviceListStateService.tableFilters&&this.serviceListStateService.tableFilters.length>0)for(let i=0;i<this.serviceListStateService.tableFilters.length;i++)if("statusSet"===this.serviceListStateService.tableFilters[i].filterBy){if(this.serviceListStateService.tableFilters[i].filterValue&&this.serviceListStateService.tableFilters[i].filterValue.length>0){let t=-1;for(let n=0;n<this.serviceListStateService.tableFilters[i].filterValue.length;n++)if(this.serviceListStateService.tableFilters[i].filterValue[n]===e.filterValue){t=n;break}t>-1&&this.serviceListStateService.tableFilters[i].filterValue.splice(t,1)}break}return void this.getFilteredServiceList(this.serviceListStateService.tableFilters)}}else this.serviceListStateService.tableFilters.splice(t,1);break}}this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}onClearAllFilters(){this.serviceListStateService.tableFilters=[],this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}onBasicFiltersApply(e){this.serviceListStateService.tableFilters||(this.serviceListStateService.tableFilters=[]);for(let t=0;t<e.length;t++){const i=e[t];let n=!1;for(let e=0;e<this.serviceListStateService.tableFilters.length;e++)if(this.serviceListStateService.tableFilters[e].filterBy===i.filterBy){this.serviceListStateService.tableFilters[e]=i,n=!0;break}n||this.serviceListStateService.tableFilters.push(r.CommonUtil.cloneObject(i))}this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}updateFilterTags(){this.resetPager();const e=[];this.serviceListStateService.tableFilters||(this.serviceListStateService.tableFilters=[]);for(let t=0;t<this.serviceListStateService.tableFilters.length;t++){const i=this.serviceListStateService.tableFilters[t];"statusSet"===i.filterBy&&i.filterValue?(this.updateDisplayvalueForStatus(i).forEach(t=>{e.push(t)}),this.filterTags=e):null==i.filterDisplayValue&&(i.filterDisplayValue=i.filterValue),null!==i.filterValue&&"statusSet"!==i.filterBy&&e.push(i)}this.filterTags=e}updateDisplayvalueForStatus(e){const t=[];for(let i=0;i<e.filterValue.length;i++){const n=e.filterValue[i];for(let i=0;i<this.statusList.length;i++){const a=this.statusList[i];if(a.value===n){t.push({filterBy:"statusSet",filterValue:a.value,label:e.label,type:"text",filterDisplayValue:a.label});break}}}return t}getDefaultBasicSearchTableFilters(){return[{filterBy:"statusSet",filterValue:null,label:"monitoring.services.service.status",type:"multiSelect",options:this.statusList},{filterBy:"serviceName",filterValue:null,label:"monitoring.services.service.name1",type:"text",isISService:!0}]}initTableFilters(){this.serviceListStateService.tableFilters||(this.serviceListStateService.tableFilters=[])}initSearchQuery(){this.serviceListStateService.serviceSearchQuery||(this.serviceListStateService.serviceSearchQuery=this.getDefaultServiceSearchQuery())}getDefaultServiceSearchQuery(){return this.serviceListStateService.tableFilters||(this.serviceListStateService.tableFilters=[]),{searchTerms:null,tableFilters:this.serviceListStateService.tableFilters,logFields:null,status:null,rootLevelServiceOnly:!1,andQuery:!0}}onAdvancedSearchApply(e){this.serviceListStateService.serviceSearchQuery=e;const t=this.serviceListStateService.serviceSearchQuery.searchTerms,i=[];for(let a=0;a<t.length;a++){const e=t[a];if(!e.value)continue;const n=Ta.getSearchField(e.field),c={filterBy:n.name,filterValue:e.value,label:n.label,type:n.type,options:this.statusList,filterDisplayValue:n.value};c.filterValue&&i.push(c)}const n=new Array;for(let a=0;a<this.serviceListStateService.serviceSearchQuery.logFields.length;a++){const e=this.serviceListStateService.serviceSearchQuery.logFields[a];e.field&&e.operator&&n.push(e)}n.length>0&&i.push({filterBy:"customData",filterValue:n,label:"customData",type:"condition",filterDisplayValue:n}),i.push({filterBy:"statusSet",filterValue:this.serviceListStateService.serviceSearchQuery.status,label:"monitoring.services.service.status",type:"multiSelect",options:this.statusList}),this.serviceListStateService.serviceSearchQuery.rootLevelServiceOnly&&i.push({filterBy:"topLevelOnly",filterValue:this.serviceListStateService.serviceSearchQuery.rootLevelServiceOnly,label:"monitoring.services.rootLevelServicesOnly",type:"boolean"}),this.serviceListStateService.serviceSearchQuery.andQuery||i.push({filterBy:"isAnd",filterValue:this.serviceListStateService.serviceSearchQuery.andQuery,label:"common.labels.SearchCondition",filterDisplayValue:this.translate.instant("common.labels.or"),type:"boolean"}),this.serviceListStateService.tableFilters=i,this.updateFilterTags(),this.getFilteredServiceList(i)}onAdvancedSearchReset(e){this.serviceListStateService.serviceSearchQuery=e,this.serviceListStateService.tableFilters=[],this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}toggleFullScreen(e){this.serviceListStateService.fullScreenTable?(e.classList.remove("dlt-icon-fullscreen-exit"),e.classList.add("dlt-icon-fullscreen"),e.parentElement.title=this.translate.instant("common.showFullScreen")):(e.classList.remove("dlt-icon-fullscreen"),e.classList.add("dlt-icon-fullscreen-exit"),e.parentElement.title=this.translate.instant("common.exitFullScreen")),this.serviceListStateService.fullScreenTable=!this.serviceListStateService.fullScreenTable}showBasicFilter(){this.serviceListStateService.basicSearchFilters=this.getDefaultBasicSearchTableFilters();for(let e=0;e<this.serviceListStateService.tableFilters.length;e++){const t=this.serviceListStateService.tableFilters[e];"statusSet"===t.filterBy&&t.filterValue?this.serviceListStateService.basicSearchFilters[0].filterValue=t.filterValue:"serviceName"===t.filterBy&&t.filterValue&&(this.serviceListStateService.basicSearchFilters[1].filterValue=t.filterValue)}}showAdvancedSearch(){this.serviceListStateService.serviceSearchQuery=this.getDefaultServiceSearchQuery()}truncateLogfieldKeys(e){for(let t=0;t<e.length;t++){const i=e[t];if("customData"===i.filterBy&&i.filterValue){let e=new Array;for(let t=0;t<i.filterValue.length;t++){const n=i.filterValue[t];e.push({n:n.field,o:n.operator.value,v:n.value})}i.filterValue=e}}}onKeydownEnter(e){this.router.navigateByUrl("/monitoring/service/"+e)}ngOnDestroy(){this.subs.forEach(e=>e.unsubscribe()),this.destroyed$.next(!0),this.destroyed$.complete()}handleKeydown(e){27===e.keyCode?this.tablePrefsOverlay&&this.tablePrefsOverlay.hide():13===e.keyCode&&e.target&&"showColumns"===e.target.id&&this.tablePrefsOverlay&&this.tablePrefsOverlay.hide()}showTablePrefs(e){const t=this;setTimeout(()=>{t.tablePrefs.setFocus()},10)}onRowUnselect(e){e&&"checkbox"===e.type&&e.data&&e.data.CONTEXTID&&(this.selectedContextIDs=this.selectedContextIDs.filter(t=>t!==e.data.CONTEXTID))}onRowSelect(e){e&&"checkbox"===e.type&&e.data&&e.data.CONTEXTID&&this.selectedContextIDs.push(e.data.CONTEXTID)}onHeaderCheckboxToggle(e){if(e&&(this.selectedContextIDs=new Array,e.checked))for(const t of this.serviceExecutions)this.selectedContextIDs.push(t.CONTEXTID)}resubmitServices(){this.serviceAPIService.resubmitServices(this.selectedContextIDs).subscribe(e=>{e&&e.message&&e.message.length>0&&e.resubmittedServices&&e.resubmittedServices.length>0&&this.toastr.success(this.translate.instant("monitoring.services.multiple.service.resubmit.success.msg",{msg:e.message}),this.translate.instant("monitoring.services.multiple.service.resubmit.success.title")),this.refreshServiceList()},e=>{const t=Object(h.K)(e,this.translate);this.toastr.error(t,this.translate.instant("monitoring.services.multiple.service.resubmit.failed.title"))})}goToHomePage(){this.router.navigateByUrl(this.homeLink)}getStatus(e){return"Completed"===e?this.translate.instant("monitoring.services.service.status.completed"):"Failed"===e?this.translate.instant("monitoring.services.service.status.failed"):"Started"===e?this.translate.instant("monitoring.services.service.status.started"):"Resubmitted"===e?this.translate.instant("monitoring.services.service.status.resubmitted"):e}showHelp(){}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(fn),u.Zb(r.TableSettingsService),u.Zb(n.d),u.Zb(h.A),u.Zb(xa),u.Zb(d.e),u.Zb(x.b),u.Zb(r.DateTimeService),u.Zb(u.h),u.Zb(r.PreferencesService))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-service-list"]],viewQuery:function(e,t){if(1&e&&(u.hd(Na,1),u.hd(Ha,1),u.hd(Va,1)),2&e){let e;u.Oc(e=u.qc())&&(t.isMonSvcExeTable=e.first),u.Oc(e=u.qc())&&(t.tablePrefs=e.first),u.Oc(e=u.qc())&&(t.tablePrefsOverlay=e.first)}},hostBindings:function(e,t){1&e&&u.pc("keydown",function(e){return t.handleKeydown(e)},!1,u.Qc)},decls:13,vars:8,consts:[[1,"breadcrumbs-container"],["aria-label","breadcrumb",1,"dlt-breadcrumbs"],["routerLink","/integration/dashboard/overview","tabindex","0",1,"dlt-links"],["aria-current","page",1,"dlt-links"],[4,"ngIf","ngIfElse"],["monitorUnavailableTemplate",""],[1,"svclistcontainer"],[1,"row"],[1,"col","page-title"],[1,"d-flex","col","justify-content-end",2,"min-width","615px"],[3,"timeRange","refreshInterval","isCustomTimeRange","alignSelector","showRefresh","showAutoRefresh","onSelectTimeRange","onRefreshContent","onRefreshIntervalChanged"],[1,"chartContainerSvc",3,"ngClass"],[1,"row","chart-row"],[1,"col-4"],[1,"header"],[2,"padding-left","10px"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"col-8"],[3,"chartno","data","columnKeyColorArray","heightInput","chartXAxisTitle",4,"ngIf"],[1,"col-5"],[3,"data","heightInput","pieItemClicked"],[1,"col-7","border-right"],[3,"data","heightInput","legendItemClicked"],[1,"donutInfo"],["src","assets/images/svgs/Chart-info-icon.svg",2,"width","16px","height","16px",3,"alt"],[3,"chartno","data","columnKeyColorArray","heightInput","chartXAxisTitle"],["appendTo","body",3,"showTransitionOptions","hideTransitionOptions"],["tablePrefsOverlay",""],["tablePrefs",""],[1,"dlt-data-table-container"],["width","100%"],[2,"vertical-align","top","margin-top","0.0rem","margin-bottom","0.0rem"],[1,"dlt-table-header"],[1,"dlt-data-table-title"],[1,"dlt-table-toolbar"],[1,"dlt-toolbar-content"],[2,"display","inline-flex"],[1,"dlt-dropdown"],["showDelay","250","tooltipPosition","left","tabindex","0",1,"dlt-button","dlt-button-icon","btn-1","tb-vert",3,"pTooltip","click"],[1,"dlt-icon-settings","dlg-icon-btn","dlt-icon"],["showDelay","250","tabindex","0","tooltipPosition","left",1,"dlt-button","dlt-button-icon","btn-1","tb-vert",3,"pTooltip","click"],[1,"dlt-icon-fullscreen","dlg-icon-btn","dlt-icon"],["expandTable",""],["tabindex","0",1,"dlt-button","dlt-button-primary","xs-button",3,"disabled","click"],[1,"dlt-table-wrapper"],["class","dlt-inline warn-border",4,"ngIf"],["sortMode","single","sortOrder","-1","dataKey","CONTEXTID",3,"ngClass","columns","value","paginator","rows","totalRecords","rowsPerPageOptions","paginatorDropdownAppendTo","lazy","lazyLoadOnInit","selection","first","showPageLinks","showJumpToPageDropdown","onLazyLoad","selectionChange","onRowUnselect","onRowSelect","onHeaderCheckboxToggle","firstChange"],["isMonSvcExeTable",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorleft"],[1,"filterCell"],[2,"margin-right","10px"],["tabindex","0",1,"dlt-button","dlt-button-primary","xs-button","searchButton",3,"click"],["tabindex","0",1,"dlt-button","dlt-button-secondary","xs-button","searchButton",3,"click"],[3,"styleClass","tableFilters","onFiltersReset","onFiltersApply","onFilterChange"],["filterOverlayPanel",""],[3,"serviceSearchQuery","serviceStatusList","onAdvancedSearchApply","onAdvancedSearchReset"],["advancedSearchOverlayPanel",""],[3,"filterTags","onClearAll","onClearFilter"],[1,"dlt-inline","warn-border"],[1,"dlg-title-wrapper"],[1,"dlt-icon-warning","warn-icon"],[1,"inline-message"],["showDelay","250",1,"dlt-icon-close","close-icon","closeWarning",3,"pTooltip","click"],[1,"tableHeaderSelectAll"],["id","headerCheckbox"],["headerCheckbox",""],[4,"ngFor","ngForOf"],["tooltipPosition","top",3,"pSortableColumn","ngStyle","pTooltip",4,"ngIf"],["tooltipPosition","top",3,"pSortableColumn","ngStyle","pTooltip"],[1,"table-header-title","width-100-percentage"],[1,"width-55-percentage","m-pull-top-point-7"],["ariaLabel","'common.table.column.sort'|translate","ariaLabelDesc","'common.table.column.sort.descending'|translate","ariaLabelAsc","'common.table.column.sort.ascending'|translate",3,"field"],[1,"table-data","centerAlignText"],[3,"pSelectableRow","keydown.enter"],[1,"selection-checkbox",2,"color","#000"],[3,"value"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["showDelay","250","tooltipPosition","top",3,"pTooltip","routerLink",4,"ngIf"],["showDelay","250","tooltipPosition","top",3,"pTooltip",4,"ngIf"],["showDelay","250","tooltipPosition","top",3,"pTooltip","routerLink"],[1,"firstPart"],[1,"lastPart"],["showDelay","250","tooltipPosition","top",3,"pTooltip"],[1,"firstPart","firstPart0"],[1,"lastPart","lastPart0"],["class","no-items-todisplay",4,"ngIf"],[1,"no-items-todisplay"],[1,"table-data"],["noItemsTemplate",""],[1,"monitoringUnavailable"],[1,"monitoringUnavailableEnsure"],["class","monitoringErrorInfoLabel",4,"ngIf"],["class","monitoringErrorInfoMsg",4,"ngIf"],[1,"monitoringErrorInfoLabel"],[1,"monitoringErrorInfoMsg"]],template:function(e,t){if(1&e&&(u.fc(0,"div",0),u.fc(1,"ol",1),u.fc(2,"li"),u.fc(3,"a",2),u.bd(4),u.uc(5,"translate"),u.ec(),u.ec(),u.fc(6,"li"),u.fc(7,"a",3),u.bd(8),u.uc(9,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.Zc(10,bc,27,25,"ng-container",4),u.Zc(11,Tc,21,20,"ng-template",null,5,u.ad)),2&e){const e=u.Pc(12);u.Lb(4),u.cd(u.vc(5,4,"masthead.administration")),u.Lb(4),u.cd(u.vc(9,6,"monitoring.services.tab")),u.Lb(2),u.Ac("ngIf",t.isChartDataAvailable)("ngIfElse",e)}},directives:[d.h,s.n,r.DateTimerangePanelComponent,s.l,Vt,zt,Qt,Kt.a,r.TablePreferencesComponent,T.a,Wt.h,w.j,r.FilterOverlayPanelComponent,Ba,r.FilterTagsComponent,Wt.j,s.m,Wt.g,s.o,Wt.f,Wt.e,Wt.i],pipes:[n.c,h.E,h.F,h.g,h.h,h.t],styles:[".breadcrumbs-container[_ngcontent-%COMP%]{padding-top:.8rem;margin-left:2px}.rightSideFixedcontainer[_ngcontent-%COMP%]{padding-top:.8rem;margin-right:25px}.svclistcontainer[_ngcontent-%COMP%]{width:100%;height:100%;padding:1rem 1rem 1rem 1.26rem;overflow:auto}.page-title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-left:-.36rem;font-family:Roboto,Helvetica,Arial,sans-serif;white-space:nowrap;overflow:none;min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content}.page-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.serviceExecution-table[_ngcontent-%COMP%]{margin:10px}.service-table-wrapper[_ngcontent-%COMP%]{padding:5px}.data-table-title[_ngcontent-%COMP%]{font-weight:500;font-size:1.25rem;color:#333;position:relative;display:flex;line-height:2rem;white-space:nowrap}.serviceExecution-table[_ngcontent-%COMP%]   .table-toolbar[_ngcontent-%COMP%]{display:flex;width:100%;height:2rem;align-items:flex-end;justify-content:flex-end}.serviceExecution-table[_ngcontent-%COMP%]   .dlt-form-group[_ngcontent-%COMP%]{max-width:300px}.serviceExecution-table[_ngcontent-%COMP%]   .xs-button[_ngcontent-%COMP%]{line-height:1.75rem;margin:2px 10px 2px 0}.serviceExecution-table[_ngcontent-%COMP%]   .dlt-dropdown[_ngcontent-%COMP%]{line-height:2rem;margin:0 10px 0 0}.serviceExecution-table[_ngcontent-%COMP%]   .dlt-button-icon[_ngcontent-%COMP%]{height:1.75rem!important;width:1.75rem!important}.dashed-line[_ngcontent-%COMP%]{border-top:1px dashed #cccccb}.row1[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-left:-15px;padding-top:22px}.padding-right-10[_ngcontent-%COMP%]{padding-top:10px}.padding-top-5[_ngcontent-%COMP%]{padding-top:5px}.padding-bottom-20[_ngcontent-%COMP%]{padding-bottom:20px}.padding-bottom-30[_ngcontent-%COMP%]{padding-bottom:30px}.margin-left-right-10[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.tableHeaderSelectAll[_ngcontent-%COMP%]{width:3em;padding-left:.9em}.hidden[_ngcontent-%COMP%]{display:none}.legend-panel[_ngcontent-%COMP%]{background:#fff none repeat scroll 0 0;height:auto;position:absolute;right:20px;top:60px}.panel[_ngcontent-%COMP%]{margin-top:27px!important;border:1px solid #cccccb;padding:0 10px}.padding-top-30[_ngcontent-%COMP%]{padding-top:30px}.chartContainerSvc[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.row.chart-row[_ngcontent-%COMP%]{box-shadow:0 2px 8px 0 rgba(0,0,0,.15);border:1px solid #dadada;background-color:#fff;margin-bottom:20px;margin-top:10px}.header[_ngcontent-%COMP%]{color:#666;padding-left:2px;padding-right:2px;margin-bottom:0;padding-top:10px}.margin-bottom[_ngcontent-%COMP%]{margin-bottom:20px}.donutInfo[_ngcontent-%COMP%]{color:#666;padding-top:0;padding-bottom:10px;padding-left:10px;font-size:.7rem}.dlt-icon-fullscreen[_ngcontent-%COMP%]:before{content:url(Expand-dialog-vec18.4ec93a215fa9f4638f8b.svg)}.dlt-icon-fullscreen-exit[_ngcontent-%COMP%]:before{content:url(Collapse-dialog-vec18.c764bb320fbb6335e037.svg)}.dlt-inline[_ngcontent-%COMP%]{width:100%;margin-top:10px}.monitoringUnavailable[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-top:2rem}.monitoringUnavailable[_ngcontent-%COMP%], .monitoringUnavailableEnsure[_ngcontent-%COMP%]{width:100%;margin-left:2rem;margin-right:2rem;padding-right:2rem;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringUnavailableEnsure[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;font-weight:400}.monitoringErrorInfoLabel[_ngcontent-%COMP%]{font-weight:500;margin-top:1rem;margin-left:3rem;margin-right:3rem;padding-right:3rem}.monitoringErrorInfoLabel[_ngcontent-%COMP%], .monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;width:100%;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-weight:400;margin-left:4rem;margin-right:4rem;padding-right:4rem}.firstPart0[_ngcontent-%COMP%], .lastPart0[_ngcontent-%COMP%]{color:#000}firstPart[_ngcontent-%COMP%], lastPart[_ngcontent-%COMP%]{color:#34d!important}.dlt-icon-tbl[_ngcontent-%COMP%]{width:40px}.filterCell[_ngcontent-%COMP%]{margin-top:0}.closeWarning[_ngcontent-%COMP%]{cursor:pointer}.side-panel-collapse-icon[_ngcontent-%COMP%]{font-size:24px;line-height:48px}.post-short-meta-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-wrap:wrap;align-items:center}.searchButton[_ngcontent-%COMP%]{display:inline!important}.tb-vert[_ngcontent-%COMP%]{width:2rem!important;height:2rem!important}"]}),e})();new o.e({"Content-Type":"application/json"});let wc=(()=>{class e{constructor(e,t,i){this.http=e,this.translateService=t,this.preferencesService=i,this.dataManagementUrl="/admin/monitor",i.getLocaleInfo().subscribe(e=>{this.localeInfo=e})}getArchiveInfo(){return this.http.get(this.dataManagementUrl+"/archive/info")}getArchiveResults(e,t,i="CTRL_INSERT_DT",n){const a=this.dataManagementUrl+"/archive/results",c=(new o.f).set("pageNumber",e).set("pageSize",t).set("sortColumn",i).set("sortAscending",n);return this.http.get(a,{params:c})}archiveDelete(e,t,i,n,a,c){let r=this.dataManagementUrl+"/archive?archiveAction="+e;t&&(r=r+"&days="+t),i&&(r=r+"&todate="+i),n&&(r=r+"&batchSize="+n),a&&(r=r+"&status="+a),r=r+"&region="+encodeURIComponent(this.localeInfo.timeZone);let s="";for(const o of c)s=s+"&dataTypes[]="+o;return r+=s,this.http.post(r,{})}getMonitorStatus(){return this.http.get("/admin/monitor/status")}log(e){u.fb&&console.log(`ServiceApiService: ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(u.mc(o.b),u.mc(n.d),u.mc(r.PreferencesService))},e.\u0275prov=u.Vb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ic=i("VhXZ"),Mc=i("c/fn");const Oc=["tablePrefs1"],_c=["tablePrefs2"],Pc=["archiveInfoCard"],Dc=["archiveHistCard"];function Ac(e,t){if(1&e&&(u.fc(0,"div",79),u.bd(1),u.uc(2,"preferredDateTime"),u.ec()),2&e){const e=u.tc(4);u.Lb(1),u.dd(" ",u.xc(2,1,e.dateDVal,e.preferencesService,e.dateTimePreferenceService)," ")}}function Rc(e,t){if(1&e&&(u.fc(0,"div",80),u.bd(1),u.uc(2,"preferredDateTime"),u.ec()),2&e){const e=u.tc(4);u.Lb(1),u.dd(" ",u.xc(2,1,e.dateDVal,e.preferencesService,e.dateTimePreferenceService)," ")}}const kc=function(){return{"min-width":"150px"}};function Ec(e,t){if(1&e){const e=u.gc();u.fc(0,"div",20),u.fc(1,"div",21),u.fc(2,"div",22),u.fc(3,"isac-lib-simple-card",23),u.uc(4,"translate"),u.ac(5,"hr",24),u.fc(6,"div"),u.fc(7,"fieldset"),u.fc(8,"table",25),u.ac(9,"col",26),u.ac(10,"col",27),u.ac(11,"col",28),u.fc(12,"tr"),u.fc(13,"td",29),u.fc(14,"div",30),u.fc(15,"div",31),u.fc(16,"div",32),u.fc(17,"input",33,34),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc(3).daysToRetainOption=t}),u.uc(19,"translate"),u.ec(),u.fc(20,"label",35),u.bd(21),u.uc(22,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(23,"td"),u.fc(24,"div",36),u.fc(25,"input",37),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc(3).numDaysRetainVal=t}),u.uc(26,"translate"),u.uc(27,"translate"),u.ec(),u.fc(28,"div",38),u.fc(29,"button",39),u.uc(30,"translate"),u.uc(31,"translate"),u.ac(32,"i",40),u.ec(),u.fc(33,"button",41),u.uc(34,"translate"),u.uc(35,"translate"),u.ac(36,"i",42),u.ec(),u.ec(),u.ec(),u.ec(),u.ac(37,"td"),u.ec(),u.fc(38,"tr"),u.fc(39,"td",29),u.fc(40,"div",30),u.fc(41,"div",31),u.fc(42,"div",32),u.fc(43,"input",43,44),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc(3).daysToRetainOption=t}),u.uc(45,"translate"),u.ec(),u.fc(46,"label",45),u.bd(47),u.uc(48,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(49,"td",46),u.Zc(50,Ac,3,5,"div",47),u.Zc(51,Rc,3,5,"div",48),u.ec(),u.fc(52,"td",46),u.fc(53,"button",49),u.pc("showDaterangepicker",function(t){return u.Rc(e),u.tc(3).showDaterangepicker(t)})("applyDaterangepicker",function(t){return u.Rc(e),u.tc(3).applyDaterangepicker(t)}),u.uc(54,"translate"),u.uc(55,"translate"),u.ac(56,"i",50),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(57,"div",21),u.fc(58,"div",22),u.fc(59,"isac-lib-simple-card",23),u.uc(60,"translate"),u.ac(61,"hr",24),u.fc(62,"div",51),u.fc(63,"div",52),u.fc(64,"table",53),u.ac(65,"col",26),u.ac(66,"col",26),u.ac(67,"col",54),u.ac(68,"col",26),u.fc(69,"tr"),u.fc(70,"td",55),u.fc(71,"div",56),u.fc(72,"input",57,58),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc(3).servicesChecked=t})("change",function(t){return u.Rc(e),u.tc(3).servicesChkChanged(t)}),u.ec(),u.fc(74,"label",59,60),u.bd(76),u.uc(77,"translate"),u.ec(),u.ec(),u.ec(),u.fc(78,"td"),u.fc(79,"p-dropdown",61,62),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc(3).servicesDataTypeVal=t}),u.uc(81,"translate"),u.uc(82,"translate"),u.ec(),u.ec(),u.ac(83,"td"),u.ac(84,"td"),u.ec(),u.fc(85,"tr"),u.fc(86,"td",55),u.fc(87,"div",56),u.fc(88,"input",63),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc(3).documentsChecked=t})("change",function(t){return u.Rc(e),u.tc(3).documentsChkChanged(t)}),u.ec(),u.fc(89,"label",64,65),u.bd(91),u.uc(92,"translate"),u.ec(),u.ec(),u.ec(),u.ac(93,"td"),u.ac(94,"td"),u.ac(95,"td"),u.ec(),u.fc(96,"tr"),u.fc(97,"td",66),u.fc(98,"div",56),u.fc(99,"input",67),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc(3).serverDataChecked=t})("change",function(t){return u.Rc(e),u.tc(3).serverDataChkChanged(t)}),u.ec(),u.fc(100,"label",68),u.bd(101),u.uc(102,"translate"),u.ec(),u.ec(),u.ec(),u.ac(103,"td"),u.fc(104,"td",69),u.fc(105,"label",70),u.bd(106),u.uc(107,"translate"),u.ec(),u.ec(),u.fc(108,"td",71),u.fc(109,"div",36),u.fc(110,"input",72),u.pc("ngModelChange",function(t){return u.Rc(e),u.tc(3).archivingBatchSize=t}),u.uc(111,"translate"),u.ec(),u.fc(112,"div",38),u.fc(113,"button",73),u.uc(114,"translate"),u.uc(115,"translate"),u.ac(116,"i",40),u.ec(),u.fc(117,"button",74),u.uc(118,"translate"),u.uc(119,"translate"),u.ac(120,"i",42),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(121,"div",75),u.fc(122,"button",76),u.pc("click",function(){return u.Rc(e),u.tc(3).archive()}),u.uc(123,"translate"),u.uc(124,"translate"),u.bd(125),u.uc(126,"translate"),u.ec(),u.fc(127,"button",77),u.pc("click",function(){return u.Rc(e),u.tc(3).archive(!0)}),u.uc(128,"translate"),u.uc(129,"translate"),u.bd(130),u.uc(131,"translate"),u.ec(),u.ec(),u.ac(132,"hr",78),u.ec()}if(2&e){const e=u.tc(3);u.Lb(3),u.Bc("label",u.vc(4,53,"monitoring.archive.retention.time.period")),u.Lb(14),u.Ac("ngModel",e.daysToRetainOption),u.Mb("aria-label",u.vc(19,55,"monitoring.archive.retain.number.of.days")),u.Lb(4),u.cd(u.vc(22,57,"monitoring.archive.retain.number.of.days")),u.Lb(3),u.Mb("disabled","retenPd"===e.daysToRetainOption?"disabled":""),u.Lb(1),u.Bc("pTooltip",u.vc(27,61,"monitoring.archive.retain.number.of.days")),u.Ac("ngModel",e.numDaysRetainVal)("disabled","retenPd"===e.daysToRetainOption),u.Mb("aria-label",u.vc(26,59,"monitoring.archive.retain.number.of.days")),u.Lb(4),u.Bc("pTooltip",u.vc(31,65,"common.spinner.increase")),u.Ac("disabled","retenPd"===e.daysToRetainOption),u.Mb("aria-label",u.vc(30,63,"common.spinner.increase")),u.Lb(4),u.Bc("pTooltip",u.vc(35,69,"common.spinner.decrease")),u.Ac("disabled","retenPd"===e.daysToRetainOption),u.Mb("aria-label",u.vc(34,67,"common.spinner.decrease")),u.Lb(10),u.Ac("ngModel",e.daysToRetainOption),u.Mb("aria-label",u.vc(45,71,"monitoring.archive.retention.period.start.date")),u.Lb(4),u.cd(u.vc(48,73,"monitoring.archive.retention.period.start.date")),u.Lb(3),u.Ac("ngIf","numDays"===e.daysToRetainOption),u.Lb(1),u.Ac("ngIf","numDays"!=e.daysToRetainOption),u.Lb(2),u.Bc("pTooltip",u.vc(54,75,"monitoring.archive.calendar.selection")),u.Ac("options",e.dateOptions)("disabled","numDays"===e.daysToRetainOption),u.Mb("aria-label",u.vc(55,77,"monitoring.archive.calendar.selection")),u.Lb(6),u.Bc("label",u.vc(60,79,"monitoring.archive.data.types")),u.Lb(13),u.Ac("ngModel",e.servicesChecked),u.Lb(4),u.dd(" ",u.vc(77,81,"monitoring.archive.data.type.services")," "),u.Lb(3),u.Wc(u.Fc(115,kc)),u.Bc("pTooltip",u.vc(81,83,"monitoring.archive.service.status.tooltip")),u.Ac("options",e.serviceTypeVals)("ngModel",e.servicesDataTypeVal)("disabled",!e.servicesChecked),u.Mb("aria-label",u.vc(82,85,"monitoring.archive.service.status.tooltip")),u.Lb(9),u.Ac("ngModel",e.documentsChecked),u.Lb(3),u.dd(" ",u.vc(92,87,"monitoring.archive.data.type.documents")," "),u.Lb(8),u.Ac("ngModel",e.serverDataChecked),u.Lb(2),u.cd(u.vc(102,89,"monitoring.archive.data.type.server.data")),u.Lb(5),u.dd(" ",u.vc(107,91,"monitoring.archive.archiving.batch.size")," "),u.Lb(4),u.Ac("ngModel",e.archivingBatchSize),u.Mb("aria-label",u.vc(111,93,"monitoring.archive.archiving.batch.size")),u.Lb(3),u.Bc("pTooltip",u.vc(115,97,"common.spinner.increase")),u.Mb("aria-label",u.vc(114,95,"common.spinner.increase")),u.Lb(4),u.Bc("pTooltip",u.vc(119,101,"common.spinner.decrease")),u.Mb("aria-label",u.vc(118,99,"common.spinner.decrease")),u.Lb(5),u.Bc("pTooltip",u.vc(123,103,"monitoring.archive.archive.and.delete")),u.Ac("disabled",!e.servicesChecked&&!e.documentsChecked&&!e.serverDataChecked),u.Mb("aria-label",u.vc(124,105,"monitoring.archive.archive.and.delete")),u.Lb(3),u.dd(" ",u.vc(126,107,"monitoring.archive.archive.and.delete")," "),u.Lb(2),u.Bc("pTooltip",u.vc(128,109,"monitoring.archive.delete.only")),u.Ac("disabled",!e.servicesChecked&&!e.documentsChecked&&!e.serverDataChecked),u.Mb("aria-label",u.vc(129,111,"monitoring.archive.delete.only")),u.Lb(3),u.dd(" ",u.vc(131,113,"monitoring.archive.delete.only")," ")}}const Fc=function(e,t){return{width:e,"text-align":t}};function Bc(e,t){if(1&e&&(u.fc(0,"th",111),u.uc(1,"translate"),u.fc(2,"div",112),u.fc(3,"label",113),u.bd(4),u.uc(5,"translate"),u.ac(6,"p-sortIcon",114),u.ec(),u.ec(),u.ec()),2&e){const e=u.tc().$implicit;u.Bc("pTooltip",u.vc(1,5,e.header)),u.Ac("pSortableColumn",e.field)("ngStyle",u.Hc(9,Fc,e.width,e.hdrAlign)),u.Lb(4),u.dd(" ",u.vc(5,7,e.header)," "),u.Lb(2),u.Ac("field",e.field)}}function Nc(e,t){if(1&e&&(u.dc(0),u.Zc(1,Bc,7,12,"th",110),u.cc()),2&e){const e=t.$implicit;u.Lb(1),u.Ac("ngIf",!e.hide)}}function Hc(e,t){if(1&e&&(u.fc(0,"tr"),u.fc(1,"td",115),u.ac(2,"ac-loader"),u.ec(),u.ec()),2&e){const e=u.tc(5);u.Lb(1),u.Mb("colspan",e.archiveInfoTableInfo.tableColumnInfo.length)}}function Vc(e,t){if(1&e&&(u.fc(0,"tr"),u.Zc(1,Nc,2,1,"ng-container",108),u.ec(),u.Zc(2,Hc,3,1,"tr",109)),2&e){const e=u.tc(4);u.Lb(1),u.Ac("ngForOf",e.archiveInfoTableInfo.tableColumnInfo),u.Lb(1),u.Ac("ngIf",e.fetchingInfoTableData)}}function Zc(e,t){if(1&e&&(u.fc(0,"div",119),u.fc(1,"span",120),u.bd(2),u.ec(),u.ec()),2&e){const e=u.tc(2).$implicit,t=u.tc().$implicit;u.Bc("pTooltip",t[e.field]),u.Lb(2),u.cd(t[e.field])}}function jc(e,t){if(1&e&&(u.fc(0,"div",119),u.uc(1,"preferredDateTime"),u.fc(2,"span",120),u.bd(3),u.uc(4,"preferredDateTime"),u.ec(),u.ec()),2&e){const e=u.tc(2).$implicit,t=u.tc().$implicit,i=u.tc(4);u.Bc("pTooltip",u.xc(1,2,t[e.field],i.preferencesService,i.dateTimePreferenceService)),u.Lb(3),u.cd(u.xc(4,6,t[e.field],i.preferencesService,i.dateTimePreferenceService))}}function zc(e,t){if(1&e&&(u.fc(0,"td",117),u.fc(1,"span"),u.Zc(2,Zc,3,2,"div",118),u.Zc(3,jc,5,10,"div",118),u.ec(),u.ec()),2&e){const e=u.tc().$implicit;u.Ac("ngStyle",u.Hc(3,Fc,e.width,e.cellAlign)),u.Lb(2),u.Ac("ngIf","EARLIEST"!=e.field&&"LATEST"!=e.field),u.Lb(1),u.Ac("ngIf","EARLIEST"==e.field||"LATEST"==e.field)}}function Uc(e,t){if(1&e&&(u.dc(0),u.Zc(1,zc,4,6,"td",116),u.cc()),2&e){const e=t.$implicit;u.Lb(1),u.Ac("ngIf",!e.hide)}}function $c(e,t){if(1&e&&(u.fc(0,"tr"),u.Zc(1,Uc,2,1,"ng-container",108),u.ec()),2&e){const e=u.tc(4);u.Lb(1),u.Ac("ngForOf",e.archiveInfoTableInfo.tableColumnInfo)}}function Qc(e,t){if(1&e&&(u.fc(0,"tr",122),u.fc(1,"td",115),u.bd(2),u.uc(3,"translate"),u.ec(),u.ec()),2&e){const e=u.tc(5);u.Lb(1),u.Mb("colspan",e.archiveInfoTableInfo.tableColumnInfo.length),u.Lb(1),u.dd(" ",u.vc(3,2,"common.table.no.items")," ")}}function Kc(e,t){if(1&e&&u.Zc(0,Qc,4,4,"tr",121),2&e){const e=u.tc(4);u.Ac("ngIf",null!=e.archiveInfo)}}const Wc=function(){return{height:"100%"}},qc=function(e){return{zebrastripes:e}};function Xc(e,t){if(1&e){const e=u.gc();u.fc(0,"div",81),u.fc(1,"div",82),u.fc(2,"div"),u.fc(3,"div",83),u.fc(4,"isac-lib-simple-card",84,85),u.uc(6,"translate"),u.fc(7,"table",86),u.fc(8,"tr"),u.fc(9,"td",87),u.fc(10,"section",88),u.fc(11,"div",89),u.fc(12,"section",90),u.fc(13,"div",91),u.fc(14,"div",92),u.fc(15,"button",93),u.pc("click",function(t){u.Rc(e);const i=u.Pc(29),n=u.tc(3);return i.toggle(t),n.showTablePrefs1(t)}),u.uc(16,"translate"),u.uc(17,"translate"),u.ac(18,"i",94),u.ec(),u.ec(),u.fc(19,"div",95),u.fc(20,"button",93),u.pc("click",function(){u.Rc(e);const t=u.Pc(25);return u.tc(3).toggleFullScreenArchiveInfo(t)}),u.uc(21,"translate"),u.uc(22,"translate"),u.uc(23,"translate"),u.ac(24,"i",96,97),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(26,"div",82),u.fc(27,"div",98),u.fc(28,"p-overlayPanel",99,100),u.ac(30,"isac-lib-table-preferences",null,101),u.ec(),u.fc(32,"div",102),u.fc(33,"div",103),u.fc(34,"p-table",104),u.Zc(35,Vc,3,2,"ng-template",105),u.Zc(36,$c,2,1,"ng-template",106),u.Zc(37,Kc,1,1,"ng-template",107),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec()}if(2&e){const e=u.tc(3);u.Lb(4),u.Bc("label",u.vc(6,14,"monitoring.archive.info.results")),u.Lb(11),u.Bc("pTooltip",u.vc(16,16,"common.table.settings")),u.Mb("aria-label",u.vc(17,18,"common.table.settings")),u.Lb(5),u.Bc("pTooltip",1==e.archiveInfoFullScreen?u.vc(21,20,"common.exitFullScreen"):u.vc(22,22,"common.showFullScreen")),u.Mb("aria-label",u.vc(23,24,"common.showFullScreen")),u.Lb(8),u.Ac("showTransitionOptions","0ms")("hideTransitionOptions","0ms"),u.Lb(6),u.Wc(u.Fc(26,Wc)),u.Bc("scrollHeight",e.archiveInfoScrollHeight),u.Ac("ngClass",u.Gc(27,qc,e.archiveInfoTableInfo.showZebraStripes))("columns",e.archiveInfoTableInfo.tableColumnInfo)("value",e.archiveInfo)("scrollable",!0)}}function Jc(e,t){if(1&e&&(u.fc(0,"th",111),u.uc(1,"translate"),u.fc(2,"div",112),u.fc(3,"label",113),u.bd(4),u.uc(5,"translate"),u.ac(6,"p-sortIcon",114),u.ec(),u.ec(),u.ec()),2&e){const e=u.tc().$implicit;u.Bc("pTooltip",u.vc(1,5,e.header)),u.Ac("pSortableColumn",e.field)("ngStyle",u.Hc(9,Fc,e.width,e.hdrAlign)),u.Lb(4),u.dd(" ",u.vc(5,7,e.header)," "),u.Lb(2),u.Ac("field",e.field)}}function Gc(e,t){if(1&e&&(u.dc(0),u.Zc(1,Jc,7,12,"th",110),u.cc()),2&e){const e=t.$implicit;u.Lb(1),u.Ac("ngIf",!e.hide)}}function Yc(e,t){if(1&e&&(u.fc(0,"tr"),u.fc(1,"td",131),u.ac(2,"ac-loader"),u.ec(),u.ec()),2&e){const e=u.tc(5);u.Lb(1),u.Mb("colspan",e.archiveHistoryTableInfo.tableColumnInfo.length)}}function er(e,t){if(1&e&&(u.fc(0,"tr"),u.Zc(1,Gc,2,1,"ng-container",108),u.ec(),u.Zc(2,Yc,3,1,"tr",109)),2&e){const e=u.tc(4);u.Lb(1),u.Ac("ngForOf",e.archiveHistoryTableInfo.tableColumnInfo),u.Lb(1),u.Ac("ngIf",e.fetchingHistTableData)}}function tr(e,t){if(1&e&&(u.fc(0,"div",119),u.fc(1,"span",120),u.bd(2),u.ec(),u.ec()),2&e){const e=u.tc(2).$implicit,t=u.tc().$implicit;u.Bc("pTooltip",t[e.field]),u.Lb(2),u.cd(t[e.field])}}function ir(e,t){if(1&e&&(u.fc(0,"div",119),u.uc(1,"preferredDateTime"),u.fc(2,"span",120),u.bd(3),u.uc(4,"preferredDateTime"),u.ec(),u.ec()),2&e){const e=u.tc(2).$implicit,t=u.tc().$implicit,i=u.tc(4);u.Bc("pTooltip",u.xc(1,2,t[e.field],i.preferencesService,i.dateTimePreferenceService)),u.Lb(3),u.cd(u.xc(4,6,t[e.field],i.preferencesService,i.dateTimePreferenceService))}}function nr(e,t){if(1&e&&(u.fc(0,"td",117),u.fc(1,"span"),u.Zc(2,tr,3,2,"div",118),u.Zc(3,ir,5,10,"div",118),u.ec(),u.ec()),2&e){const e=u.tc().$implicit;u.Ac("ngStyle",u.Hc(3,Fc,e.width,e.cellAlign)),u.Lb(2),u.Ac("ngIf","CTRL_INSERT_DT"!=e.field&&"CTRL_UPDATE_DT"!=e.field),u.Lb(1),u.Ac("ngIf","CTRL_INSERT_DT"==e.field||"CTRL_UPDATE_DT"==e.field)}}function ar(e,t){if(1&e&&(u.dc(0),u.Zc(1,nr,4,6,"td",116),u.cc()),2&e){const e=t.$implicit;u.Lb(1),u.Ac("ngIf",!e.hide)}}function cr(e,t){if(1&e&&(u.fc(0,"tr"),u.Zc(1,ar,2,1,"ng-container",108),u.ec()),2&e){const e=u.tc(4);u.Lb(1),u.Ac("ngForOf",e.archiveHistoryTableInfo.tableColumnInfo)}}function rr(e,t){if(1&e&&(u.fc(0,"tr",122),u.fc(1,"td",115),u.bd(2),u.uc(3,"translate"),u.ec(),u.ec()),2&e){const e=u.tc(5);u.Lb(1),u.Mb("colspan",e.archiveHistoryTableInfo.tableColumnInfo.length),u.Lb(1),u.dd(" ",u.vc(3,2,"common.table.no.items")," ")}}function sr(e,t){if(1&e&&u.Zc(0,rr,4,4,"tr",121),2&e){const e=u.tc(4);u.Ac("ngIf",null!=e.archiveResults)}}const or=function(e,t,i){return{first:e,rows:t,totalRecords:i}};function lr(e,t){if(1&e&&(u.fc(0,"div"),u.bd(1),u.uc(2,"translate"),u.ec()),2&e){const e=u.tc(5);u.Lb(1),u.dd(" ",u.wc(2,1,"common.table.items.page.info",u.Ic(4,or,e.archiveHistoryTableFirst,e.archiveHistoryTableRows,e.totalArchiveResultRecords))," ")}}function dr(e,t){1&e&&(u.fc(0,"div"),u.bd(1),u.uc(2,"translate"),u.ec()),2&e&&(u.Lb(1),u.cd(u.vc(2,1,"common.table.zero.items")))}function ur(e,t){if(1&e&&(u.Zc(0,lr,3,8,"div",4),u.Zc(1,dr,3,3,"ng-template",null,132,u.ad)),2&e){const e=u.Pc(2),t=u.tc(4);u.Ac("ngIf",t.totalArchiveResultRecords>0)("ngIfElse",e)}}const hr=function(){return[20,40,60]};function gr(e,t){if(1&e){const e=u.gc();u.fc(0,"div",81),u.fc(1,"div",82),u.fc(2,"div"),u.fc(3,"div",123),u.fc(4,"isac-lib-simple-card",84,124),u.uc(6,"translate"),u.fc(7,"table",86),u.fc(8,"tr"),u.fc(9,"td",125),u.fc(10,"section",88),u.fc(11,"div",89),u.fc(12,"section",90),u.fc(13,"div",91),u.fc(14,"div",92),u.fc(15,"button",93),u.pc("click",function(t){u.Rc(e);const i=u.Pc(29),n=u.tc(3);return i.toggle(t),n.showTablePrefs2(t)}),u.uc(16,"translate"),u.uc(17,"translate"),u.ac(18,"i",94),u.ec(),u.ec(),u.fc(19,"div",95),u.fc(20,"button",93),u.pc("click",function(){u.Rc(e);const t=u.Pc(25);return u.tc(3).toggleFullScreenArchiveHistory(t)}),u.uc(21,"translate"),u.uc(22,"translate"),u.uc(23,"translate"),u.ac(24,"i",96,126),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.fc(26,"div",82),u.fc(27,"div",98),u.fc(28,"p-overlayPanel",99,127),u.ac(30,"isac-lib-table-preferences",null,128),u.ec(),u.fc(32,"div",102),u.fc(33,"div",103),u.fc(34,"p-table",129),u.pc("onLazyLoad",function(t){return u.Rc(e),u.tc(3).lazyLoadArchiveResults(t)}),u.Zc(35,er,3,2,"ng-template",105),u.Zc(36,cr,2,1,"ng-template",106),u.Zc(37,sr,1,1,"ng-template",107),u.Zc(38,ur,3,2,"ng-template",130),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.ec()}if(2&e){const e=u.tc(3);u.Lb(4),u.Bc("label",u.vc(6,22,"monitoring.archive.history")),u.Lb(11),u.Bc("pTooltip",u.vc(16,24,"common.table.settings")),u.Mb("aria-label",u.vc(17,26,"common.table.settings")),u.Lb(5),u.Bc("pTooltip",1==e.archiveHistoryFullScreen?u.vc(21,28,"common.exitFullScreen"):u.vc(22,30,"common.showFullScreen")),u.Mb("aria-label",u.vc(23,32,"common.showFullScreen")),u.Lb(8),u.Ac("showTransitionOptions","0ms")("hideTransitionOptions","0ms"),u.Lb(6),u.Wc(u.Fc(34,Wc)),u.Bc("scrollHeight",e.archiveHistoryScrollHeight),u.Ac("ngClass",u.Gc(35,qc,e.archiveHistoryTableInfo.showZebraStripes))("columns",e.archiveHistoryTableInfo.tableColumnInfo)("value",e.archiveResults)("paginator",!0)("rows",e.archiveHistoryTableInfo.pageSize)("totalRecords",e.totalArchiveResultRecords)("rowsPerPageOptions",u.Fc(37,hr))("paginatorDropdownAppendTo","body")("lazy",!0)("scrollable",!0)("showPageLinks",!1)("showJumpToPageDropdown",!0)}}function pr(e,t){if(1&e&&(u.fc(0,"div",15),u.fc(1,"div",16),u.fc(2,"div",17),u.Zc(3,Ec,133,116,"div",18),u.Zc(4,Xc,38,29,"div",19),u.Zc(5,gr,39,38,"div",19),u.ec(),u.ec(),u.ec()),2&e){const e=u.tc(2);u.Lb(3),u.Ac("ngIf",!e.archiveHistoryFullScreen&&!e.archiveInfoFullScreen),u.Lb(1),u.Ac("ngIf",!e.archiveHistoryFullScreen),u.Lb(1),u.Ac("ngIf",!e.archiveInfoFullScreen)}}function fr(e,t){if(1&e){const e=u.gc();u.dc(0),u.fc(1,"div",6),u.fc(2,"div",7),u.fc(3,"table",8),u.fc(4,"tr"),u.fc(5,"td",9),u.fc(6,"h1"),u.bd(7),u.uc(8,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.ec(),u.Zc(9,pr,6,3,"div",10),u.ec(),u.fc(10,"p-confirmDialog",11,12),u.fc(12,"p-footer"),u.fc(13,"button",13),u.pc("click",function(){return u.Rc(e),u.Pc(11).accept()}),u.uc(14,"translate"),u.uc(15,"translate"),u.ec(),u.fc(16,"button",14),u.pc("click",function(){return u.Rc(e),u.Pc(11).reject()}),u.uc(17,"translate"),u.uc(18,"translate"),u.ec(),u.ec(),u.ec(),u.cc()}if(2&e){const e=u.tc();u.Lb(7),u.cd(u.vc(8,6,"monitoring.archive.archiving.and.removal")),u.Lb(2),u.Ac("ngIf",e.isLocalizationResourcesLoaded),u.Lb(4),u.Bc("label",u.vc(14,8,"common.yes.button.text")),u.Mb("aria-label",u.vc(15,10,"common.yes.button.text")),u.Lb(3),u.Bc("label",u.vc(17,12,"common.no.button.text")),u.Mb("aria-label",u.vc(18,14,"common.no.button.text"))}}function mr(e,t){1&e&&(u.fc(0,"div",137),u.bd(1),u.uc(2,"translate"),u.ec()),2&e&&(u.Lb(1),u.cd(u.vc(2,1,"monitoring.error.information")))}function br(e,t){if(1&e&&(u.fc(0,"div",138),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.cd(e.monitoringErrorInformation)}}function vr(e,t){if(1&e&&(u.fc(0,"div",138),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.cd(e.monitoringErrorMessage1)}}function yr(e,t){if(1&e&&(u.fc(0,"div",138),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.cd(e.monitoringErrorMessage2)}}function Cr(e,t){if(1&e&&(u.fc(0,"div",138),u.bd(1),u.ec()),2&e){const e=u.tc(2);u.Lb(1),u.cd(e.monitoringErrorMessage3)}}function Sr(e,t){if(1&e&&(u.fc(0,"div",133),u.bd(1),u.uc(2,"translate"),u.ec(),u.fc(3,"ul"),u.fc(4,"li",134),u.bd(5),u.uc(6,"translate"),u.ec(),u.fc(7,"li",134),u.bd(8),u.uc(9,"translate"),u.ec(),u.fc(10,"li",134),u.bd(11),u.uc(12,"translate"),u.ec(),u.fc(13,"li",134),u.bd(14),u.uc(15,"translate"),u.ec(),u.ec(),u.Zc(16,mr,3,3,"div",135),u.Zc(17,br,2,1,"div",136),u.Zc(18,vr,2,1,"div",136),u.Zc(19,yr,2,1,"div",136),u.Zc(20,Cr,2,1,"div",136)),2&e){const e=u.tc();u.Lb(1),u.dd(" ",u.vc(2,10,"monitoring.data.management.unavailable.message")," "),u.Lb(4),u.dd(" ",u.vc(6,12,"monitoring.services.unavailable.ensure1")," "),u.Lb(3),u.dd(" ",u.vc(9,14,"monitoring.services.unavailable.ensure2")," "),u.Lb(3),u.dd(" ",u.vc(12,16,"monitoring.services.unavailable.ensure3")," "),u.Lb(3),u.dd(" ",u.vc(15,18,"monitoring.services.unavailable.ensure4")," "),u.Lb(2),u.Ac("ngIf",e.monitoringErrorInformation||e.monitoringErrorMessage1||e.monitoringErrorMessage2||e.monitoringErrorMessage3),u.Lb(1),u.Ac("ngIf",e.monitoringErrorInformation),u.Lb(1),u.Ac("ngIf",e.monitoringErrorMessage1),u.Lb(1),u.Ac("ngIf",e.monitoringErrorMessage2),u.Lb(1),u.Ac("ngIf",e.monitoringErrorMessage3)}}const xr=[{path:"",component:gn,redirectTo:"services"},{path:"",component:gn,children:[{path:"services",component:Lc,pathMatch:"full"},{path:"service/:id",component:Sa},{path:"documents",component:Yi,pathMatch:"full"},{path:"document/:id",component:At,pathMatch:"full"},{path:"data-management",component:(()=>{class e{constructor(e,t,i,n,a,c,r,s){this.sharedMessageService=t,this.translate=i,this.toastr=n,this.cd=r,this.preferencesService=s,this.destroyed$=new Rt.a,this.DATERANGEPICKER_TIME_FORMAT="MM/DD/YYYY hh:mm a",this.dateOptions={singleDatePicker:!0,timePicker:!0,timePicker24Hour:!0,timePickerSeconds:!0,showCustomRangeLabel:!1,showDropdowns:!0,disableInput:!1,autoUpdateInput:!1,startDate:0,endDate:0,locale:{format:this.DATERANGEPICKER_TIME_FORMAT,firstDay:1}},this.daysToRetainOption="numDays",this.numDaysRetainVal=30,this.archivingBatchSize=100,this.subs=[],this.archiveInfoTableInfo=new h.I("",[]),this.archiveHistoryTableInfo=new h.I("",[]),this.archiveHistoryTableLoading=!1,this.archiveHistoryTableFirst=1,this.archiveHistoryTablePageCount=1,this.archiveHistoryTableRows=0,this.showMaxArchiveResultRowsReachedMsg=!1,this.archiveHistoryFullScreen=!1,this.archiveInfoFullScreen=!1,this.archiveHistoryScrollHeight="220px",this.archiveInfoScrollHeight="220px",this.fetchingInfoTableData=!1,this.fetchingHistTableData=!1,this.servicesChecked=!1,this.documentsChecked=!1,this.serverDataChecked=!1,this.isWmMonitorAvailable=!0,this.archiveMessage={messages:[],errorMessages:[]},this.dataManagementService=e,this.tableSettingsService=a,this.confirmationService=c,this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(e=>{e&&"change-locale"===e.data.action&&this.translate.use(e.data.data.locale)})}ngOnInit(){const e={separator:" "+this.translate.instant("common.calendar.separator")+" ",applyLabel:this.translate.instant("common.calendar.applyLabel"),cancelLabel:this.translate.instant("common.calendar.cancelLabel"),fromLabel:this.translate.instant("common.calendar.fromLabel"),toLabel:this.translate.instant("common.calendar.toLabel"),customRangeLabel:this.translate.instant("common.calendar.customRangeLabel"),weekLabel:this.translate.instant("common.calendar.weekLabel"),daysOfWeek:[this.translate.instant("common.calendar.daysOfWeek.Su"),this.translate.instant("common.calendar.daysOfWeek.Mo"),this.translate.instant("common.calendar.daysOfWeek.Tu"),this.translate.instant("common.calendar.daysOfWeek.We"),this.translate.instant("common.calendar.daysOfWeek.Th"),this.translate.instant("common.calendar.daysOfWeek.Fr"),this.translate.instant("common.calendar.daysOfWeek.Sa")],monthNames:[this.translate.instant("common.calendar.monthNames.January"),this.translate.instant("common.calendar.monthNames.February"),this.translate.instant("common.calendar.monthNames.March"),this.translate.instant("common.calendar.monthNames.April"),this.translate.instant("common.calendar.monthNames.May"),this.translate.instant("common.calendar.monthNames.June"),this.translate.instant("common.calendar.monthNames.July"),this.translate.instant("common.calendar.monthNames.August"),this.translate.instant("common.calendar.monthNames.September"),this.translate.instant("common.calendar.monthNames.October"),this.translate.instant("common.calendar.monthNames.November"),this.translate.instant("common.calendar.monthNames.December")]},t=Object.assign(e,this.dateOptions.locale);this.dateOptions.locale=t,this.checkMonitorStatus()}initializeDataManagement(){this.setArchiveHistoryTableDefault(),this.fetchingInfoTableData=!1,this.fetchingHistTableData=!1,this.archiveHistoryTableLoading=!0;const e=new Date;e.setDate(e.getDate()-30),this.dateDVal=+e,this.dateOptions.startDate=this.clonedDateTime(this.dateDVal),this.dateOptions.endDate=this.clonedDateTime(this.dateDVal),this.getArchiveInfo(),this.subs.push(this.tableSettingsService.getTableInfo("monitoring.archive.info.results").subscribe(e=>{this.archiveInfoTableInfo=e,this.archiveInfoTableInfo.pageSize||(this.archiveInfoTableInfo.pageSize=20)})),this.subs.push(this.tableSettingsService.getTableInfo("monitoring.archive.history.results").subscribe(e=>{this.archiveHistoryTableInfo=e,this.archiveHistoryTableInfo.pageSize||(this.archiveHistoryTableInfo.pageSize=20)})),this.subs.push(this.translate.get("common.reset").subscribe(()=>{this.isLocalizationResourcesLoaded=!0;const e=this.translate.instant("monitoring.archive.data.type.completed"),t=this.translate.instant("monitoring.archive.data.type.completed.failed");this.serviceTypeVals=[{label:e,value:e,title:e},{label:t,value:t,title:t}],this.servicesDataTypeVal=e}))}checkMonitorStatus(){this.subs.push(this.dataManagementService.getMonitorStatus().pipe(Object(kt.a)(this.destroyed$)).subscribe(e=>{e&&e.hasOwnProperty("name")&&e.hasOwnProperty("status")&&"WmMonitor"===e.name&&"enabled"===e.status&&this.initializeDataManagement()},e=>{}))}ngAfterViewInit(){this.makeComponentsAccessible()}makeComponentsAccessible(){setTimeout(()=>{const e=document.getElementById("servicesDataType");e&&h.J.makeDropdownAccessible(e,this.translate.instant("monitoring.archive.service.status.tooltip"));const t=document.getElementsByTagName("p-paginator");if(t&&t.length>0){let e=0;for(e=0;e<t.length;e++)h.J.makePaginatorAccessible(t[e],this.translate.instant("common.table.pagination.go.back.first.page"),this.translate.instant("common.table.pagination.advance.last.page"),this.translate.instant("common.table.pagination.go.back.previous.page"),this.translate.instant("common.table.pagination.advance.next.page"),this.translate.instant("common.table.pagination.select.page"),this.translate.instant("common.table.pagination.select.number.rows"))}},400)}servicesChkChanged(e){this.servicesChecked=e.target.checked}documentsChkChanged(e){this.documentsChecked=e.target.checked}serverDataChkChanged(e){this.serverDataChecked=e.target.checked}showTablePrefs1(e){const t=this;this.tableSettingsService.changeShowHideInfo(this.archiveInfoTableInfo),setTimeout(()=>{t.tablePrefs1.setFocus()},10)}showTablePrefs2(e){const t=this;this.tableSettingsService.changeShowHideInfo(this.archiveHistoryTableInfo),setTimeout(()=>{t.tablePrefs2.setFocus()},10)}toggleFullScreenArchiveHistory(e){this.archiveHistoryFullScreen=!this.archiveHistoryFullScreen,this.archiveHistoryFullScreen?(e.classList.remove("dlt-icon-fullscreen"),e.classList.add("dlt-icon-fullscreen-exit"),e.parentElement.title=this.translate.instant("common.exitFullScreen"),this.archiveHistoryScrollHeight="1000px"):(e.classList.remove("dlt-icon-fullscreen-exit"),e.classList.add("dlt-icon-fullscreen"),e.parentElement.title=this.translate.instant("common.showFullScreen"),this.archiveHistoryScrollHeight="220px"),this.archiveHistCard.setShowExpandCollapse(!this.archiveHistoryFullScreen)}toggleFullScreenArchiveInfo(e){this.archiveInfoFullScreen=!this.archiveInfoFullScreen,this.archiveInfoFullScreen?(e.classList.remove("dlt-icon-fullscreen"),e.classList.add("dlt-icon-fullscreen-exit"),e.parentElement.title=this.translate.instant("common.exitFullScreen"),this.archiveInfoScrollHeight="1000px"):(e.classList.remove("dlt-icon-fullscreen-exit"),e.classList.add("dlt-icon-fullscreen"),e.parentElement.title=this.translate.instant("common.showFullScreen"),this.archiveInfoScrollHeight="220px"),this.archiveInfoCard.setShowExpandCollapse(!this.archiveInfoFullScreen)}archive(e){e?this.confirmationService.confirm({message:this.translate.instant("monitoring.archive.confirm.delete.message"),header:this.translate.instant("monitoring.archive.confirm.delete.title"),icon:"pi pi-info-circle",accept:()=>{this.performArchive(!0)},reject:()=>{}}):this.performArchive(!1)}performArchive(e){let t=!1,i=!1,n=!1;if(!(this.servicesChecked||this.documentsChecked||this.serverDataChecked)){const e=this.translate.instant("monitoring.archive.select.data.type.err.msg"),t=this.translate.instant("monitoring.archive.select.data.type.err.title");return void this.toastr.error(e,t)}t=this.servicesChecked,i=this.documentsChecked,n=this.serverDataChecked;let a="ARCHIVE";e&&(a="DELETE");const c=this.daysToRetainOption;let r,s,o;"numDays"===c?r=this.numDaysRetainVal:"retenPd"===c&&(s=this.dateDVal);const l=new Array(0);t&&(l.push("service"),o=this.servicesDataTypeVal),i&&l.push("document"),n&&l.push("server"),this.archiveDelete(a,r,s,this.archivingBatchSize,o,l)}getArchiveInfo(){this.fetchingInfoTableData=!0,this.dataManagementService.getArchiveInfo().subscribe(e=>{e&&(this.archiveInfo=e.archiveInfo,this.displayMessages()),this.fetchingInfoTableData=!1},e=>{this.fetchingInfoTableData=!1,this.isWmMonitorAvailable=!1,e.message&&(this.monitoringErrorMessage2=e.message),e.error&&e.error.message&&(this.monitoringErrorMessage3=e.error.message)})}getArchiveResults(){this.fetchingHistTableData=!0,this.dataManagementService.getArchiveResults(this.archiveHistoryTablePageCount,this.archiveInfoTableInfo.pageSize,this.archiveInfoTableInfo.sortField,"asc"===this.archiveInfoTableInfo.sortOrder?"TRUE":"FALSE").subscribe(e=>{e&&(this.archiveResults=e.archiveResults,this.totalArchiveResultRecords=this.archiveResults&&this.archiveResults.length>0&&e.totalCounts?e.totalCounts:0,this.fetchingHistTableData=!1,this.archiveHistoryTableLoading=!1)},e=>{this.archiveHistoryTableLoading=!1,this.fetchingHistTableData=!1,this.totalArchiveResultRecords=null,this.archiveResults=[],this.toastr.error(Object(h.K)(e,this.translate),this.translate.instant("common.error"))})}archiveDelete(e,t,i,n,a,c){this.archiveDeleteComplete=!1,this.archiveHistoryTableLoading=!0,this.fetchingInfoTableData=!0,this.fetchingHistTableData=!0,this.dataManagementService.archiveDelete(e,t,i,n,a,c).subscribe(e=>{e&&(e.message&&(this.archiveMessage.messages=e.message),e.errorMessage&&(this.archiveMessage.errorMessages=e.errorMessage),this.archiveDeleteComplete=!0),this.refreshTables()},e=>{this.archiveDeleteComplete=!0,this.toastr.error(Object(h.K)(e,this.translate),this.translate.instant("monitoring.archive.error.title"),{enableHtml:!0})})}refreshTables(){this.resetPager(),this.getArchiveInfo(),this.getArchiveResults()}setArchiveHistoryTableDefault(){this.archiveHistoryTableLoading=!1,this.archiveInfoTableInfo.sortField=this.archiveInfoTableInfo.defaultSortField,this.archiveInfoTableInfo.sortOrder=this.archiveInfoTableInfo.defaultSortOrder,this.resetPager()}resetPager(){this.archiveHistoryTableFirst=1,this.archiveHistoryTablePageCount=0,this.totalArchiveResultRecords=0,this.archiveInfoTableInfo.pageSize||(this.archiveInfoTableInfo.pageSize=20),this.archiveHistoryTableRows=this.archiveInfoTableInfo.pageSize}renderServiceTableResults(e){e?(this.archiveInfoTableInfo.sortField=e.sortField,this.archiveInfoTableInfo.sortOrder="desc",1===e.sortOrder&&(this.archiveInfoTableInfo.sortOrder="asc"),this.archiveHistoryTableFirst=e.first+1,e.rows&&(this.archiveHistoryTablePageCount=Math.floor(e.first/e.rows),this.archiveInfoTableInfo.pageSize=e.rows)):this.setArchiveHistoryTableDefault(),this.getRowCount(),this.cd.detectChanges()}getRowCount(){this.archiveHistoryTableRows=(this.archiveHistoryTablePageCount+1)*this.archiveInfoTableInfo.pageSize,this.totalArchiveResultRecords>0&&this.totalArchiveResultRecords<this.archiveHistoryTableRows&&(this.archiveHistoryTableRows=this.totalArchiveResultRecords)}lazyLoadArchiveResults(e){this.renderServiceTableResults(e),this.getArchiveResults()}clearMessages(){this.archiveMessage.messages=null,this.archiveMessage.errorMessages=null,this.uncheckDataTypes()}uncheckDataTypes(){this.servicesChecked=!1,this.documentsChecked=!1,this.serverDataChecked=!1}displayMessages(){if(this.archiveMessage.messages&&this.archiveMessage.messages.length>0){let e="";for(let t=0;t<this.archiveMessage.messages.length;t++)e+=this.archiveMessage.messages[t],t<this.archiveMessage.messages.length-1&&(e+="<hr>");this.toastr.success(e,this.translate.instant("monitoring.archive.success.title"),{enableHtml:!0})}if(this.archiveMessage.errorMessages&&this.archiveMessage.errorMessages.length>0){let e="";for(let t=0;t<this.archiveMessage.errorMessages.length;t++)e+=this.archiveMessage.errorMessages[t],t<this.archiveMessage.errorMessages.length-1&&(e+="<hr>");this.toastr.error(e,this.translate.instant("monitoring.archive.error.title"),{enableHtml:!0})}this.clearMessages()}applyDaterangepicker(e){e&&e.picker&&e.picker.startDate&&e.picker.startDate._d&&(this.dateDVal=Date.parse(e.picker.startDate._d))}showDaterangepicker(e){this.dateOptions.endDate=this.dateDVal,e&&e.picker&&e.picker.setEndDate(this.dateDVal)}clonedDateTime(e){return e&&e.clone?e.clone():f(e)}blurHandler(e){const t=A.validateDate(e.target.value,this.translate),i=this.translate.instant("serviceinput.validate.invalid.entry");t&&this.toastr.error(t,i)}showHelp(){}ngOnDestroy(){this.subscription.unsubscribe(),this.subs.forEach(e=>e.unsubscribe()),this.destroyed$.next(!0),this.destroyed$.complete()}}return e.\u0275fac=function(t){return new(t||e)(u.Zb(wc),u.Zb(h.A),u.Zb(n.d),u.Zb(x.b),u.Zb(r.TableSettingsService),u.Zb(w.b),u.Zb(u.h),u.Zb(r.PreferencesService))},e.\u0275cmp=u.Tb({type:e,selectors:[["app-data-management"]],viewQuery:function(e,t){if(1&e&&(u.hd(Oc,1),u.hd(_c,1),u.hd(Pc,1),u.hd(Dc,1)),2&e){let e;u.Oc(e=u.qc())&&(t.tablePrefs1=e.first),u.Oc(e=u.qc())&&(t.tablePrefs2=e.first),u.Oc(e=u.qc())&&(t.archiveInfoCard=e.first),u.Oc(e=u.qc())&&(t.archiveHistCard=e.first)}},decls:13,vars:8,consts:[[1,"breadcrumbs-container"],["aria-label","breadcrumb",1,"dlt-breadcrumbs"],["routerLink","/integration/dashboard/overview","tabindex","0",1,"dlt-links"],["aria-current","page",1,"dlt-links"],[4,"ngIf","ngIfElse"],["monitorUnavailableTemplate",""],[1,"dataManagementContainer"],[1,"dlg-title-wrapper"],["width","100%","role","presentation"],[1,"page-title"],["class","data-mgmt",4,"ngIf"],["header","Confirmation","icon","pi pi-exclamation-triangle"],["cd",""],["type","button","pButton","","icon","pi pi-check",3,"label","click"],["type","button","pButton","","icon","pi pi-times",3,"label","click"],[1,"data-mgmt"],[1,"row","d-flex","justify-content-between"],[1,"col"],["class","row rowone",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","rowone"],[1,"colone"],[1,"data-mgmt-card0"],[3,"label"],[1,"hr1"],["height","100%",1,"margin-left-10-px"],["width","10%"],["width","85%"],["width","5%"],["nowrap",""],[1,"ui-g",2,"margin-left","14px"],[1,"ui-g-12"],[1,"dlt-radio-button"],["type","radio","name","group1","value","numDays","id","numDaysRetainRB",3,"ngModel","ngModelChange"],["numDaysRetainRB",""],["for","numDaysRetainRB",1,"rb-label"],[1,"dlt-form-group"],["id","numDaysRetain","type","number","min","0","max","9999999","aria-labelledby","numDaysRetainRB","showDelay","250",1,"dlt-number-input",3,"ngModel","disabled","pTooltip","ngModelChange"],[1,"number-controls"],["type","button","showDelay","250",1,"number-step-up",3,"disabled","pTooltip"],[1,"dlt-icon-caret-up","number-step-up-icon"],["type","button","showDelay","250",1,"number-step-down",3,"disabled","pTooltip"],[1,"dlt-icon-caret-down","number-step-down-icon"],["type","radio","name","group1","value","retenPd","id","retenPdStartRB",3,"ngModel","ngModelChange"],["retenPdStartRB",""],["for","retenPdStartRB",1,"rb-label"],["nowrap","","align","left"],["class","reten-pd-dt form-control","aria-labelledby","retenPdStartRB","disabled","",4,"ngIf"],["class","reten-pd-dt form-control","aria-labelledby","retenPdStartRB",4,"ngIf"],["id","retenPdCalendar","tabindex","0","type","button","daterangepicker","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"pTooltip","options","disabled","showDaterangepicker","applyDaterangepicker"],[1,"dlt-icon-calendar","dlg-icon-btn","dlt-icon"],[1,"col-12",2,"padding-right","30px"],[1,"ui-g",2,"width","100%","margin-top","-1.0rem","margin-left","1.0rem"],[1,"datatypes","margin-right-10-px"],["width","70%"],[1,"leftmiddle"],[1,"dlt-checkbox"],["type","checkbox","id","dtServices","name","dtServices","tabindex","0",3,"ngModel","ngModelChange","change"],["dtServices",""],["for","dtServices","id","dtServicesLbl","name","dtServicesLbl"],["dtServicesLbl",""],["id","servicesDataType","inputId","servicesDataType","name","servicesDataType","aria-labelledby","dtServicesLbl","showDelay","250","dropdownIcon","dlt-icon-caret-down",3,"options","ngModel","pTooltip","disabled","ngModelChange"],["servicesDataType",""],["type","checkbox","id","dtDocuments","name","dtDocuments","tabindex","0",3,"ngModel","ngModelChange","change"],["for","dtDocuments","id","dtDocumentsLbl","name","dtDocumentsLbl"],["dtDocumentsLbl",""],[2,"white-space","nowrap"],["type","checkbox","id","dtServerData","name","","tabindex","0",3,"ngModel","ngModelChange","change"],["for","dtServerData"],[1,"rightmiddle1"],["id","archBatchSizeLabel","for","archBatchSize",1,"leftmiddle"],[1,"rightmiddle2"],["id","archBatchSize","type","number","min","1","max","9999999","aria-labelledby","archBatchSizeLabel",1,"dlt-number-input",3,"ngModel","ngModelChange"],["type","button","showDelay","250",1,"number-step-up",3,"pTooltip"],["type","button","showDelay","250",1,"number-step-down",3,"pTooltip"],[1,"buttons-wrapper"],["type","button","id","archive-and-delete-btn","showDelay","250",1,"dlt-button","dlt-button-secondary",3,"pTooltip","disabled","click"],["type","button","id","delete-only-btn","showDelay","250",1,"dlt-button","dlt-button-secondary",3,"pTooltip","disabled","click"],[1,"hr3"],["aria-labelledby","retenPdStartRB","disabled","",1,"reten-pd-dt","form-control"],["aria-labelledby","retenPdStartRB",1,"reten-pd-dt","form-control"],[1,"row"],[1,"col-12"],[1,"data-mgmt-card1"],["showExpandCollapse","true",3,"label"],["archiveInfoCard",""],[1,"tblToolbar",2,"width","100%","margin-left","-3.0rem","margin-right","-3.0rem"],[2,"vertical-align","middle","margin-top","0.0rem","margin-bottom","0.0rem"],[1,"dlt-table-header"],[1,"dlt-data-table-title"],[1,"dlt-table-toolbar"],[1,"dlt-toolbar-content"],[1,"dlt-dropdown",2,"margin-right","0.5rem"],["showDelay","250","tooltipPosition","left","tabindex","0",1,"dlt-button","dlt-button-icon","btn-1",3,"pTooltip","click"],[1,"dlt-icon-settings","dlg-icon-btn","dlt-icon"],[1,"dlt-dropdown"],[1,"dlt-icon-fullscreen","dlg-icon-btn","dlt-icon"],["expandArchiveInfoTable",""],[1,"archiveresultcontainer"],["appendTo","body",3,"showTransitionOptions","hideTransitionOptions"],["tablePrefsOverlay1",""],["tablePrefs1",""],[1,"dlt-data-table-container"],[1,"dlt-table-wrapper"],[3,"ngClass","columns","value","scrollable","scrollHeight"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[4,"ngFor","ngForOf"],[4,"ngIf"],["tooltipPosition","top",3,"pSortableColumn","ngStyle","pTooltip",4,"ngIf"],["tooltipPosition","top",3,"pSortableColumn","ngStyle","pTooltip"],[1,"table-header-title","width-100-percentage"],[1,"width-55-percentage","m-pull-top-point-7"],["ariaLabel","'common.table.column.sort'|translate","ariaLabelDesc","'common.table.column.sort.descending'|translate","ariaLabelAsc","'common.table.column.sort.ascending'|translate",3,"field"],[1,"table-data"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["showDelay","250","tooltipPosition","top",3,"pTooltip",4,"ngIf"],["showDelay","250","tooltipPosition","top",3,"pTooltip"],[1,"firstPart0"],["class","no-items-todisplay",4,"ngIf"],[1,"no-items-todisplay"],[1,"data-mgmt-card2"],["archiveHistCard",""],["align","right"],["expandArchiveHistoryTable",""],["tablePrefsOverlay2",""],["tablePrefs2",""],["lazyLoadOnInit","true","sortMode","single","sortOrder","-1","dataKey","CTRL_INSERT_DT",3,"ngClass","columns","value","paginator","rows","totalRecords","rowsPerPageOptions","paginatorDropdownAppendTo","lazy","scrollable","scrollHeight","showPageLinks","showJumpToPageDropdown","onLazyLoad"],["pTemplate","paginatorleft"],[1,"table-data","centerAlignText"],["noItemsTemplate",""],[1,"monitoringUnavailable"],[1,"monitoringUnavailableEnsure"],["class","monitoringErrorInfoLabel",4,"ngIf"],["class","monitoringErrorInfoMsg",4,"ngIf"],[1,"monitoringErrorInfoLabel"],[1,"monitoringErrorInfoMsg"]],template:function(e,t){if(1&e&&(u.fc(0,"div",0),u.fc(1,"ol",1),u.fc(2,"li"),u.fc(3,"a",2),u.bd(4),u.uc(5,"translate"),u.ec(),u.ec(),u.fc(6,"li"),u.fc(7,"a",3),u.bd(8),u.uc(9,"translate"),u.ec(),u.ec(),u.ec(),u.ec(),u.Zc(10,fr,19,16,"ng-container",4),u.Zc(11,Sr,21,20,"ng-template",null,5,u.ad)),2&e){const e=u.Pc(12);u.Lb(4),u.cd(u.vc(5,4,"masthead.administration")),u.Lb(4),u.cd(u.vc(9,6,"monitoring.data.management.tab")),u.Lb(2),u.Ac("ngIf",t.isWmMonitorAvailable)("ngIfElse",e)}},directives:[d.h,s.n,Ic.a,w.f,Mc.b,r.SimpleCardComponent,te.u,te.c,te.n,te.q,te.s,T.a,r.DaterangePickerComponent,te.a,ee.a,Kt.a,r.TablePreferencesComponent,Wt.h,s.l,w.j,s.m,Wt.g,s.o,Wt.f],pipes:[n.c,h.t],styles:[".breadcrumbs-container[_ngcontent-%COMP%]{padding-top:.8rem;margin-left:2px}.rightSideFixedcontainer[_ngcontent-%COMP%]{padding-top:.8rem;margin-right:25px}.dataManagementContainer[_ngcontent-%COMP%]{width:100%;height:100%;padding:1rem 1rem 1rem 1.26rem;overflow:auto}.page-title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-left:-.36rem}.page-title[_ngcontent-%COMP%], .section-title[_ngcontent-%COMP%]{width:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.section-title[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;font-weight:700;margin-top:-1rem;margin-left:0}.hr1[_ngcontent-%COMP%]{margin-top:.4rem}.hr1[_ngcontent-%COMP%], .hr2[_ngcontent-%COMP%]{width:100%;margin-left:1.65rem;margin-right:1.65rem}.hr2[_ngcontent-%COMP%], .hr3[_ngcontent-%COMP%]{margin-top:0}.hr3[_ngcontent-%COMP%]{width:100%;margin-left:0;margin-right:0}.data-mgmt[_ngcontent-%COMP%]{padding-top:1rem}.rowone[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.col-12[_ngcontent-%COMP%]{padding-right:10px;padding-left:10px}.colone[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:1;overflow:hidden;margin-left:10px;margin-right:10px}.data-mgmt-card0[_ngcontent-%COMP%]{min-height:180px}.data-mgmt-card0[_ngcontent-%COMP%], .data-mgmt-card1[_ngcontent-%COMP%]{min-width:560px}.data-mgmt-card0[_ngcontent-%COMP%], .data-mgmt-card1[_ngcontent-%COMP%], .data-mgmt-card2[_ngcontent-%COMP%]{padding-bottom:1rem;width:100%;height:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.datepicker[_ngcontent-%COMP%], .table-condensed[_ngcontent-%COMP%]{width:500px}.reten-pd-dt[_ngcontent-%COMP%]{height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;display:block;font-family:Roboto,Helvetica,Arial,sans-serif;background-color:#eaeaea;color:#000}.reten-pd-dt[_ngcontent-%COMP%]:disabled, .reten-pd-dt[disabled][_ngcontent-%COMP%]{color:#595959}.tableHeaderSelectAll[_ngcontent-%COMP%]{width:3em;padding-left:.9em}.archiveresultcontainer[_ngcontent-%COMP%]{height:100%;width:100%;padding-left:1.6rem;padding-right:1.6rem;padding-bottom:1rem;overflow:auto}.tblToolbar[_ngcontent-%COMP%]{margin-left:1rem;margin-right:3.5rem;margin-top:-1.9rem}.dataTypeCheckbox[_ngcontent-%COMP%]{padding-top:0;padding-bottom:1rem}label.leftmiddle[_ngcontent-%COMP%]{padding-top:.6rem!important;padding-bottom:0!important}td.leftmiddle[_ngcontent-%COMP%]{vertical-align:middle;align:left;padding-top:8px;padding-bottom:8px}td.rightmiddle1[_ngcontent-%COMP%], td.rightmiddle2[_ngcontent-%COMP%]{vertical-align:middle;text-align:right;padding-right:.4rem;white-space:nowrap}td.rightmiddle2[_ngcontent-%COMP%]{padding-top:4px}table.datatypes[_ngcontent-%COMP%]{width:100%;margin-right:1.5rem}.buttons-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:0;margin-bottom:.4rem;width:100%}.dlt-checkbox[_ngcontent-%COMP%]{padding-top:0}.firstPart0[_ngcontent-%COMP%], .lastPart0[_ngcontent-%COMP%]{color:#000}.dlt-icon-fullscreen[_ngcontent-%COMP%]:before{content:url(Expand-dialog-vec18.4ec93a215fa9f4638f8b.svg)}.dlt-icon-fullscreen-exit[_ngcontent-%COMP%]:before{content:url(Collapse-dialog-vec18.c764bb320fbb6335e037.svg)}.monitoringUnavailable[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-top:2rem}.monitoringUnavailable[_ngcontent-%COMP%], .monitoringUnavailableEnsure[_ngcontent-%COMP%]{width:100%;margin-left:2rem;margin-right:2rem;padding-right:2rem;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringUnavailableEnsure[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;font-weight:400}.monitoringErrorInfoLabel[_ngcontent-%COMP%]{font-weight:500;margin-top:1rem;margin-left:3rem;margin-right:3rem;padding-right:3rem}.monitoringErrorInfoLabel[_ngcontent-%COMP%], .monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;width:100%;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-weight:400;margin-left:4rem;margin-right:4rem;padding-right:4rem}.margin-left-10-px[_ngcontent-%COMP%]{margin-left:10px}.margin-right-10-px[_ngcontent-%COMP%]{margin-right:10px!important}label.rb-label[_ngcontent-%COMP%]{margin-left:.4rem;margin-right:.6rem}.center[_ngcontent-%COMP%]{margin-left:-1px;margin-top:-1px}.center[_ngcontent-%COMP%], .center1[_ngcontent-%COMP%], .center2[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:18px;height:18px;transform:translate(-50%,-50%);display:block}.center2[_ngcontent-%COMP%]{margin-top:-1px}"]}),e})(),pathMatch:"full"}]}];let Tr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Xb({type:e}),e.\u0275inj=u.Wb({imports:[[d.i.forChild(xr)],d.i]}),e})();var Lr=i("nWvw");let wr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Xb({type:e}),e.\u0275inj=u.Wb({imports:[[s.c,te.j,T.b,n.b.forChild({loader:{provide:n.a,useFactory:Ir,deps:[o.b]},extend:!0})]]}),e})();function Ir(e){return new h.q(e,[])}var Mr=i("FjU+");let Or=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Xb({type:e}),e.\u0275inj=u.Wb({providers:[s.e,h.t],imports:[[s.c,wr,bn.b,te.j,te.v,h.s,r.Daterangepicker,ee.b,Mr.b,T.b,n.b.forChild({loader:{provide:n.a,useFactory:_r,deps:[o.b]},extend:!0})],bn.b,h.s]}),e})();function _r(e){return new h.q(e,[])}var Pr=i("YvBs");let Dr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.Xb({type:e}),e.\u0275inj=u.Wb({providers:[h.E,h.F,w.h,Lr.a,h.g,h.t,h.D,r.D3HelperService,w.b],imports:[[s.c,r.TablesModule,c.a,r.ISACSharedModule,Tr,h.s,Lr.c,L.b,a.g,n.b.forChild({loader:{provide:n.a,useFactory:Ar,deps:[o.b]},extend:!0}),te.j,te.v,Or,Pr.a,Mr.b,r.Daterangepicker,Ic.b,l.b],h.s]}),e})();function Ar(e){return new h.q(e,[])}}}]);