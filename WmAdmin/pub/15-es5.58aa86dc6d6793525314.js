!function(){function e(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var a=0,c=function(){};return{s:c,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw r}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{ojYn:function(t,i,c){"use strict";c.r(i),c.d(i,"MonitoringModule",function(){return ho}),c.d(i,"createTranslateLoader",function(){return fo});var r,o,s,l,d=c("TSSN"),u=c("G0yt"),h=c("2ilO"),f=c("/dUA"),g=c("SVse"),p=c("IheW"),v=c("QGev"),m=c("iInd"),b=c("8Y7J"),y=c("D3+B"),C=c("JIr8"),S=c("LRne"),x=c("wd/R"),T=((r=function(){function t(e,i,a){n(this,t),this.http=e,this.translateService=i,this.dateTimeService=a,this.documentsUrl="/admin/monitor"}return a(t,[{key:"getDocumentList",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AUDITTIMESTRING",i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0,o=(new p.f).set("pageNumber",e).set("pageSize",t).set("sortColumn",n).set("sortAscending",i);if(r&&r.length>0)for(var s=0;s<r.length;s++)if("durationInHours"===r[s].filterBy){var l=this.setStartAndFromDateWithoutSeconds(r[s].filterValue,a,c);a=l.startTime,c=l.endTime,r.splice(s,1);break}return a&&(o=o.append("fromDate",a)),c&&(o=o.append("toDate",c)),this.hasIsAnd(r)||(o=o.append("isAnd","TRUE")),o=y.J.getFliterToQueryParam(r,o),this.http.get(this.documentsUrl+"/document",{params:o})}},{key:"hasIsAnd",value:function(e){if(!e||0===e.length)return!1;for(var t=0;t<e.length;t++)if("isAnd"===e[t].filterBy)return!0;return!1}},{key:"getDocumentDetails",value:function(e){return this.http.get(this.documentsUrl+"/document/"+e+"/details").pipe(Object(C.a)(this.handleError("getDocumentDetails")))}},{key:"setStartAndFromDateWithoutSeconds",value:function(e,t,n){return{startTime:(n=x.utc().startOf("minute")).clone().subtract(e,"hours").valueOf(),endTime:n=n.valueOf()}}},{key:"getDocumentChartData",value:function(e,t,n){var i=new p.f;if(t||n||e||(e=1),e){var a=this.setStartAndFromDateWithoutSeconds(e,t,n);t=a.startTime,n=a.endTime}return t&&(i=i.append("fromDate",t)),n&&(i=i.append("toDate",n)),i=(i=i.append("isAnd","TRUE")).append("customIntervals","20"),this.http.get(this.documentsUrl+"/document/summary",{params:i})}},{key:"summarizedChartData",value:function(t,n,i,a){if(t){var c,r=[],o=[],s=[],l=[],d=[];c=this.getLabelForBarChartXAxis(n,i,a);var u,h=e(t.documentArray);try{for(h.s();!(u=h.n()).done;){var f=u.value,g=f.startTimestamp,p=f.endTimestamp,v=void 0;0===r.length&&(v=v);var m="0",b="0",y="0",C="0";if(f.statusDetails.length>0){var S,x=e(f.statusDetails);try{for(x.s();!(S=x.n()).done;){var T=S.value;"Failed"===T.status?y=T.numberOfExecutions.toString():"Broker"===T.status?b=T.numberOfExecutions.toString():"Retries Exceeded"===T.status?C=T.numberOfExecutions.toString():"In Doubt"===T.status&&(m=T.numberOfExecutions.toString())}}catch(B){x.e(B)}finally{x.f()}}var w={Broker:b,BrokerOriginal:b,Failed:y,FailedOriginal:y,"Retries Exceeded":C,"Retries ExceededOriginal":C,"In Doubt":m,"In DoubtOriginal":m,startTime:this.dateTimeService.converUTCTimeStampToLocalJsDate(g),endTime:this.dateTimeService.converUTCTimeStampToLocalJsDate(p)};r.push(w)}}catch(B){h.e(B)}finally{h.f()}for(var L=0;L<r.length;L++)o.push(r[L].brokerType),s.push(r[L].failed),l.push(r[L].inDoubt),d.push(r[L].retriesExceeded);var k=o.reduce(function(e,t){return Math.max(e,t)}),I=s.reduce(function(e,t){return Math.max(e,t)}),M=l.reduce(function(e,t){return Math.max(e,t)}),O=d.reduce(function(e,t){return Math.max(e,t)}),_=Math.max(k,I,M,O);if(_>0)for(var P=0;P<r.length;P++){if("0"!==r[P].brokerType)for(var D=Number(r[P].brokerType)/Number(_)*100;D<6;)r[P].brokerType=(Number(r[P].brokerType)+1).toString(),D=Number(r[P].brokerType)/Number(_)*100;if("0"!==r[P].failed)for(var A=Number(r[P].failed)/Number(_)*100;A<6;)r[P].failed=(Number(r[P].failed)+1).toString(),A=Number(r[P].failed)/Number(_)*100;if("0"!==r[P].inDoubt)for(var R=Number(r[P].inDoubt)/Number(_)*100;R<6;)r[P].inDoubt=(Number(r[P].inDoubt)+1).toString(),R=Number(r[P].inDoubt)/Number(_)*100;if("0"!==r[P].retriesExceeded)for(var E=Number(r[P].retriesExceeded)/Number(_)*100;E<6;)r[P].retriesExceeded=(Number(r[P].retriesExceeded)+1).toString(),E=Number(r[P].retriesExceeded)/Number(_)*100}var F=new Map;return F.set("barData",r),F.set("barChartLabel",c),F.set("donutData",this.getDonutData(t)),F.set("columnKeyColorArray",this.getDocumentBarColumnKeyColorArray(t.totalInDoubt,t.totalBrokerDocs,t.totalFailed,t.totalRetriesExceeded)),F}throw new Error("Invalid response format for integration serivce execution chart")}},{key:"getDonutData",value:function(e){return[{label:"Broker",displayLabel:"monitoring.documents.document.type.broker",value:e.totalBrokerDocs,color:f.COLOR_HEX.BROKER},{label:"Failed",displayLabel:"monitoring.services.service.status.failed",value:e.totalFailed,color:f.COLOR_HEX.FAILED},{label:"Retries Exceeded",displayLabel:"monitoring.documents.document.type.RetriesExceeded",value:e.totalRetriesExceeded,color:f.COLOR_HEX.RETRIES_EXCEEDED},{label:"In Doubt",displayLabel:"monitoring.documents.document.type.InDoubt",value:e.totalInDoubt,color:f.COLOR_HEX.INDOUBT}]}},{key:"getDocumentBarColumnKeyColorArray",value:function(e,t,n,i){return[{key:"Broker",color:f.COLOR_HEX.BROKER,displayValue:"monitoring.documents.document.type.broker",count:t},{key:"Failed",color:f.COLOR_HEX.FAILED,displayValue:"monitoring.services.service.status.failed",count:n},{key:"Retries Exceeded",color:f.COLOR_HEX.RETRIES_EXCEEDED,displayValue:"monitoring.documents.document.type.RetriesExceeded",count:i},{key:"In Doubt",color:f.COLOR_HEX.INDOUBT,displayValue:"monitoring.documents.document.type.InDoubt",count:e}]}},{key:"getLabelForBarChartXAxis",value:function(e,t,n){var i="";return e&&e<=24?i=this.translateService.instant(1===e?"common.chart.label.time.duration.hour":"common.chart.label.time.duration.hours",{value:e}):e&&48===e?i=this.translateService.instant("common.chart.label.time.duration.days",{value:e/24}):e&&e>48?i=this.translateService.instant(168===e?"common.chart.label.time.duration.week":"common.chart.label.time.duration.weeks",{value:e/168}):t&&n&&(i=this.translateService.instant("common.chart.label.time.duration.custom",{value1:this.dateTimeService.converUTCTimeStampToLocalDateFormatString(t),value2:this.dateTimeService.converUTCTimeStampToLocalDateFormatString(n)})),i}},{key:"getMonitorStatus",value:function(){return this.http.get(this.documentsUrl+"/status")}},{key:"resubmitDocument",value:function(e,t,n){var i=this.documentsUrl+"/document/"+encodeURIComponent(e)+"?action=resubmit&name="+encodeURIComponent(t);return this.http.post(i,n).pipe(Object(C.a)(this.handleResubmitError))}},{key:"resubmitDocuments",value:function(t){var n,i=this.documentsUrl+"/document?action=resubmit",a=e(t);try{for(a.s();!(n=a.n()).done;){var c=n.value;i+="&docIDs[]="+encodeURIComponent(c)}}catch(r){a.e(r)}finally{a.f()}return this.http.post(i,{})}},{key:"handleError",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"operation",n=arguments.length>1?arguments[1]:void 0;return function(i){return console.error(i),e.log("".concat(t," failed: ").concat(i.message)),Object(S.a)(n)}}},{key:"handleResubmitError",value:function(e){var t;return t=e instanceof Response?"".concat(e.status," - ").concat(e.statusText||""," ").concat(e||""):e.message?e.message:e.toString(),console.error(t),Object(S.a)(t)}},{key:"log",value:function(e){b.fb&&console.log("DocumentApiService: ".concat(e))}}]),t}()).\u0275fac=function(e){return new(e||r)(b.mc(p.b),b.mc(d.d),b.mc(f.DateTimeService))},r.\u0275prov=b.Vb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),w=c("2Vo4"),L=function e(t,i){n(this,e),this.serviceName=t,this.contextId=i},k=function e(t,i){n(this,e),this.documentName=t,this.documentId=i},I=((s=function(){function e(t){n(this,e),this.http=t,this.serviceInfoSource=new w.a(new L("","")),this.currentServiceInfo=this.serviceInfoSource.asObservable(),this.documentInfoSource=new w.a(new k("","")),this.currentDocumentInfo=this.documentInfoSource.asObservable(),this.servicesUrl="/admin/monitor"}return a(e,[{key:"getCurrentServiceInfo",value:function(){return this.currentServiceInfo}},{key:"getCurrentDocumentInfo",value:function(){return this.currentDocumentInfo}},{key:"setCurrentServiceInfo",value:function(e,t){this.serviceInfoSource.next(new L(e,t))}},{key:"setCurrentDocumentInfo",value:function(e,t){this.documentInfoSource.next(new k(e,t))}},{key:"getServiceSignature",value:function(e){return this.http.get(this.servicesUrl+"/service/"+e+"/input_signature").pipe(Object(C.a)(this.handleError("getServiceSignature")))}},{key:"getServicePipeline",value:function(e){return this.http.get(this.servicesUrl+"/service/"+e+"/pipeline?jsonDateEncoding=long").pipe(Object(C.a)(this.handleError("getServicePipeline")))}},{key:"getDocumentPipeline",value:function(e){return this.http.get(this.servicesUrl+"/document/"+e).pipe(Object(C.a)(this.handleError("getDocumentPipeline")))}},{key:"getDocumentSignature",value:function(e){return this.http.get(this.servicesUrl+"/document/"+e+"/input_signature").pipe(Object(C.a)(this.handleError("getDocumentSignature")))}},{key:"handleError",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"operation",n=arguments.length>1?arguments[1]:void 0;return function(i){return console.error(i),e.log("".concat(t," failed: ").concat(i.message)),Object(S.a)(n)}}},{key:"log",value:function(e){b.fb&&console.log("ServiceApiService: ".concat(e))}}]),e}()).\u0275fac=function(e){return new(e||s)(b.mc(p.b))},s.\u0275prov=b.Vb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),M=((o=function(){function e(t){n(this,e),this.http=t,this.navSource=new w.a(""),this.navLink=this.navSource.asObservable(),this.services="/monitoring/services",this.changeNavItem(this.services)}return a(e,[{key:"changeNavItem",value:function(e){this.navSource.next(e)}}]),e}()).\u0275fac=function(e){return new(e||o)(b.mc(p.b))},o.\u0275prov=b.Vb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),O=c("EApP"),_=c("GX/v"),P=c("YHJu"),D=c("hhfa"),A=c("LvDl"),R=function e(t){n(this,e),this.document=t},E=function e(t){n(this,e),this.inputPipeline=t},F={string:{dataTypeName:"string",bgColor:"#FEF6BE",icon:"str"},table:{dataTypeName:"table",bgColor:"#f4f456",icon:"tab"},record:{dataTypeName:"record",bgColor:"#C0FFE0",icon:"doc"},recref:{dataTypeName:"recref",bgColor:"#C9FBFE",icon:"ref"},object:{dataTypeName:"object",bgColor:"#FFCDD0",icon:"obj"},"java.lang.Short":{dataTypeName:"java.lang.Short",bgColor:"#FFFF00",icon:"16"},"java.lang.Integer":{dataTypeName:"java.lang.Integer",bgColor:"#dfaade",icon:"32"},"java.lang.Long":{dataTypeName:"java.lang.Long",bgColor:"#e8ce97",icon:"64"},"java.lang.Double":{dataTypeName:"java.lang.Double",bgColor:"#e8ce97",icon:"64"},"java.lang.Float":{dataTypeName:"java.lang.Float",bgColor:"#7bff69",icon:"32"},"java.lang.Boolean":{dataTypeName:"java.lang.Boolean",bgColor:"lightblue",icon:"bool"},"java.util.Date":{dataTypeName:"java.util.Date",bgColor:"lightblue",icon:"date"},"com.wm.util.XOPObject":{dataTypeName:"com.wm.util.XOPObject",bgColor:"#FFCDD0",icon:"obj"}},B={string:{dataTypeImage:"assets/images/service-input/string.svg",altText:"serviceinput.data.type.string"},table:{dataTypeImage:"assets/images/service-input/string-table.svg",altText:"serviceinput.data.type.string.table"},record:{dataTypeImage:"assets/images/service-input/document.svg",altText:"serviceinput.data.type.document"},recref:{dataTypeImage:"assets/images/service-input/document-reference.svg",altText:"serviceinput.data.type.document.reference"},object:{dataTypeImage:"assets/images/service-input/object.svg",altText:"serviceinput.data.type.object"},"java.lang.Short":{dataTypeImage:"assets/images/service-input/obj-integer-short.svg",altText:"serviceinput.data.type.short"},"java.lang.Integer":{dataTypeImage:"assets/images/service-input/obj-integer.svg",altText:"serviceinput.data.type.integer"},"java.lang.Long":{dataTypeImage:"assets/images/service-input/obj-integer-long.svg",altText:"serviceinput.data.type.long"},"java.lang.Double":{dataTypeImage:"assets/images/service-input/obj-double.svg",altText:"serviceinput.data.type.double"},"java.lang.Float":{dataTypeImage:"assets/images/service-input/obj-float.svg",altText:"serviceinput.data.type.float"},"java.lang.Boolean":{dataTypeImage:"assets/images/service-input/obj-boolean.svg",altText:"serviceinput.data.type.boolean"},"java.lang.Byte":{dataTypeImage:"assets/images/service-input/obj-byte.svg",altText:"serviceinput.data.type.byte"},"byte []":{dataTypeImage:"assets/images/service-input/obj-byte-array.svg",altText:"serviceinput.data.type.byte.array"},"java.lang.Character":{dataTypeImage:"assets/images/service-input/obj-character.svg",altText:"serviceinput.data.type.character"},"java.util.Date":{dataTypeImage:"assets/images/service-input/obj-date-time.svg",altText:"serviceinput.data.type.date"},"com.wm.util.XOPObject":{dataTypeImage:"assets/images/service-input/obj-integer-short.svg",altText:"com.wm.util.XOPObject"}},N={string:{dataTypeImage:"assets/images/service-input/string-list.svg",altText:"serviceinput.data.type.string.list"},record:{dataTypeImage:"assets/images/service-input/document-list.svg",altText:"serviceinput.data.type.document.list"},recref:{dataTypeImage:"assets/images/service-input/document-reference-list.svg",altText:"serviceinput.data.type.document.reference.list"},object:{dataTypeImage:"assets/images/service-input/object-list.svg",altText:"serviceinput.data.type.object.list"},"java.lang.Short":{dataTypeImage:"assets/images/service-input/obj-integer-short-list.svg",altText:"serviceinput.data.type.short.list"},"java.lang.Integer":{dataTypeImage:"assets/images/service-input/obj-integer-list.svg",altText:"serviceinput.data.type.integer.list"},"java.lang.Long":{dataTypeImage:"assets/images/service-input/obj-integer-long-list.svg",altText:"serviceinput.data.type.long.list"},"java.lang.Double":{dataTypeImage:"assets/images/service-input/obj-double-list.svg",altText:"serviceinput.data.type.double.list"},"java.lang.Float":{dataTypeImage:"assets/images/service-input/obj-float-list.svg",altText:"serviceinput.data.type.float.list"},"java.lang.Boolean":{dataTypeImage:"assets/images/service-input/obj-boolean-list.svg",altText:"serviceinput.data.type.boolean.list"},"java.lang.Byte":{dataTypeImage:"assets/images/service-input/obj-byte-list.svg",altText:"serviceinput.data.type.byte.list"},"java.lang.Character":{dataTypeImage:"assets/images/service-input/obj-character-list.svg",altText:"serviceinput.data.type.character.list"},"java.util.Date":{dataTypeImage:"assets/images/service-input/obj-date-time-list.svg",altText:"serviceinput.data.type.date.list"},"com.wm.util.XOPObject":{dataTypeImage:"assets/images/service-input/object-list.svg",altText:"com.wm.util.XOPObject.list"}},H=function(){function e(){n(this,e)}return a(e,null,[{key:"isString",value:function(e){return"string"==typeof e}},{key:"isNumber",value:function(e){return"number"==typeof e}},{key:"isInteger",value:function(e){return e%1==0}},{key:"isBoolean",value:function(e){return"boolean"==typeof e}},{key:"isPrimitiveType",value:function(e){return this.isString(e)||this.isNumber(e)||this.isBoolean(e)}},{key:"isObject",value:function(e){return"object"==typeof e}},{key:"isArray",value:function(e){return Array.isArray(e)}},{key:"getListWithKeys",value:function(e){return e?Object.keys(e):[]}},{key:"hasKeys",value:function(e){return Object.keys(e).length>0}},{key:"getFieldType",value:function(t){var n="object";return this.isString(t)?n="string":this.isNumber(t)?n=e.__handleNumbers(t):this.isBoolean(t)?n="java.lang.Boolean":this.isObject(t)&&(n=e.__handleObject(t)),n}},{key:"__handleObject",value:function(t){var n="record";return this.isArray(t)&&(n=e.__handleArray(t)),n}},{key:"__handleArray",value:function(e){var t="object";return e.length&&this.isArray(e[0])&&(e[0][0]&&e[0][0].fieldValue&&this.isArray(e[0][0].fieldValue)||this.isDocument(e[0])?t="record":e[0][0]&&e[0][0].fieldValue&&(t=this.getFieldType(e[0][0].fieldValue))),t}},{key:"__handleNumbers",value:function(e){var t="java.lang.Double";return this.isInteger(e)&&(t="java.lang.Integer"),t}},{key:"isDocument",value:function(e){var t=!1;if(Array.isArray(e)&&e.length>1){var n=e[0],i=e[1],a=n.fieldName?n.fieldName.split("[")[0]:void 0;t=!a||i.fieldName.split("[")[0]!==a}return t}},{key:"computeJSONTree",value:function(e,t){var n=this,i=[];return this.__getKeys(e).map(function(a,c){var r={index:c,fieldName:void 0===t?a:"".concat(t," [ ").concat(a," ]")},o=e[a];o instanceof Array||o instanceof Object?n.__handleComplexTypes(o,a,r):n.__handleSimpleTypes(o,r),i.push(r)}),i}},{key:"__getKeys",value:function(e){var t;return e instanceof Object?t=Object.keys(e):e instanceof Array&&(t=e.values()),t}},{key:"__handleSimpleTypes",value:function(e,t){"string"!=typeof e&&"number"!=typeof e&&"boolean"!=typeof e||(t.fieldValue=e,t.hasChildren=!1)}},{key:"__handleComplexTypes",value:function(e,t,n){var i=[];i.push(this.computeJSONTree(e,e instanceof Array?t:void 0)),n.fieldValue=i,n.hasChildren=!0}},{key:"validateDouble",value:function(e,t){if(e){var n=t.instant("serviceinput.validate.double.error.msg");if(isNaN(e))return n;var i=parseFloat(e);if(isNaN(i))return n}return null}},{key:"validateFloat",value:function(e,t){if(e){var n=t.instant("serviceinput.validate.double.error.msg");if(isNaN(e))return n;var i=parseFloat(e);if(isNaN(i))return n}return null}},{key:"validateLong",value:function(e,t){if(e){A.isString(e)||(e+="");var n=t.instant("serviceinput.validate.long.error.msg");if(isNaN(e)||e.indexOf(".")>-1)return n;var i=e,a=i.startsWith("-");a&&(i=i.substring(1));var c=i.length,r=parseInt(i.substring(0,i.length%10),10);if(isNaN(r))return n;var o=i.length%10;if(o<i.length){var s=parseInt(i.substring(o),10);if(isNaN(s))return n;if(!a&&(c>19||19===c&&(r>922337203||922337203===r&&s>6854775807)))return n;if(a&&(c>19||19===c&&(r>922337203||922337203===r&&s>6854775808)))return n}}return null}},{key:"validateInteger",value:function(e,t){if(e){A.isString(e)||(e+="");var n=t.instant("serviceinput.validate.integer.error.msg");if(isNaN(e)||e.indexOf(".")>-1)return n;var i=parseInt(e,10);if(isNaN(i))return n;if(i>2147483647||i<-2147483648)return n}return null}},{key:"validateShort",value:function(e,t){if(e){A.isString(e)||(e+="");var n=t.instant("serviceinput.validate.short.error.msg");if(isNaN(e)||e.indexOf(".")>-1)return n;var i=parseInt(e,10);if(isNaN(i))return n;if(i>32767||i<-32768)return n}return null}},{key:"validateCharacter",value:function(e,t){return e&&e.length>1?t.instant("serviceinput.validate.character.error.msg"):null}},{key:"validateByte",value:function(t,n,i){if(n){if(null==e.parseByteValue(n+""))return i.instant("serviceinput.validate.byte.error.msg");"0"===t.field_dim&&(t.value=+n)}return null}},{key:"parseByteValue",value:function(t){try{var n=t.indexOf("-"),i=0,a=0;if(0===n?(i=-1,t=t.substring(1)):n===t.length-1?(t=t.substring(0,t.length-1),i=-1):i=1,0===t.indexOf("0")&&1===t.indexOf("x")){var c=t.substring(2);if(!e.isHexadecimal(c))return null;a=parseInt(c,16)}else if(0===t.indexOf("/")||0===t.indexOf("\\"))if(1===t.indexOf("x")){var r=t.substring(2);if(!e.isHexadecimal(r))return null;a=parseInt(r,16)}else if(1===t.indexOf("o")){var o=t.substring(2);if(!e.isOctal(o))return null;a=parseInt(o,8)}else a=parseInt(t.substring(1));else a=parseInt(t,16);if(isNaN(a))return null;var s=a;return(s*=i)>=-128&&s<128?s:null}catch(l){return null}}},{key:"isHexadecimal",value:function(e){return!!/^[0-9a-fA-F]+$/.test(e)}},{key:"isOctal",value:function(e){return!!/^[0-7]+$/.test(e)}},{key:"specialByteFormat",value:function(e){var t="",n=!1;for(128==(128&e)?(t+=(0-e).toString(16).toUpperCase(),n=!0):t+=e.toString(16).toUpperCase();t.length<2;)t="0"+t;return t="0x"+t,n&&(t="-"+t),t}},{key:"validateDate",value:function(e,t){if(e){var n=t.instant("serviceinput.validate.date.error.msg");if((e.length>0||e.toString().length>0)&&!this.isNumeric(e))try{var i=Date.parse(e);if(isNaN(i))return n}catch(a){return n}}return null}},{key:"getValueBasedOnDataType",value:function(t,n){var i=null;if("object"===t.field_type)if("java.lang.Boolean"===t.wrapper_type){i=null;var a=null;n.value?a=n.value:n.originalEvent&&n.originalEvent.value?a=n.originalEvent.value:n.target.textContent&&n.target.textContent.length>0&&"empty"!==n.target.textContent&&(a=n.target.textContent),i=!0===a||!1===a?String(a):a}else"java.util.Date"===t.wrapper_type?n.picker&&n.picker.startDate&&n.picker.startDate._d&&(i=Date.parse(n.picker.startDate._d)):"java.lang.Byte"===t.wrapper_type?n.target&&n.target.value&&(i=e.parseByteValue(n.target.value)):"java.lang.Short"===t.wrapper_type||"java.lang.Long"===t.wrapper_type||"java.lang.Integer"===t.wrapper_type?n.target&&n.target.value&&(i=parseInt(n.target.value,10)):"java.lang.Double"!==t.wrapper_type&&"java.lang.Float"!==t.wrapper_type||(i=n.target.value.toUpperCase().indexOf("E")>-1?Number(n.target.value):parseFloat(n.target.value));return null!=i&&0!==i.length||(n.target&&n.target.value?i=n.target.value:n.data?i=n.data:n.value?i=n.value:n.originalEvent&&n.originalEven.value&&(n=n.originalEvent.value)),i}},{key:"isNumeric",value:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},{key:"isNodeBoolean",value:function(e){return"java.lang.Boolean"===e.wrapper_type}},{key:"isNodeNumeric",value:function(e){return"java.lang.Short"===e.wrapper_type||"java.lang.Integer"===e.wrapper_type||"java.lang.Long"===e.wrapper_type||"java.lang.Double"===e.wrapper_type||"java.lang.Float"===e.wrapper_type}},{key:"isNodeDate",value:function(e){return"java.util.Date"===e.wrapper_type}}]),e}(),V=function(){var t=function(){function t(){n(this,t)}return a(t,null,[{key:"createPath",value:function(e,t){if(null==e)return"";var n=e.parentNode;if(null==n)return"";if(e===n)return"";"recref"===e.field_type&&"recref"===n.field_type&&"1"===n.field_dim&&(n=n.parentNode);var i="";if(n.path&&(i+=this.createPath(n,-1)),e.path)return e.path;i+=this.SEPARATOR_PATH,i+=this.encodePathName(e.field_name);var a=this.getPosition(e);return a>=0&&(i+=this.SEPARATOR_LPBRACKET,i+=a,i+=this.SEPARATOR_RPBRACKET),t>-1&&("recref"===n.field_type&&n.parentNode&&"1"===n.parentNode.field_dim||(i+=this.SEPARATOR_LBRACKET,i+=t,i+=this.SEPARATOR_RBRACKET)),i+=this.SEPARATOR_TYPE,i+=e.field_type,null!=e.wrapper_type&&0!==e.wrapper_type&&(i+=this.SEPARATOR_SUBTYPE,i+=e.wrapper_type),i+=this.SEPARATOR_TYPE,i+=e.field_dim,"recref"===e.field_type&&e.rec_ref&&(i+=this.SEPARATOR_TYPE,i+=e.rec_ref),e.level||(e.level=(i.match(/\//g)||[]).length),i}},{key:"encodePathName",value:function(e){return this.containsSep(e)?this.FIELDNAME_ENCODECHAR+this.checkForQuotes(e)+this.FIELDNAME_ENCODECHAR:e}},{key:"containsSep",value:function(e){if(null==e)return!1;for(var t=this.SEPARATOR_PATH+this.SEPARATOR_TYPE+this.SEPARATOR_LBRACKET+this.SEPARATOR_RBRACKET+this.SEPARATOR_LPBRACKET+this.SEPARATOR_RPBRACKET+this.FIELDNAME_ENCODECHAR,n=0;n<t.length;n++)if(e.indexOf(t.charAt(n))>=0)return!0;return!1}},{key:"checkForQuotes",value:function(e){for(var t="",n=0,i=0;n>=0;)(n=e.indexOf(this.FIELDNAME_ENCODECHAR.charAt(0),i))>=0&&(t+=e.substring(i,n),t+="\\\\"+this.FIELDNAME_ENCODECHAR,i=n+1);return(t+=e.substring(i)).toString()}},{key:"getPosition",value:function(e){if(null==parent)return-1;var t=this.getFieldsByName(e.parentNode,e.field_name);if(null==t||t.length<1)return-1;for(var n=0;n<t.length;n++)if(e.uid===t[n].uid)return n;return-1}},{key:"getFieldsByName",value:function(t,n){var i=new Array;if(t&&t.rec_fields&&t.rec_fields.length>0){var a,c=e(t.rec_fields);try{for(c.s();!(a=c.n()).done;){var r=a.value;r.field_name===n&&i.push(r)}}catch(o){c.e(o)}finally{c.f()}}return i}},{key:"getKeyFromPath",value:function(e,t){var n=e.path.split("/"),i="",a=0;if(e.parentNode&&e.parentNode.valueKey&&(e.parentNode.valueKey.endsWith(this.SEPARATOR_RBRACKET)&&(i=e.parentNode.valueKey+".",a=n.length-1),e.parentNode.valueKey.indexOf(".")>-1)){i=e.parentNode.valueKey;var c="."+e.field_name;i.endsWith(c)&&("recref"!==e.field_type&&"record"!==e.field_type||"1"===e.parentNode.field_dim)?i=i.substring(0,i.lastIndexOf(c))+".":i+=".",a=n.length-1}if(n&&n.length>0)for(var r=a;r<n.length;r++){var o=n[r].split(";");if(o&&o.length>2){if("record.IData"===o[1]||"recref.IData"===o[1]||"record"===o[1]||"recref"===o[1])o[0].indexOf(this.SEPARATOR_RPBRACKET)>0?i+=o[0].substring(0,o[0].lastIndexOf(this.SEPARATOR_LPBRACKET))+o[0].substring(o[0].indexOf(this.SEPARATOR_RPBRACKET)+1):i+=o[0],"recref"===e.field_type&&e.parentNode&&"recref"===e.parentNode.field_type&&"1"===e.parentNode.field_dim||t>-1&&(i+=this.SEPARATOR_LBRACKET+t+this.SEPARATOR_RBRACKET);else if("string"===o[1]||o[1].startsWith("object")){var s=o[0].indexOf(this.SEPARATOR_LBRACKET),l=o[0].indexOf(this.SEPARATOR_RBRACKET),d=o[0].indexOf(this.SEPARATOR_LPBRACKET),u=o[0].indexOf(this.SEPARATOR_RPBRACKET),h="";d>-1&&u>d?"(0)"===(h=o[0].substring(d,u+1))?i+=o[0].substring(0,d):h="":s>-1&&l>s&&(h=o[0].substring(s,l+1),i+=o[0].substring(0,s)),0===h.length&&(i+=o[0])}if(r===n.length-2&&"0"===e.field_dim&&e.parentNode&&"1"===e.parentNode.field_dim&&("record"===e.field_type||"recref"===e.field_type))break;r<n.length-1&&(i+=".")}}return i}}]),t}();return t.SEPARATOR_PATH="/",t.SEPARATOR_TYPE=";",t.SEPARATOR_SUBTYPE=".",t.SEPARATOR_LBRACKET="[",t.SEPARATOR_RBRACKET="]",t.SEPARATOR_LPBRACKET="(",t.SEPARATOR_RPBRACKET=")",t.FIELDNAME_ENCODECHAR='"',t.VARSUBST_CHAR="%",t}(),Z=c("7Cbv"),j=((l=function e(){n(this,e)}).\u0275fac=function(e){return new(e||l)},l.\u0275dir=b.Ub({type:l,selectors:[["","treeNode",""]]}),l),z=["treeNode"];function U(e,t){if(1&e){var n=b.gc();b.fc(0,"button",12),b.pc("keydown.arrowright",function(e){b.Rc(n);var t=b.tc(3).$implicit;return b.tc(2).expandNode(t,e)})("click",function(e){b.Rc(n);var t=b.tc(3).$implicit;return b.tc(2).expandNode(t,e)}),b.uc(1,"translate"),b.uc(2,"translate"),b.ac(3,"i",13),b.ec()}if(2&e){var i=b.tc(3).$implicit;b.Cc("id","expandTreeNode_",i.path,""),b.Bc("pTooltip",b.vc(1,3,"common.expand")),b.Mb("aria-label",b.vc(2,5,"common.expand"))}}function $(e,t){if(1&e){var n=b.gc();b.fc(0,"button",14),b.pc("keydown.arrowleft",function(e){b.Rc(n);var t=b.tc(3).$implicit;return b.tc(2).collapseNode(t,e)})("click",function(e){b.Rc(n);var t=b.tc(3).$implicit;return b.tc(2).collapseNode(t,e)}),b.uc(1,"translate"),b.uc(2,"translate"),b.ac(3,"i",15),b.ec()}if(2&e){var i=b.tc(3).$implicit;b.Cc("id","collapseTreeNode_",i.path,""),b.Bc("pTooltip",b.vc(1,3,"common.collapse")),b.Mb("aria-label",b.vc(2,5,"common.collapse"))}}function Q(e,t){if(1&e&&(b.fc(0,"span"),b.Zc(1,U,4,7,"button",10),b.Zc(2,$,4,7,"button",11),b.ec()),2&e){var n=b.tc(2).$implicit;b.Lb(1),b.Ac("ngIf",n&&n.state&&!n.state.open),b.Lb(1),b.Ac("ngIf",n&&n.state&&n.state.open)}}function K(e,t){if(1&e&&(b.dc(0),b.ac(1,"img",16),b.cc()),2&e){var n=b.tc(2).$implicit,i=b.tc(2);b.Lb(1),b.Ac("src",i.getImage(n),b.Uc)("alt",i.getAltText(n))}}function W(e,t){1&e&&b.bc(0)}function q(e,t){1&e&&b.bc(0)}var X=function(e){return{$implicit:e}};function J(e,t){if(1&e&&(b.dc(0),b.Zc(1,q,1,0,"ng-container",3),b.cc()),2&e){var n=b.tc(2).$implicit,i=b.tc(2),a=b.Pc(3);b.Lb(1),b.Ac("ngTemplateOutlet",a)("ngTemplateOutletContext",b.Gc(2,X,i.getChildNodes(n)))}}var G=function(e,t,n){return{"tree-node-selected":e,"tree-branch":t,"index-border":n}},Y=function(e){return{showBorder:e}};function ee(e,t){if(1&e){var n=b.gc();b.fc(0,"div",6),b.pc("click",function(e){b.Rc(n);var t=b.tc().$implicit;return b.tc(2).selectNode(e,t)}),b.fc(1,"div",7),b.Zc(2,Q,3,2,"span",8),b.ec(),b.Zc(3,K,2,2,"ng-container",8),b.fc(4,"div",9),b.Zc(5,W,1,0,"ng-container",3),b.ec(),b.Zc(6,J,2,4,"ng-container",8),b.ec()}if(2&e){var i=b.tc().$implicit,a=b.tc(2);b.Ac("ngClass",b.Ic(9,G,a.selectedNode&&a.selectedNode.id===i.id,a.showBranch,i&&i.state&&i.state.open)),b.Mb("aria-expanded",i.expanded)("id",i.id?i.id:null),b.Lb(2),b.Ac("ngIf",i&&a.hasChildren(i)),b.Lb(1),b.Ac("ngIf",a.getFieldType),b.Lb(1),b.Ac("ngClass",b.Gc(13,Y,i.state.open&&a.getChildNodes(i)&&a.getChildNodes(i).length>0)),b.Lb(1),b.Ac("ngTemplateOutlet",a.treeNodeTemplate)("ngTemplateOutletContext",b.Gc(15,X,i)),b.Lb(1),b.Ac("ngIf",i&&i.state&&i.state.open)}}function te(e,t){if(1&e&&(b.dc(0),b.Zc(1,ee,7,17,"div",5),b.cc()),2&e){var n=t.$implicit,i=b.tc(2);b.Lb(1),b.Ac("ngIf",i.getNodeVisibility(n))}}function ne(e,t){1&e&&b.Zc(0,te,2,1,"ng-container",4),2&e&&b.Ac("ngForOf",t.$implicit)}function ie(e,t){1&e&&b.bc(0)}var ae,ce=function(e,t){return{height:e,width:t,overflow:"hidden","padding-left":"2px"}},re=function(e){return{"compact-view":e}},oe=((ae=function(){function e(t,i,a){var c=this;n(this,e),this.cd=t,this.translate=i,this.sharedMessageService=a,this.childKey="children",this.enableCompactView=!0,this.nodeExpanded=new b.p,this.allNodeExpanded=new b.p,this.nodeCollapsed=new b.p,this.nodeSelected=new b.p,this.afterViewInit=new b.p,this.nodeCollapseStart=new b.p,this.changesEvent=new b.p,this.filterNodesEvent=new b.p,this.compactView=!0,this.treeData=[],this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(function(e){e&&"change-locale"===e.data.action&&c.translate.use(e.data.data.locale)})}return a(e,[{key:"ngOnInit",value:function(){this.treeData=this.input,this._setState(this.treeData,null,!1)}},{key:"ngAfterViewInit",value:function(){var e=this;this.afterViewInit.emit(this),setTimeout(function(){e.cd.detectChanges()},300)}},{key:"_setState",value:function(e,t,n){e.forEach(function(e,i){e.state=n?{open:!1}:e.state?e.state:{open:!1},e.index=i,e.parentIndex=t})}},{key:"ngOnChanges",value:function(e){e.input&&(this.treeData=e.input.currentValue,this._setState(this.treeData,null,!1)),this.changesEvent.emit(this)}},{key:"__getNodeIndex",value:function(e){return this.treeData.indexOf(e.id)}},{key:"expandNode",value:function(e,t,n){var i=this;if(t&&t.stopPropagation(),!e)return null;e.state=e.state?e.state:{},e.state.open=!0,this.nodeExpanded&&(!0===n||setTimeout(function(){i.nodeExpanded.emit(e);var t=document.getElementById("collapseTreeNode_"+e.path);t&&t.focus()},100))}},{key:"getChildNodes",value:function(e){var t=this.getChildren(e);return this._setState(t,e.index,!1),t}},{key:"collapseNode",value:function(e,t){var n=this;if(this.nodeCollapseStart&&this.nodeCollapseStart.emit(e),t&&t.stopPropagation(),!e)return null;e.state.open=!1,this.nodeCollapsed&&setTimeout(function(){n.nodeCollapsed.emit(e);var t=document.getElementById("expandTreeNode_"+e.path);t&&t.focus()},100)}},{key:"selectNode",value:function(e,t){this.selectedNode=t,this.nodeSelected&&this.nodeSelected.emit(t)}},{key:"toggleNode",value:function(e){e.state.open?this.collapseNode(e):this.expandNode(e)}},{key:"focusHandler",value:function(e,t,n){0===n&&(this.selectedNode=t)}},{key:"enterKeyHandler",value:function(e,t,n){t.state.open?this.collapseNode(t,e):this.expandNode(t,e)}},{key:"getIcon",value:function(e){var t="";if(this.getFieldType){var n=this.getFieldType(e);t=F[n]?F[n].icon:""}return t}},{key:"getIconBackground",value:function(e){var t="";if(this.getFieldType){var n=this.getFieldType(e);t=F[n]?F[n].bgColor:""}return t}},{key:"getImage",value:function(e){var t="";if(this.getFieldType){var n=this.getFieldType(e);t=this.isList(e)?N[n]?N[n].dataTypeImage:"":B[n]?B[n].dataTypeImage:""}return t}},{key:"getAltText",value:function(e){var t="serviceinput.data.type.unknown";if(this.getFieldType){var n=this.getFieldType(e);t=this.isList(e)?N[n]?N[n].altText:"":B[n]?B[n].altText:""}return this.translate.instant(t)}},{key:"expandAll",value:function(e,t){var n=this;this.__expandedNodes(this.treeData,e,t),this.cd.detectChanges(),this.allNodeExpanded&&setTimeout(function(){n.allNodeExpanded.emit()},100)}},{key:"expandToLevel",value:function(e,t){this.__expandedNodes(this.treeData,t,null,e),this.cd.detectChanges()}},{key:"__expandedNodes",value:function(e,t,n,i){var a=this,c=!1,r=null;e.forEach(function(e){t?e[t]&&(c=!0,r=e[t]):(c=a.hasChildren(e),r=a.getChildNodes(e)),c&&(!i||i&&i>e.index?(a.expandNode(e,!1,n),a.__expandedNodes(r,t,n,i)):a.collapseNode(e))})}},{key:"setData",value:function(e){this.treeData=e,this._setState(this.treeData,null,!1),this.cd.detectChanges()}},{key:"filterNodes",value:function(e,t,n,i){this.searchText=e,this.searchKey=t,this.childKey=n,this.secondarySearchKey=i,this.cd.detectChanges(),this.filterNodesEvent.emit()}},{key:"_filterData",value:function(e,t,n,i,a){var c=this;return e.filter(function(e){return e[i]&&(e[i]=c._filterData(e[i],t,n,i,a),e.state={open:!0},e[i].length>0&&c._updateNodeState(c.treeData,e,i)),a?e[n].toLowerCase().includes(t.toLowerCase())||e[a].toLowerCase().includes(t.toLowerCase())||e[i]&&e[i].length>0:e[n].toLowerCase().includes(t.toLowerCase())||e[i]&&e[i].length>0})}},{key:"_updateNodeState",value:function(e,t,n){var i=A.find(e,{field_name:t.field_name});i&&(i.state={open:!0},t[n].length>0&&t[n].forEach(function(e){if(e[n]){var t=A.find(i[n],{field_name:e.field_name});t&&(t.state={open:!0})}}))}},{key:"getNodeVisibility",value:function(e){var t=this.searchText,n=this.childKey,i=this.searchKey,a=A.cloneDeep(e[n]),c=!0;return this.isNodeVisible&&(c=this.isNodeVisible(e)),this.searchText&&c?(a&&Array.isArray(a)&&(a=this._filterData(a,t,i,n,this.secondarySearchKey),e.state={open:!0}),e[i].toLowerCase().includes(t.toLowerCase())||a&&a.length>0):c}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||ae)(b.Zb(b.h),b.Zb(d.d),b.Zb(y.A))},ae.\u0275cmp=b.Tb({type:ae,selectors:[["svc-tree"]],contentQueries:function(e,t,n){var i;1&e&&b.Sb(n,b.T,1),2&e&&b.Oc(i=b.qc())&&(t.treeNodeTemplate=i.first)},viewQuery:function(e,t){var n;1&e&&b.hd(z,1),2&e&&b.Oc(n=b.qc())&&(t.treeNode=n.first)},inputs:{input:"input",height:"height",hasChildren:"hasChildren",getChildren:"getChildren",getNodeId:"getNodeId",getFieldType:"getFieldType",isList:"isList",isNodeVisible:"isNodeVisible",showBranch:"showBranch",showBorder:"showBorder",width:"width",selectedNode:"selectedNode",childKey:"childKey",enableCompactView:"enableCompactView"},outputs:{nodeExpanded:"nodeExpanded",allNodeExpanded:"allNodeExpanded",nodeCollapsed:"nodeCollapsed",nodeSelected:"nodeSelected",afterViewInit:"afterViewInit",nodeCollapseStart:"nodeCollapseStart",changesEvent:"changesEvent",filterNodesEvent:"filterNodesEvent"},features:[b.Jb],decls:5,vars:11,consts:[[1,"tree",3,"ngStyle","ngClass"],["treeNode",""],["recursiveList",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf"],["class","tree-node",3,"ngClass","click",4,"ngIf"],[1,"tree-node",3,"ngClass","click"],[1,"tree-icon-container"],[4,"ngIf"],[1,"tree-context",3,"ngClass"],["tabIndex","0","type","button","pButton","","class","dlt-button dlt-button-icon btn-1tree","showDelay","250",3,"id","pTooltip","keydown.arrowright","click",4,"ngIf"],["tabIndex","0","type","button","pButton","","class","dlt-button dlt-button-icon btn-1tree","showDelay","250",3,"id","pTooltip","keydown.arrowleft","click",4,"ngIf"],["tabIndex","0","type","button","pButton","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1tree",3,"id","pTooltip","keydown.arrowright","click"],[1,"dlt-icon-caret-right","dlg-icon-btn","dlt-icon"],["tabIndex","0","type","button","pButton","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1tree",3,"id","pTooltip","keydown.arrowleft","click"],[1,"dlt-icon-caret-down","dlg-icon-btn","dlt-icon"],["tabindex","-1",1,"type-icon",3,"src","alt"]],template:function(e,t){if(1&e&&(b.fc(0,"div",0,1),b.Zc(2,ne,1,1,"ng-template",null,2,b.ad),b.Zc(4,ie,1,0,"ng-container",3),b.ec()),2&e){var n=b.Pc(3);b.Ac("ngStyle",b.Hc(4,ce,t.height,t.width))("ngClass",b.Gc(7,re,t.enableCompactView&&t.compactView)),b.Lb(4),b.Ac("ngTemplateOutlet",n)("ngTemplateOutletContext",b.Gc(9,X,t.treeData))}},directives:[g.o,g.l,g.s,g.m,g.n,_.a],pipes:[d.c],styles:['.tree[_ngcontent-%COMP%]{overflow:auto;position:relative}.tree-node[_ngcontent-%COMP%]{outline:0;padding-bottom:4px;white-space:nowrap}.tree-node[_ngcontent-%COMP%]   .tree-node[_ngcontent-%COMP%]{margin:0 1rem}.tree-branch[_ngcontent-%COMP%]{border-left:1px solid #e5e5e4;position:relative;margin:0 .5rem;padding-left:0}.tree-branch[_ngcontent-%COMP%]   .tree-branch[_ngcontent-%COMP%]{margin:0 0 0 1.88rem}.tree-branch[_ngcontent-%COMP%]   .tree-icon-container[_ngcontent-%COMP%]{margin-left:-8px;position:absolute;left:0;padding:11px 4px 0 0;color:#a5a4a4}.tree-branch[_ngcontent-%COMP%]   .tree-icon-container[_ngcontent-%COMP%]   .tree-icon[_ngcontent-%COMP%]:before{background:#fff}.tree-branch[_ngcontent-%COMP%]:before{position:relative;top:-.2rem;height:1.6rem;width:1.2rem;color:#fff;border-bottom:1px solid #e5e5e4;border-top:0 transparent;border-right:0 transparent;border-radius:0 0 0 8px;content:"";display:inline-block;left:-1px;vertical-align:top}.tree-branch[_ngcontent-%COMP%]:first-child:before{border-left:1px solid #fff!important;border-radius:0}.tree-branch[_ngcontent-%COMP%]:last-child{border-left:1px solid transparent;padding-bottom:0}.tree-branch[_ngcontent-%COMP%]:last-child:before{border-left:1px solid #e5e5e4}.tree-branch[_ngcontent-%COMP%]:last-child   .type-icon[_ngcontent-%COMP%]{margin-left:1px}.tree-context[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-bottom;padding-top:10px}.tree-icon-container[_ngcontent-%COMP%]{width:.8rem;color:#1776bf}.tree-icon-container[_ngcontent-%COMP%], .type-icon[_ngcontent-%COMP%]{display:inline-block;padding:0;vertical-align:top}.type-icon[_ngcontent-%COMP%]{border-radius:0 6px 6px 0;margin-top:12px;margin-right:13px;min-width:16px;text-align:center;font-family:Roboto,Helvetica,Arial,sans-serif;font-size:12px;color:#686868}.tree-icon[_ngcontent-%COMP%]{cursor:pointer}button.btn-1tree[_ngcontent-%COMP%]{margin-top:-8px;margin-left:-3px;margin-right:0;font-size:1.25rem;font-weight:400;vertical-align:middle;background-color:transparent;border-color:transparent;background-repeat:no-repeat;-webkit-box-shadow:none;-moz-box-shadow:none;width:22px;height:22px}',".tree.compact-view[_ngcontent-%COMP%]{padding-left:3px}.tree.compact-view[_ngcontent-%COMP%]   .tree-node[_ngcontent-%COMP%]{padding-bottom:0}.tree.compact-view[_ngcontent-%COMP%]   .tree-branch[_ngcontent-%COMP%]   .tree-icon-container[_ngcontent-%COMP%]{padding:5px 4px 0 0}.tree.compact-view[_ngcontent-%COMP%]   .tree-branch[_ngcontent-%COMP%]:before{height:1.15rem}.tree.compact-view[_ngcontent-%COMP%]   .type-icon[_ngcontent-%COMP%]{margin-top:5px}.tree.compact-view[_ngcontent-%COMP%]   .tree-context[_ngcontent-%COMP%]{padding-top:3px}"],changeDetection:0}),ae),se=c("y1st"),le=c("s7LF"),de=["inputRef"];function ue(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"textarea",8,9),b.pc("change",function(e){b.Rc(n);var t=b.tc(2);return t.inputChangeHandler(e,t.node)})("blur",function(e){return b.Rc(n),b.tc(2).blurHandler(e)}),b.uc(3,"translate"),b.bd(4,"        "),b.ec(),b.cc()}if(2&e){var i=b.tc(2);b.Lb(1),b.Bc("cols",i.numCols),b.Bc("placeholder",b.vc(3,4,"serviceinput.enter.value.placeholder")),b.Cc("id","dataValue_",i.node.path,""),b.Ac("value",i.value?i.value:"")}}function he(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"input",10,9),b.pc("change",function(e){b.Rc(n);var t=b.tc(3);return t.inputChangeHandler(e,t.node)})("blur",function(e){return b.Rc(n),b.tc(3).blurHandler(e)}),b.uc(3,"translate"),b.ec(),b.cc()}if(2&e){var i=b.tc(3);b.Lb(1),b.Bc("placeholder",b.vc(3,3,"serviceinput.enter.value.placeholder")),b.Cc("id","dataValue_",i.node.path,""),b.Ac("value",i.value?i.value:"")}}function fe(e,t){if(1&e&&b.Zc(0,he,4,5,"ng-container",4),2&e){b.tc();var n=b.Pc(7),i=b.tc();b.Ac("ngIf",i.node.node_hints&&"true"===i.node.node_hints.field_password)("ngIfElse",n)}}function ge(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"p-dropdown",11,9),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc(3).picklistVal=e})("onChange",function(e){b.Rc(n);var t=b.tc(3);return t.inputChangeHandler(e,t.node)})("onBlur",function(e){return b.Rc(n),b.tc(3).blurHandler(e)}),b.uc(3,"translate"),b.ec(),b.cc()}if(2&e){var i=b.tc(3);b.Lb(1),b.Bc("placeholder",b.vc(3,9,"serviceinput.select.value.placeholder")),b.Cc("id","pickListVal_",i.node.path,""),b.Cc("inputId","dataValue_",i.node.path,""),b.Ac("options",i.pickListItems)("ngModel",i.picklistVal)("editable",i.node.node_hints&&"true"==i.node.node_hints.field_usereditable)("virtualScroll",!0)("autoZIndex",!0)("showClear",!0)}}function pe(e,t){if(1&e&&b.Zc(0,ge,4,11,"ng-container",4),2&e){b.tc();var n=b.Pc(9),i=b.tc();b.Ac("ngIf",i.pickListItems&&i.pickListItems.length>0&&i.node.field_options&&i.node.field_options.length>0)("ngIfElse",n)}}function ve(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"textarea",12,9),b.pc("change",function(e){b.Rc(n);var t=b.tc(2);return t.inputChangeHandler(e,t.node)})("blur",function(e){return b.Rc(n),b.tc(2).blurHandler(e)}),b.uc(3,"translate"),b.bd(4,"          "),b.ec(),b.cc()}if(2&e){var i=b.tc(2);b.Lb(1),b.Bc("cols",i.numCols),b.Bc("placeholder",b.vc(3,4,"serviceinput.enter.value.placeholder")),b.Cc("id","dataValue_",i.node.path,""),b.Ac("value",i.value?i.value:"")}}function me(e,t){if(1&e&&(b.dc(0),b.fc(1,"div",2,3),b.Zc(3,ue,5,6,"ng-container",4),b.Zc(4,fe,1,2,"ng-template",null,5,b.ad),b.Zc(6,pe,1,2,"ng-template",null,6,b.ad),b.Zc(8,ve,5,6,"ng-template",null,7,b.ad),b.ec(),b.cc()),2&e){var n=b.Pc(5),i=b.tc();b.Lb(3),b.Ac("ngIf",i.node.node_hints&&"true"===i.node.node_hints.field_largerEditor)("ngIfElse",n)}}function be(e,t){if(1&e){var n=b.gc();b.fc(0,"input",22,9),b.pc("keypress",function(e){return b.Rc(n),b.tc(2).keyPressForInteger(e)})("input",function(e){b.Rc(n);var t=b.tc(2);return t.inputChangeHandler(e,t.node)})("blur",function(e){return b.Rc(n),b.tc(2).blurHandler(e)}),b.uc(2,"translate"),b.ec()}if(2&e){var i=b.tc(2);b.Bc("placeholder",b.vc(2,3,"serviceinput.enter.value.placeholder")),b.Cc("id","dataValue_",i.node.path,""),b.Ac("value",i.value?i.value:"")}}function ye(e,t){if(1&e){var n=b.gc();b.fc(0,"input",23,9),b.pc("keypress",function(e){return b.Rc(n),b.tc(2).keyPressForFloat(e)})("input",function(e){b.Rc(n);var t=b.tc(2);return t.inputChangeHandler(e,t.node)})("blur",function(e){return b.Rc(n),b.tc(2).blurHandler(e)}),b.uc(2,"translate"),b.ec()}if(2&e){var i=b.tc(2);b.Bc("placeholder",b.vc(2,3,"serviceinput.enter.value.placeholder")),b.Cc("id","dataValue_",i.node.path,""),b.Ac("value",i.value?i.value:"")}}function Ce(e,t){if(1&e){var n=b.gc();b.fc(0,"input",23,9),b.pc("keypress",function(e){return b.Rc(n),b.tc(2).keyPressForFloat(e)})("input",function(e){b.Rc(n);var t=b.tc(2);return t.inputChangeHandler(e,t.node)})("blur",function(e){return b.Rc(n),b.tc(2).blurHandler(e)}),b.uc(2,"translate"),b.ec()}if(2&e){var i=b.tc(2);b.Bc("placeholder",b.vc(2,3,"serviceinput.enter.value.placeholder")),b.Cc("id","dataValue_",i.node.path,""),b.Ac("value",i.value?i.value:"")}}function Se(e,t){if(1&e){var n=b.gc();b.fc(0,"input",24,9),b.pc("keypress",function(e){return b.Rc(n),b.tc(2).keyPressForInteger(e)})("input",function(e){b.Rc(n);var t=b.tc(2);return t.inputChangeHandler(e,t.node)})("blur",function(e){return b.Rc(n),b.tc(2).blurHandler(e)}),b.uc(2,"translate"),b.ec()}if(2&e){var i=b.tc(2);b.Bc("placeholder",b.vc(2,3,"serviceinput.enter.value.placeholder")),b.Cc("id","dataValue_",i.node.path,""),b.Ac("value",i.value?i.value:"")}}function xe(e,t){if(1&e){var n=b.gc();b.fc(0,"input",25,9),b.pc("keypress",function(e){return b.Rc(n),b.tc(2).keyPressForInteger(e)})("input",function(e){b.Rc(n);var t=b.tc(2);return t.inputChangeHandler(e,t.node)})("blur",function(e){return b.Rc(n),b.tc(2).blurHandler(e)}),b.uc(2,"translate"),b.ec()}if(2&e){var i=b.tc(2);b.Bc("placeholder",b.vc(2,3,"serviceinput.enter.value.placeholder")),b.Cc("id","dataValue_",i.node.path,""),b.Ac("value",i.value?i.value:"")}}function Te(e,t){if(1&e){var n=b.gc();b.fc(0,"input",26,9),b.pc("change",function(e){b.Rc(n);var t=b.tc(2);return t.inputChangeHandler(e,t.node)})("blur",function(e){return b.Rc(n),b.tc(2).blurHandler(e)}),b.uc(2,"translate"),b.ec()}if(2&e){var i=b.tc(2);b.Bc("placeholder",b.vc(2,3,"serviceinput.enter.value.placeholder")),b.Cc("id","dataValue_",i.node.path,""),b.Ac("value",i.value?i.value:"")}}function we(e,t){if(1&e){var n=b.gc();b.fc(0,"input",27,9),b.pc("change",function(e){b.Rc(n);var t=b.tc(2);return t.inputChangeHandler(e,t.node)})("blur",function(e){return b.Rc(n),b.tc(2).blurHandler(e)}),b.uc(2,"translate"),b.ec()}if(2&e){var i=b.tc(2);b.Bc("placeholder",b.vc(2,3,"serviceinput.enter.value.placeholder")),b.Cc("id","dataValue_",i.node.path,""),b.Ac("value",i.byteVal?i.byteVal:"")}}function Le(e,t){if(1&e&&b.ac(0,"input",28,9),2&e){var n=b.tc(2);b.Cc("id","dataValue_",n.node.path,""),b.Ac("value",n.value?n.value:"")}}function ke(e,t){if(1&e){var n=b.gc();b.fc(0,"div",29),b.fc(1,"p-dropdown",30,9),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc(2).booleanVal=e})("onChange",function(e){b.Rc(n);var t=b.tc(2);return t.inputChangeHandler(e,t.node)}),b.uc(3,"translate"),b.ec(),b.ec()}if(2&e){var i=b.tc(2);b.Lb(1),b.Bc("placeholder",b.vc(3,8,"serviceinput.select.value.placeholder")),b.Cc("id","booleanVal_",i.node.path,""),b.Cc("inputId","dataValue_",i.node.path,""),b.Ac("options",i.booleanVals)("ngModel",i.booleanVal)("editable",!1)("autoZIndex",!0)("showClear",!0)}}function Ie(e,t){if(1&e&&(b.dc(0),b.bd(1),b.uc(2,"preferredDateTime"),b.cc()),2&e){var n=b.tc(3);b.Lb(1),b.dd(" ",b.xc(2,1,n.dateDVal,n.preferencesService,n.dateTimePreferenceService)," ")}}function Me(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"div",31),b.Zc(2,Ie,3,5,"ng-container",32),b.ec(),b.fc(3,"button",33),b.pc("showDaterangepicker",function(e){return b.Rc(n),b.tc(2).showDaterangepicker(e)})("applyDaterangepicker",function(e){b.Rc(n);var t=b.tc(2);return t.inputChangeHandler(e,t.node)})("change",function(e){b.Rc(n);var t=b.tc(2);return t.changeDaterangepicker(e,t.node)}),b.uc(4,"translate"),b.uc(5,"translate"),b.ac(6,"i",34),b.ec(),b.fc(7,"button",35),b.pc("click",function(e){b.Rc(n);var t=b.tc(2);return t.clearDateVal(e,t.node)}),b.uc(8,"translate"),b.uc(9,"translate"),b.ac(10,"i",36),b.ec(),b.cc()}if(2&e){var i=b.tc(2);b.Lb(2),b.Ac("ngIf",i.dateDVal),b.Lb(1),b.Cc("id","svcInputCalendar_",i.node.path,""),b.Bc("pTooltip",b.vc(4,9,"serviceinput.date.selection.button")),b.Bc("value",i.dateDVal),b.Ac("options",i.dateOptions),b.Mb("aria-label",b.vc(5,11,"serviceinput.date.selection.button")),b.Lb(4),b.Cc("id","clearCalendarDate_",i.node.path,""),b.Bc("pTooltip",b.vc(8,13,"serviceinput.date.clear.button")),b.Mb("aria-label",b.vc(9,15,"serviceinput.date.clear.button"))}}function Oe(e,t){if(1&e&&(b.dc(0),b.fc(1,"div",13),b.Zc(2,be,3,5,"input",14),b.Zc(3,ye,3,5,"input",15),b.Zc(4,Ce,3,5,"input",15),b.Zc(5,Se,3,5,"input",16),b.Zc(6,xe,3,5,"input",17),b.Zc(7,Te,3,5,"input",18),b.Zc(8,we,3,5,"input",19),b.Zc(9,Le,2,2,"input",20),b.Zc(10,ke,4,10,"div",21),b.Zc(11,Me,11,17,"ng-container",1),b.ec(),b.cc()),2&e){var n=b.tc();b.Lb(1),b.Ac("ngSwitch",n.node.wrapper_type),b.Lb(1),b.Ac("ngSwitchCase","java.lang.Integer"),b.Lb(1),b.Ac("ngSwitchCase","java.lang.Float"),b.Lb(1),b.Ac("ngSwitchCase","java.lang.Double"),b.Lb(1),b.Ac("ngSwitchCase","java.lang.Long"),b.Lb(1),b.Ac("ngSwitchCase","java.lang.Short"),b.Lb(1),b.Ac("ngSwitchCase","java.lang.Character"),b.Lb(1),b.Ac("ngSwitchCase","java.lang.Byte"),b.Lb(1),b.Ac("ngSwitchCase","byte []"),b.Lb(1),b.Ac("ngSwitchCase","java.lang.Boolean"),b.Lb(1),b.Ac("ngSwitchCase","java.util.Date")}}var _e,Pe,De=((Pe=function(){function e(t,i,a,c,r,o,s){var l=this;n(this,e),this.datePipe=t,this.route=i,this.router=a,this.translate=c,this.sharedMessageService=r,this.toastr=o,this.preferencesService=s,this.inputChange=new b.p,this.focusOut=new b.p,this.dateOptions={singleDatePicker:!0,timePicker:!0,timePicker24Hour:!0,timePickerSeconds:!0,showCustomRangeLabel:!1,showDropdowns:!0,autoUpdateInput:!1,startDate:x(),endDate:x()},this.booleanVal="",this.byteVal="",this.fromFormat="EEE MMM dd hh:mm:ss zzzz yyyy",this.toFormat="M/d/yyyy HH:mm:ss",this.picklistVal="",this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(function(e){e&&"change-locale"===e.data.action&&l.translate.use(e.data.data.locale)}),this.substitutionComp=!1,this.booleanVals=[{label:"false",value:"false"},{label:"true",value:"true"}]}return a(e,[{key:"ngOnInit",value:function(){if(this.numCols||(this.numCols=100),this.node.field_options&&this.node.field_options.length>0){this.pickListItems=new Array(this.node.field_options.length);for(var e=0;e<this.node.field_options.length;e++){var t=this.node.field_options[e];this.pickListItems[e]={label:t,value:t,title:t}}}this.handleSpecialTypes()}},{key:"ngAfterViewInit",value:function(){this.makeComponentsAccessible()}},{key:"ngOnChanges",value:function(e){e&&null!=e.value&&e.value.currentValue&&(!0!==e.value.firstChange||"null"!==e.value.currentValue||e.value.perviousValue?(this.value=e.value.currentValue,this.handleSpecialTypes()):this.value=null)}},{key:"handleSpecialTypes",value:function(){if("object"===this.node.field_type){if("java.util.Date"===this.node.wrapper_type)null!=this.value?(this.dateDVal=this.value,this.dateOptions.startDate=this.clonedDateTime(this.dateDVal),this.dateOptions.endDate=this.dateOptions.startDate):(this.dateOptions.startDate=x(),this.dateOptions.endDate=this.dateOptions.startDate);else if("java.lang.Boolean"===this.node.wrapper_type)this.booleanVal=!0===this.value||!1===this.value?String(this.value):this.value;else if("java.lang.Byte"===this.node.wrapper_type&&null!=this.value)if(this.value+="",1===this.value.indexOf("x")||1===this.value.indexOf("o")){var e=H.parseByteValue(this.value);if(null!=e){var t=H.specialByteFormat(e);this.byteVal=t}}else if(!isNaN(this.value)){var n=parseInt(this.value,10).toString(16);null!=n&&(this.byteVal=H.specialByteFormat(n))}}else this.node.field_options&&this.node.field_options.length>0&&this.value&&(this.picklistVal=this.value)}},{key:"makeComponentsAccessible",value:function(){var e=this;setTimeout(function(){var t=document.getElementById("booleanVal_"+e.node.path);t&&y.J.makeDropdownAccessible(t,e.translate.instant("serviceinput.select.value.placeholder")),(t=document.getElementById("pickListVal_"+e.node.path))&&y.J.makeDropdownAccessible(t,e.translate.instant("serviceinput.select.value.placeholder"))},200)}},{key:"showPlaceHolder",value:function(){var e=!0;return this.value&&this.value.length>0?e=!1:"object"===this.node.field_type&&("java.lang.Boolean"===this.node.wrapper_type?"true"!==this.value&&"false"!==this.value||(e=!1):this.value&&(e=!1)),e}},{key:"setValue",value:function(e,t){this.itemIndexToEdit>-1?(this.node.value[this.itemIndexToEdit]=t,e.value[this.itemIndexToEdit]=this.node.value[this.itemIndexToEdit]):(this.node.value=t,e.value=this.node.value)}},{key:"inputChangeHandler",value:function(e,t){if("object"===this.node.field_type)if("java.util.Date"===this.node.wrapper_type){var n=null;e.picker&&(n=e.picker),n&&n.startDate&&n.startDate._d&&(this.dateDVal=Date.parse(n.startDate._d),this.setValue(t,this.dateDVal))}else if("java.lang.Boolean"===this.node.wrapper_type){null==e.value&&null!=e.originalEvent&&(e=e.originalEvent),this.value=""===e.value?null:!0===e.value||!1===e.value?String(this.booleanVal):"true"===e.value||"false"===e.value?this.booleanVal:null;var i=this.value;null!=this.value&&(i=JSON.parse(this.value)),this.setValue(t,i)}else"java.lang.Byte"===this.node.wrapper_type&&this.blurHandler(e);else this.node.field_options&&this.node.field_options.length>0&&(e.value||e.originalEvent&&(e=e.originalEvent),this.value=e.value&&e.value.length>0?this.picklistVal:null,this.setValue(t,this.value));this.inputChange.emit({event:e,node:t})}},{key:"keyPressForFloat",value:function(e){var t=String.fromCharCode(e.keyCode);/[0-9\e\E\+\-\.\ ]/.test(t)||e.preventDefault()}},{key:"keyPressForInteger",value:function(e){var t=String.fromCharCode(e.keyCode);/[0-9\+\-\ ]/.test(t)||e.preventDefault()}},{key:"focusInput",value:function(){var e=this;setTimeout(function(){e.inputRef&&e.inputRef.nativeElement&&e.inputRef.nativeElement.focus()})}},{key:"blurHandler",value:function(e){var t=this,n=null;if(e.target&&e.target.value&&"object"===this.node.field_type)if("java.lang.Short"===this.node.wrapper_type)n=H.validateShort(e.target.value,this.translate);else if("java.lang.Integer"===this.node.wrapper_type)n=H.validateInteger(e.target.value,this.translate);else if("java.lang.Long"===this.node.wrapper_type)n=H.validateLong(e.target.value,this.translate);else if("java.lang.Double"===this.node.wrapper_type)n=H.validateDouble(e.target.value,this.translate);else if("java.lang.Float"===this.node.wrapper_type)n=H.validateFloat(e.target.value,this.translate);else if("java.util.Date"===this.node.wrapper_type)n=H.validateDate(e.target.value,this.translate);else if("java.lang.Character"===this.node.wrapper_type)n=H.validateCharacter(e.target.value,this.translate);else if("java.lang.Byte"===this.node.wrapper_type)if(n=H.validateByte(this.node,e.target.value,this.translate));else{var i=H.parseByteValue(e.target.value);if(i){var a=H.specialByteFormat(i);e.target.value=a}}if(n){var c=this.translate.instant("serviceinput.validate.invalid.entry");return this.toastr.error(n,c),void(this.itemIndexToEdit>-1?this.node.value[this.itemIndexToEdit]=e.target.value:"0"===this.node.field_dim&&(this.node.value=e.target.value))}var r=H.getValueBasedOnDataType(this.node,e);"0"===this.node.field_dim&&(this.node.value=r),setTimeout(function(){t.focusOut.emit(e)},100)}},{key:"clearDateVal",value:function(e,t){var n=this;this.dateDVal=void 0,this.setValue(t,null),this.dateOptions.startDate=x(),this.dateOptions.endDate=this.dateOptions.startDate,setTimeout(function(){n.inputChange.emit({event:e,node:t})},100)}},{key:"showDaterangepicker",value:function(e){}},{key:"changeDaterangepicker",value:function(e,t){}},{key:"clonedDateTime",value:function(e){return e?x(e).clone():x(e)}},{key:"removeFocus",value:function(e){this.focusOut.emit(e)}},{key:"browseInputField",value:function(e){}},{key:"modalCloseEvent",value:function(){}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Pe)(b.Zb(g.e),b.Zb(m.a),b.Zb(m.e),b.Zb(d.d),b.Zb(y.A),b.Zb(O.b),b.Zb(f.PreferencesService))},Pe.\u0275cmp=b.Tb({type:Pe,selectors:[["svc-input-control"]],viewQuery:function(e,t){var n;1&e&&b.hd(de,1),2&e&&b.Oc(n=b.qc())&&(t.inputRef=n.first)},inputs:{node:"node",value:"value",itemIndexToEdit:"itemIndexToEdit",numCols:"numCols"},outputs:{inputChange:"inputChange",focusOut:"focusOut"},features:[b.Jb],decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"dlt-form-group","run-input-control"],["inputControlRef",""],[4,"ngIf","ngIfElse"],["passwordField",""],["pickListField",""],["inputField",""],["tabindex","0","rows","6","pInputTextarea","",3,"cols","placeholder","value","id","change","blur"],["inputRef",""],["type","password","required","",1,"dlt-text-input",3,"placeholder","value","id","change","blur"],["appendTo","body","tabIndex","0","dropdownIcon","dlt-icon-caret-down",3,"options","ngModel","editable","placeholder","id","virtualScroll","autoZIndex","inputId","showClear","ngModelChange","onChange","onBlur"],["tabindex","0","rows","1","pInputTextarea","",3,"cols","placeholder","value","id","change","blur"],[1,"dlt-form-group","run-input-control",3,"ngSwitch"],["type","text","required","","maxlength","11","class","dlt-text-input","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",3,"placeholder","value","id","keypress","input","blur",4,"ngSwitchCase"],["type","text","required","","class","dlt-text-input",3,"placeholder","value","id","keypress","input","blur",4,"ngSwitchCase"],["type","text","required","","maxlength","20","class","dlt-text-input","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",3,"placeholder","value","id","keypress","input","blur",4,"ngSwitchCase"],["type","text","required","","maxlength","6","class","dlt-text-input","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",3,"placeholder","value","id","keypress","input","blur",4,"ngSwitchCase"],["type","text","maxlength","1","class","dlt-text-input","required","",3,"placeholder","value","id","change","blur",4,"ngSwitchCase"],["type","text","maxlength","4","class","dlt-text-input","required","",3,"placeholder","value","id","change","blur",4,"ngSwitchCase"],["type","text","class","dlt-text-input","readonly","",3,"value","id",4,"ngSwitchCase"],["class","dlt-switch-item switch-item",4,"ngSwitchCase"],["type","text","required","","maxlength","11","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",1,"dlt-text-input",3,"placeholder","value","id","keypress","input","blur"],["type","text","required","",1,"dlt-text-input",3,"placeholder","value","id","keypress","input","blur"],["type","text","required","","maxlength","20","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",1,"dlt-text-input",3,"placeholder","value","id","keypress","input","blur"],["type","text","required","","maxlength","6","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);",1,"dlt-text-input",3,"placeholder","value","id","keypress","input","blur"],["type","text","maxlength","1","required","",1,"dlt-text-input",3,"placeholder","value","id","change","blur"],["type","text","maxlength","4","required","",1,"dlt-text-input",3,"placeholder","value","id","change","blur"],["type","text","readonly","",1,"dlt-text-input",3,"value","id"],[1,"dlt-switch-item","switch-item"],["appendTo","body","tabIndex","0","dropdownIcon","dlt-icon-caret-down",3,"options","ngModel","placeholder","editable","autoZIndex","id","inputId","showClear","ngModelChange","onChange"],[1,"date-field","form-control"],[4,"ngIf"],["tabindex","0","type","button","pButton","","showDelay","250","daterangepicker","",1,"dlt-button","dlt-button-icon","btn-1",3,"id","pTooltip","options","value","showDaterangepicker","applyDaterangepicker","change"],[1,"dlt-icon-calendar","dlg-icon-btn","dlt-icon"],["tabindex","0","type","button","pButton","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"id","pTooltip","click"],[1,"dlt-icon-close","dlg-icon-btn","dlt-icon-sm"]],template:function(e,t){1&e&&(b.dc(0,0),b.Zc(1,me,10,2,"ng-container",1),b.Zc(2,Oe,12,11,"ng-container",1),b.cc()),2&e&&(b.Ac("ngSwitch",t.node.field_type),b.Lb(1),b.Ac("ngSwitchCase","string"),b.Lb(1),b.Ac("ngSwitchCase","object"))},directives:[g.p,g.q,g.n,se.a,le.n,le.q,f.DaterangePickerComponent,_.a],pipes:[d.c,y.t],styles:[".placeholder[_ngcontent-%COMP%]{color:#666;text-align:left;display:inline-block;margin-left:9px;margin-top:-22px;z-index:1}.date-field[_ngcontent-%COMP%], .placeholder[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:14px}.date-field[_ngcontent-%COMP%]{height:calc(1.6em);padding:0 .5rem;display:block;background-color:#eaeaea}textarea[_ngcontent-%COMP%]{width:100%;min-height:29px;background-color:#fff;z-index:9999;box-sizing:border-box}"]}),Pe),Ae=((_e=function(){function e(t,i){var a=this;n(this,e),this.sharedMessageService=t,this.translate=i,this.addItem=new b.p,this.deleteItem=new b.p,this.inputChange=new b.p,this.listRowCount=0,this.uid=this.$generateUUID(),this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(function(e){e&&"change-locale"===e.data.action&&a.translate.use(e.data.data.locale)})}return a(e,[{key:"listRowCountChanged",value:function(e){this.inputChange.emit(e)}},{key:"increaseListCount",value:function(e){e&&this.addItem.emit(this.listRowCount+1)}},{key:"decreaseListCount",value:function(e){e&&this.deleteItem.emit(this.listRowCount)}},{key:"addItemHandler",value:function(e){e&&(this.addItem.emit(this.listRowCount+1),this.setRowCount())}},{key:"deleteItemHandler",value:function(e){e&&(this.deleteItem.emit(this.listRowCount),this.setRowCount())}},{key:"setRowCount",value:function(){var e=this;setTimeout(function(){e.listRowCount=e.input&&e.input.length>-1?e.input.length:0},100)}},{key:"ngOnChanges",value:function(){this.setRowCount()}},{key:"$generateUUID",value:function(){return Object(Z.a)()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||_e)(b.Zb(y.A),b.Zb(d.d))},_e.\u0275cmp=b.Tb({type:_e,selectors:[["svc-action-toolbar"]],inputs:{input:"input"},outputs:{addItem:"addItem",deleteItem:"deleteItem",inputChange:"inputChange"},features:[b.Jb],decls:30,vars:36,consts:[[1,"pane"],[1,"tb1"],[1,"td1"],[1,"dlt-form-label","toolbar-label",3,"for"],[1,"dlt-form-group"],["type","number","min","0","max","100",1,"dlt-number-input","spinner1",3,"id","ngModel","size","ngModelChange","change"],[1,"number-controls"],["type","button","showDelay","250",1,"number-step-up",3,"pTooltip","click"],[1,"dlt-icon-caret-up","number-step-up-icon"],["type","button","showDelay","250",1,"number-step-down",3,"pTooltip","click"],[1,"dlt-icon-caret-down","number-step-down-icon"],[1,"td1a"],["tabindex","0","type","button","pButton","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"id","pTooltip","click"],[1,"dlt-icon-row","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-delete","dlg-icon-btn","dlt-icon"]],template:function(e,t){1&e&&(b.fc(0,"div",0),b.fc(1,"table",1),b.fc(2,"tr"),b.fc(3,"td",2),b.fc(4,"label",3),b.bd(5),b.uc(6,"translate"),b.ec(),b.ec(),b.fc(7,"td",2),b.fc(8,"div",4),b.fc(9,"input",5),b.pc("ngModelChange",function(e){return t.listRowCount=e})("change",function(e){return t.listRowCountChanged(e)}),b.uc(10,"translate"),b.ec(),b.fc(11,"div",6),b.fc(12,"button",7),b.pc("click",function(e){return t.increaseListCount(e)}),b.uc(13,"translate"),b.uc(14,"translate"),b.ac(15,"i",8),b.ec(),b.fc(16,"button",9),b.pc("click",function(e){return t.decreaseListCount(e)}),b.uc(17,"translate"),b.uc(18,"translate"),b.ac(19,"i",10),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(20,"td",11),b.fc(21,"button",12),b.pc("click",function(e){return t.addItemHandler(e)}),b.uc(22,"translate"),b.uc(23,"translate"),b.ac(24,"i",13),b.ec(),b.ec(),b.fc(25,"td",11),b.fc(26,"button",12),b.pc("click",function(e){return t.deleteItemHandler(e)}),b.uc(27,"translate"),b.uc(28,"translate"),b.ac(29,"i",14),b.ec(),b.ec(),b.ec(),b.ec(),b.ec()),2&e&&(b.Lb(4),b.Cc("for","pipelineListCountValueInputId_",t.uid,""),b.Lb(1),b.dd(" ",b.vc(6,16,"serviceinput.list.size.caption")," "),b.Lb(4),b.Cc("id","pipelineListCountValueInputId_",t.uid,""),b.Ac("ngModel",t.listRowCount)("size",4),b.Mb("aria-label",b.vc(10,18,"serviceinput.list.size.caption")),b.Lb(3),b.Bc("pTooltip",b.vc(14,22,"common.spinner.increase")),b.Mb("aria-label",b.vc(13,20,"common.spinner.increase")),b.Lb(4),b.Bc("pTooltip",b.vc(18,26,"common.spinner.decrease")),b.Mb("aria-label",b.vc(17,24,"common.spinner.decrease")),b.Lb(5),b.Cc("id","addListRowBtn_",t.uid,""),b.Bc("pTooltip",b.vc(22,28,"serviceinput.list.add.row.end.list.button")),b.Mb("aria-label",b.vc(23,30,"serviceinput.list.add.row.end.list.button")),b.Lb(5),b.Cc("id","removeListRowBtn_",t.uid,""),b.Bc("pTooltip",b.vc(27,32,"serviceinput.list.remove.row.button")),b.Mb("aria-label",b.vc(28,34,"serviceinput.list.remove.row.button")))},directives:[le.s,le.c,le.n,le.q,_.a],pipes:[d.c],styles:[".toolbar-label[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:12px;color:#333;text-align:left;margin-top:10px;margin-right:4px}.toolbar-action-controls[_ngcontent-%COMP%]{padding-top:4px}.spinner1[_ngcontent-%COMP%]{width:4rem;margin-top:5px}table.tb1[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:100%}td.td1[_ngcontent-%COMP%]{padding:0 0 0 3px;margin:0;vertical-align:bottom;vertical-align:middle}td.td1a[_ngcontent-%COMP%]{padding:0;margin:0;vertical-align:bottom;width:100%;text-align:right}span.ar[_ngcontent-%COMP%]{font-weight:800;padding-right:.2rem}div.pane[_ngcontent-%COMP%]{display:inline-block;width:100%;padding-left:.3rem;border-bottom:1px solid grey;background:#eee;height:43px}"]}),_e),Re=["inputRef"];function Ee(e,t){if(1&e){var n=b.gc();b.fc(0,"span",17),b.pc("click",function(){b.Rc(n);var e=b.tc(2).index;return b.tc().editContent(e)}),b.bd(1),b.ec()}if(2&e){var i=b.tc(2),a=i.$implicit,c=i.index,r=b.tc();b.Bc("pTooltip",a),b.Dc("id","listValue_",r.node.path,"_",c,""),b.Lb(1),b.cd(a)}}function Fe(e,t){if(1&e){var n=b.gc();b.fc(0,"span",17),b.pc("click",function(){b.Rc(n);var e=b.tc(2).index;return b.tc().editContent(e)}),b.bd(1),b.ec()}if(2&e){var i=b.tc(2),a=i.$implicit,c=i.index,r=b.tc();b.Bc("pTooltip",a),b.Dc("id","listValue_",r.node.path,"_",c,""),b.Lb(1),b.cd(a)}}function Be(e,t){if(1&e){var n=b.gc();b.fc(0,"span",18),b.pc("click",function(){b.Rc(n);var e=b.tc(2).index;return b.tc().editContent(e)}),b.bd(1),b.uc(2,"translate"),b.ec()}if(2&e){var i=b.tc(2).index,a=b.tc();b.Dc("id","listValue_",a.node.path,"_",i,""),b.Lb(1),b.cd(b.vc(2,3,"serviceinput.select.value.placeholder"))}}function Ne(e,t){if(1&e){var n=b.gc();b.fc(0,"span",19),b.pc("click",function(){b.Rc(n);var e=b.tc(2).index;return b.tc().editContent(e)}),b.uc(1,"preferredDateTime"),b.bd(2),b.uc(3,"preferredDateTime"),b.ec()}if(2&e){var i=b.tc(2).$implicit,a=b.tc();b.Bc("pTooltip",b.xc(1,2,i,a.preferencesService,a.dateTimePreferenceService)),b.Lb(2),b.cd(b.xc(3,6,i,a.preferencesService,a.dateTimePreferenceService))}}function He(e,t){1&e&&(b.fc(0,"span",20),b.uc(1,"translate"),b.bd(2,"xxxxxxxx"),b.ec()),2&e&&b.Bc("pTooltip",b.vc(1,1,"serviceinput.enter.value.placeholder"))}function Ve(e,t){1&e&&(b.fc(0,"span",21),b.bd(1),b.uc(2,"translate"),b.ec()),2&e&&(b.Lb(1),b.cd(b.vc(2,1,"serviceinput.enter.value.placeholder")))}function Ze(e,t){if(1&e&&(b.fc(0,"span"),b.Zc(1,Ee,2,4,"span",12),b.Zc(2,Fe,2,4,"span",12),b.Zc(3,Be,3,5,"span",13),b.Zc(4,Ne,4,10,"span",14),b.Zc(5,He,3,3,"span",15),b.Zc(6,Ve,3,3,"span",16),b.ec()),2&e){var n=b.tc(),i=n.$implicit,a=n.index,c=b.tc();b.Lb(1),b.Ac("ngIf","java.util.Date"!=c.node.wrapper_type&&"java.lang.Boolean"!=c.node.wrapper_type&&i),b.Lb(1),b.Ac("ngIf","java.lang.Boolean"===c.node.wrapper_type&&("true"===i||"false"===i)),b.Lb(1),b.Ac("ngIf","java.lang.Boolean"===c.node.wrapper_type&&null===i),b.Lb(1),b.Ac("ngIf","java.util.Date"===c.node.wrapper_type&&i&&i>0),b.Lb(1),b.Ac("ngIf","java.util.Date"===c.node.wrapper_type&&(!i||0==i)),b.Lb(1),b.Ac("ngIf",c.showPlaceHolder(a))}}function je(e,t){if(1&e){var n=b.gc();b.fc(0,"svc-input-control",22,23),b.pc("inputChange",function(e){b.Rc(n);var t=b.tc().index;return b.tc().onInputChange(e,t)})("focusOut",function(e){return b.Rc(n),b.tc(2).onBlur(e)}),b.ec()}if(2&e){var i=b.tc(),a=i.$implicit,c=i.index,r=b.tc();b.Ac("node",r.node)("value",a)("itemIndexToEdit",c)}}var ze=function(e){return{"item-selected":e}},Ue=function(e){return{"padding-left":e}};function $e(e,t){if(1&e){var n=b.gc();b.fc(0,"li",4),b.pc("keydown.enter",function(){b.Rc(n);var e=t.index;return b.tc().editContent(e)})("click",function(e){b.Rc(n);var i=t.index;return b.tc().selectItem(e,i)}),b.fc(1,"span",5),b.bd(2),b.ec(),b.fc(3,"div",6),b.Zc(4,Ze,7,6,"span",7),b.Zc(5,je,2,3,"ng-template",null,8,b.ad),b.ec(),b.fc(7,"div",9),b.fc(8,"span",10),b.pc("click",function(e){b.Rc(n);var i=t.index;return b.tc().addItem(e,i-1)})("keydown.enter",function(e){b.Rc(n);var i=t.index;return b.tc().addItem(e,i)}),b.uc(9,"translate"),b.uc(10,"translate"),b.ec(),b.fc(11,"span",11),b.pc("click",function(e){b.Rc(n);var i=t.index;return b.tc().deleteItem(e,i)})("keydown.enter",function(e){b.Rc(n);var i=t.index;return b.tc().deleteItem(e,i)}),b.uc(12,"translate"),b.uc(13,"translate"),b.ec(),b.ec(),b.ec()}if(2&e){var i=t.index,a=b.Pc(6),c=b.tc();b.Ac("ngClass",b.Gc(17,ze,c.isItemSelected(i))),b.Lb(2),b.cd(i),b.Lb(1),b.Ac("ngStyle",b.Gc(19,Ue,c.itemIndexToEdit!==i?"23px":"14px")),b.Lb(1),b.Ac("ngIf",c.itemIndexToEdit!==i)("ngIfElse",a),b.Lb(4),b.Bc("pTooltip",b.vc(9,9,"serviceinput.list.insert.row.above.button")),b.Mb("aria-label",b.vc(10,11,"serviceinput.list.insert.row.above.button")),b.Lb(3),b.Bc("pTooltip",b.vc(12,13,"serviceinput.list.remove.row.button")),b.Mb("aria-label",b.vc(13,15,"serviceinput.list.remove.row.button"))}}var Qe,Ke=((Qe=function(){function e(t){n(this,e),this.preferencesService=t,this.updateListValue=new b.p,this.itemIndexToEdit=-1,this.selectedItem=-1}return a(e,[{key:"ngOnInit",value:function(){this.input=this.node.value?A.cloneDeep(this.node.value):[],this.ensureInputIsString(),this.handleSpecialTypes()}},{key:"ngOnChanges",value:function(e){e&&e.value&&e.value.currentValue&&Array.isArray(e.value.currentValue)&&(this.input=e.value.currentValue?A.cloneDeep(e.value.currentValue):[],this.ensureInputIsString(),this.handleSpecialTypes())}},{key:"ensureInputIsString",value:function(){if("java.util.Date"!==this.node.wrapper_type)for(var e=0;e<this.input.length;e++)null!=this.input[e]&&(this.input[e]=""+this.input[e])}},{key:"handleSpecialTypes",value:function(){if("object"===this.node.field_type&&"java.lang.Byte"===this.node.wrapper_type&&this.input&&this.input.length>0)for(var e=0;e<this.input.length;e++)if(null!=this.input[e]&&1===this.input[e].indexOf("x")||null!=this.input[e]&&1===this.input[e].indexOf("o")){var t=H.parseByteValue(this.input[e]);if(null!=t){var n=H.specialByteFormat(t);this.input[e]=n}}else if(null==this.input[e]||isNaN(this.input[e]))"null"===this.input[e]&&(this.input[e]=null);else{var i=parseInt(this.input[e],10).toString(16);null!=i&&(this.input[e]=H.specialByteFormat(i))}}},{key:"showPlaceHolder",value:function(e){var t=!0;return(this.input[e]&&this.input[e].length>0||"object"===this.node.field_type&&("java.util.Date"===this.node.wrapper_type||"java.lang.Boolean"===this.node.wrapper_type||this.input[e]))&&(t=!1),t}},{key:"getValue",value:function(){return this.value}},{key:"updateStringList",value:function(e){var t=parseInt(e.target.value);if(t>this.input.length)for(var n=t-this.input.length,i=0;i<n;i++)this.addListItem(e);else this.input.splice(t,this.input.length-t),this.updateListValue.emit(this.input)}},{key:"addListItem",value:function(e){this.input.push(null),this.updateListValue.emit(this.input)}},{key:"editContent",value:function(e){var t=this;this.selectedItem=e,this.itemIndexToEdit=e,setTimeout(function(){t.inputRef&&t.inputRef.focusInput()},100)}},{key:"removeEdit",value:function(e){this.itemIndexToEdit=-1,this.selectedItem=-1}},{key:"onInputChange",value:function(e,t){var n=this,i=e.event;if(this.input[t]=i.target&&null!=i.target.value?i.target.value:null,"object"===this.node.field_type)if("java.lang.Boolean"===this.node.wrapper_type){if(this.input[t]=null,null!=i.value){this.input[t]=!0===i.value||!1===i.value?JSON.parse(i.value):i.value;var a=this.input[t];null!=this.input[t]&&(a=JSON.parse(this.input[t])),this.node.value[t]=a}setTimeout(function(){n.inputRef.removeFocus(i),n.removeEdit(i)},100)}else if("java.util.Date"===this.node.wrapper_type)this.input[t]=e.node&&e.node.value&&i.picker&&i.picker.startDate&&i.picker.startDate._d?Date.parse(i.picker.startDate._d):null,setTimeout(function(){n.inputRef.removeFocus(i),n.removeEdit(i)},100);else if("java.lang.Byte"===this.node.wrapper_type){if(i&&i.target&&null!=i.target.value){var c=H.parseByteValue(i.target.value);if(null!=c){var r=H.specialByteFormat(c);this.input[t]=r,this.node.value[t]=H.parseByteValue(r)}}else this.input[t]=null;setTimeout(function(){n.removeEdit(i)},100)}else if(H.isNodeNumeric(this.node))for(var o=0;o<this.input.length;o++){var s=+this.input[o];isNaN(this.value)||(this.input[o]=s),this.node.value[o]=this.input[o]}this.updateListValue.emit(this.input),this.editContent(t)}},{key:"addItem",value:function(e,t){this.input.splice(t+1,0,null),this.node.value||(this.node.value=[]),this.node.value.splice(t+1,0,null),this.selectItem(e,t+1),null!=e&&"object"==typeof e&&e.stopPropagation(),this.updateListValue.emit(this.input)}},{key:"deleteItem",value:function(e,t){if(t<0)if(this.selectedItem>-1)t=this.selectedItem;else{if(!(this.input&&this.input.length>0))return;t=this.input.length-1}this.input.splice(t,1),null!=e&&"object"==typeof e&&e.stopPropagation(),this.node.value.splice(t,1),this.removeEdit(e),this.updateListValue.emit(this.input)}},{key:"deleteAllItems",value:function(){this.input=[],this.updateListValue.emit(this.input)}},{key:"selectItem",value:function(e,t){this.selectedItem=t,this.editContent(t)}},{key:"isItemSelected",value:function(e){return this.selectedItem===e}},{key:"onBlur",value:function(e){e&&e.target&&"daterangepicker"===e.target.id||this.removeEdit(e)}}]),e}()).\u0275fac=function(e){return new(e||Qe)(b.Zb(f.PreferencesService))},Qe.\u0275cmp=b.Tb({type:Qe,selectors:[["list-control"]],viewQuery:function(e,t){var n;1&e&&b.hd(Re,1),2&e&&b.Oc(n=b.qc())&&(t.inputRef=n.first)},inputs:{node:"node",value:"value"},outputs:{updateListValue:"updateListValue"},features:[b.Jb],decls:4,vars:2,consts:[[1,"run-list-container"],[3,"input","addItem","deleteItem","inputChange"],[1,"run-list-group"],["class","run-list-item","tabindex","0",3,"ngClass","keydown.enter","click",4,"ngFor","ngForOf"],["tabindex","0",1,"run-list-item",3,"ngClass","keydown.enter","click"],[1,"list-index"],[2,"flex-grow","1",3,"ngStyle"],[4,"ngIf","ngIfElse"],["showControl",""],[1,"action-controls"],["tabindex","0","showDelay","250",1,"run-input-list-addicon","dlt-icon-row",3,"pTooltip","click","keydown.enter"],["tabindex","0","showDelay","250",1,"run-input-list-deleteicon","dlt-icon-delete",3,"pTooltip","click","keydown.enter"],["class","value-txt","showDelay","250",3,"pTooltip","id","click",4,"ngIf"],["class","value-txt",3,"id","click",4,"ngIf"],["class","value-txt","showDelay","250",3,"pTooltip","click",4,"ngIf"],["showDelay","250","class","empty-value-txt",3,"pTooltip",4,"ngIf"],["class","placeholder",4,"ngIf"],["showDelay","250",1,"value-txt",3,"pTooltip","id","click"],[1,"value-txt",3,"id","click"],["showDelay","250",1,"value-txt",3,"pTooltip","click"],["showDelay","250",1,"empty-value-txt",3,"pTooltip"],[1,"placeholder"],[3,"node","value","itemIndexToEdit","inputChange","focusOut"],["inputRef",""]],template:function(e,t){1&e&&(b.fc(0,"div",0),b.fc(1,"svc-action-toolbar",1),b.pc("addItem",function(e){return t.addItem(e,t.input.length-1)})("deleteItem",function(e){return t.deleteItem(e,-1)})("inputChange",function(e){return t.updateStringList(e)}),b.ec(),b.fc(2,"ul",2),b.Zc(3,$e,14,21,"li",3),b.ec(),b.ec()),2&e&&(b.Lb(1),b.Ac("input",t.input),b.Lb(2),b.Ac("ngForOf",t.input))},directives:[Ae,g.m,g.l,g.o,g.n,_.a,De],pipes:[d.c,y.t],styles:[".run-list-container[_ngcontent-%COMP%]{border:1px solid grey;min-width:510px}.run-list-group[_ngcontent-%COMP%]{padding:0;margin:0;margin-top:-6px!important}.list-index[_ngcontent-%COMP%]{padding-top:3px;font-family:Roboto,Helvetica,Arial,sans-serif;font-size:14px;color:#333;text-align:left;line-height:20px}.run-list-item[_ngcontent-%COMP%]{display:flex;padding:.2rem 9px .2rem 19px;height:33px}.run-list-item[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .run-list-item[_ngcontent-%COMP%]   .value-txt[_ngcontent-%COMP%], .run-list-item[_ngcontent-%COMP%]   empty-value-txt[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:14px;color:#666;text-align:left;line-height:20px;display:inline-block;padding-top:3px}.run-list-item[_ngcontent-%COMP%]   .value-txt[_ngcontent-%COMP%]{color:#333;width:80%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;position:absolute}.run-list-item[_ngcontent-%COMP%]   .empty-value-txt[_ngcontent-%COMP%]{background-color:#fff;opacity:0}.run-list-item[_ngcontent-%COMP%]   .run-input-control[_ngcontent-%COMP%]{height:inherit;width:310px}.run-list-item[_ngcontent-%COMP%]   .run-input-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-height:25px}.run-list-item[_ngcontent-%COMP%]:first-child{border-top:1px solid #d8d8d8}.run-list-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #d8d8d8}.run-list-item[_ngcontent-%COMP%]:focus, .run-list-item[_ngcontent-%COMP%]:focus-within, .run-list-item[_ngcontent-%COMP%]:hover{height:100%;min-height:33px}.run-list-item[_ngcontent-%COMP%]:focus-within   .action-controls[_ngcontent-%COMP%], .run-list-item[_ngcontent-%COMP%]:focus   .action-controls[_ngcontent-%COMP%], .run-list-item[_ngcontent-%COMP%]:hover   .action-controls[_ngcontent-%COMP%]{opacity:1}.action-controls[_ngcontent-%COMP%]{opacity:0}.run-input-list-addicon[_ngcontent-%COMP%], .run-input-list-deleteicon[_ngcontent-%COMP%]{cursor:pointer;color:#666;font-size:14px}.action-controls[_ngcontent-%COMP%]   .run-input-list-addicon[_ngcontent-%COMP%]{margin-right:8px}"]}),Qe),We=["stringTableRowCountValueInputSpinner"],qe=["stringTableColCountValueInputSpinner"],Xe=["stringTableContainer"],Je=["inputRef"];function Ge(e,t){if(1&e){var n=b.gc();b.fc(0,"button",14),b.pc("click",function(e){return b.Rc(n),b.tc().expandTable(e)}),b.uc(1,"translate"),b.uc(2,"translate"),b.ac(3,"i",24),b.ec()}if(2&e){var i=b.tc();b.Cc("id","expandStringTableBtn_",i.uid,""),b.Bc("pTooltip",b.vc(1,3,"serviceinput.table.expand.button")),b.Mb("aria-label",b.vc(2,5,"serviceinput.table.expand.button"))}}function Ye(e,t){if(1&e){var n=b.gc();b.fc(0,"button",14),b.pc("click",function(e){return b.Rc(n),b.tc().collapseTable(e)}),b.uc(1,"translate"),b.uc(2,"translate"),b.ac(3,"i",25),b.ec()}if(2&e){var i=b.tc();b.Cc("id","collapseStringTableBtn_",i.uid,""),b.Bc("pTooltip",b.vc(1,3,"serviceinput.table.collapse.button")),b.Mb("aria-label",b.vc(2,5,"serviceinput.table.collapse.button"))}}function et(e,t){1&e&&(b.dc(0),b.ac(1,"tr"),b.cc())}function tt(e,t){if(1&e){var n=b.gc();b.fc(0,"span",35),b.pc("keydown.enter",function(e){b.Rc(n);var t=b.tc().index,i=b.tc().index;return b.tc().selectCell(e,i,t)})("click",function(e){b.Rc(n);var t=b.tc().index,i=b.tc().index;return b.tc().selectCell(e,i,t)}),b.fc(1,"span",36),b.bd(2),b.ec(),b.ec()}if(2&e){var i=b.tc().$implicit,a=b.tc(2);b.Lb(1),b.Xc("width",a.cellValueWidth,"px"),b.Bc("pTooltip",i),b.Lb(1),b.dd(" ",i," ")}}function nt(e,t){if(1&e){var n=b.gc();b.fc(0,"svc-input-control",37,38),b.pc("inputChange",function(e){b.Rc(n);var t=b.tc().index,i=b.tc().index;return b.tc().onInputChange(e,i,t)})("focusOut",function(e){return b.Rc(n),b.tc(3).onBlur(e)}),b.ec()}if(2&e){var i=b.tc(),a=i.index,c=i.$implicit,r=b.tc().index,o=b.tc();b.Ec("id","tableCell_",o.uid,"_",r,"_",a,""),b.Ac("node",o.node)("value",c)}}var it=function(e){return{width:e}},at=function(e){return{"item-selected":e}},ct=function(e){return{"padding-left":e,"max-width":"310px"}};function rt(e,t){if(1&e){var n=b.gc();b.fc(0,"td",27),b.pc("keydown.enter",function(e){b.Rc(n);var i=t.index,a=b.tc().index;return b.tc().selectCell(e,a,i)})("click",function(e){b.Rc(n);var i=t.index,a=b.tc().index;return b.tc().selectCell(e,a,i)}),b.fc(1,"div",28),b.fc(2,"div",29),b.Zc(3,tt,3,4,"span",30),b.Zc(4,nt,2,5,"ng-template",null,31,b.ad),b.ec(),b.fc(6,"div",32),b.fc(7,"span",33),b.pc("click",function(e){b.Rc(n);var t=b.tc().index;return b.tc().addRow(e,t-1)})("keydown.enter",function(e){b.Rc(n);var t=b.tc().index;return b.tc().addRow(e,t,!1)}),b.uc(8,"translate"),b.uc(9,"translate"),b.ec(),b.fc(10,"span",34),b.pc("click",function(e){b.Rc(n);var t=b.tc().index;return b.tc().deleteRow(e,t)})("keydown.enter",function(e){b.Rc(n);var t=b.tc().index;return b.tc().deleteRow(e,t)}),b.uc(11,"translate"),b.uc(12,"translate"),b.ec(),b.ec(),b.ec(),b.ec()}if(2&e){var i=t.index,a=b.Pc(5),c=b.tc().index,r=b.tc();b.Ac("ngStyle",b.Gc(17,it,r.inputDataWidth)),b.Lb(1),b.Ac("ngClass",b.Gc(19,at,r.isCellSelected(c,i))),b.Lb(1),b.Ac("ngStyle",b.Gc(21,ct,r.cellIndexToEdit&&r.cellIndexToEdit.rowIdx==c&&r.cellIndexToEdit.columnIdx==i?"3px":"6px")),b.Lb(1),b.Ac("ngIf",!r.cellIndexToEdit||r.cellIndexToEdit.rowIdx!=c||r.cellIndexToEdit.columnIdx!=i)("ngIfElse",a),b.Lb(4),b.Bc("pTooltip",b.vc(8,9,"serviceinput.table.insert.row.above.button")),b.Mb("aria-label",b.vc(9,11,"serviceinput.table.insert.row.above.button")),b.Lb(3),b.Bc("pTooltip",b.vc(11,13,"serviceinput.table.remove.row.button")),b.Mb("aria-label",b.vc(12,15,"serviceinput.table.remove.row.button"))}}function ot(e,t){if(1&e&&(b.fc(0,"tr"),b.Zc(1,rt,13,23,"td",26),b.ec()),2&e){var n=t.$implicit;b.Lb(1),b.Ac("ngForOf",n)}}var st,lt=((st=function(){function e(t,i){var a=this;n(this,e),this.sharedMessageService=t,this.translate=i,this.updateTableValue=new b.p,this.expand=new b.p,this.collapse=new b.p,this.showExpand=!1,this.showCollapse=!1,this.input=[],this.cellIndexToEdit={columnIdx:-1,rowIdx:-1},this.selectedCell={columnIdx:-1,rowIdx:-1},this.cellValueWidth=0,this.translate.setDefaultLang("en"),this.uid=this.$generateUUID(),this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(function(e){e&&"change-locale"===e.data.action&&a.translate.use(e.data.data.locale)})}return a(e,[{key:"ngOnInit",value:function(){this.input=this.node.value?this.node.value:[],this.handleCounts()}},{key:"ngAfterViewInit",value:function(){this.makeComponentsAccessible()}},{key:"ngOnChanges",value:function(e){e&&e.value&&e.value.currentValue&&Array.isArray(e.value.currentValue)&&(this.input=e.value.currentValue,this.handleCounts())}},{key:"handleCounts",value:function(){var e=this;setTimeout(function(){e.tableRowCount=0,e.tableColCount=0,e.input.length&&(e.tableRowCount=e.input.length,e.input.length>0&&(e.tableColCount=e.input[0].length)),0===e.tableColCount&&(e.tableRowCount=0);var t=document.getElementById("stringTableRowCountValueInputId_"+e.uid);t&&(t.value=e.tableRowCount);var n=document.getElementById("stringTableColCountValueInputId_"+e.uid);n&&(n.value=e.tableColCount),e.setCellWidths()},100)}},{key:"makeComponentsAccessible",value:function(){var e=this;setTimeout(function(){var t=document.getElementById("stringTableRowCountValueInputId_"+e.uid);t&&y.J.makeSpinnerAccessible(t,null,e.translate.instant("common.spinner.increase"),e.translate.instant("common.spinner.decrease")),(t=document.getElementById("stringTableColCountValueInputId_"+e.uid))&&y.J.makeSpinnerAccessible(t,null,e.translate.instant("common.spinner.increase"),e.translate.instant("common.spinner.decrease"))},200)}},{key:"addRow",value:function(e,t){var n=this;this.removeEdit(e),this.input&&this.input.length>0&&this.input[0].length<1&&(this.input=[],t=-1);var i=t+1;if(this.input.splice(i,0,""),i>0){this.input[i]=new Array(this.input[0].length);for(var a=0;a<this.input[t].length;a++)this.input[i][a]=""}else this.input[i]=new Array(1);this.handleCounts(),this.selectCell(e,i,0),setTimeout(function(){n.updateTableValue.emit(n.input)},100)}},{key:"addColumn",value:function(e,t){var n=this;this.removeEdit(e),0===this.input.length?this.addRow(e,-1):this.input.forEach(function(e,t){e.push("")}),this.handleCounts(),this.selectCell(e,0,t),setTimeout(function(){n.updateTableValue.emit(n.input)},100)}},{key:"deleteRow",value:function(e,t){var n=this;if(t<0)if(this.selectedCell&&this.selectedCell.rowIdx>-1)t=this.selectedCell.rowIdx;else{if(!(this.input&&this.input.length>0))return;t=this.input.length-1}this.input.splice(t,1),e&&(this.removeEdit(e),e.stopPropagation()),this.handleCounts(),setTimeout(function(){n.updateTableValue.emit(n.input)},100)}},{key:"deleteColumn",value:function(e,t){var n=this;if(t<0)if(this.selectedCell&&this.selectedCell.columnIdx>-1)t=this.selectedCell.columnIdx;else{if(!(this.input&&this.input.length>0&&this.input[0].length>1))return void(this.input.length>0&&1===this.input[0].length&&(this.input=[],e&&(this.removeEdit(e),e.stopPropagation()),this.handleCounts(),this.updateTableValue.emit(this.input)));t=this.input[0].length-1}this.input.forEach(function(e,i){n.input[i].splice(t,1)}),e&&(this.removeEdit(e),e.stopPropagation()),this.handleCounts(),setTimeout(function(){n.updateTableValue.emit(n.input)},100)}},{key:"onInputChange",value:function(e,t,n){var i=this,a=e.event;this.input[t][n]=a.target&&a.target.value?a.target.value:null,this.handleCounts(),this.editContent(t,n),setTimeout(function(){i.updateTableValue.emit(i.input)},100)}},{key:"editContent",value:function(e,t){this.selectedCell={columnIdx:t,rowIdx:e},this.cellIndexToEdit={columnIdx:t,rowIdx:e},this.setInputFocus(e,t)}},{key:"setInputFocus",value:function(e,t){var n=this;setTimeout(function(){n.setCellWidths(),n.inputRef&&n.inputRef.focusInput()},100)}},{key:"selectCell",value:function(e,t,n){e.stopPropagation(),this.selectedCell={columnIdx:n,rowIdx:t},this.editContent(t,n),this.setCellWidths()}},{key:"isCellSelected",value:function(e,t){return this.selectedCell&&this.selectedCell.columnIdx===t&&this.selectedCell.rowIdx===e}},{key:"expandTable",value:function(e){this.expand.emit()}},{key:"collapseTable",value:function(e){this.collapse.emit()}},{key:"rowCountChanged",value:function(e){if(e&&e.target){var t=e.target.value;if(t>-1){var n=t-this.input.length;if(this.stringTableRowCountValueInputSpinner&&this.stringTableRowCountValueInputSpinner.value&&(n=(t=this.stringTableRowCountValueInputSpinner.value)-this.input.length),n>0)for(var i=0;i<n;i++)this.addRow(e,this.input.length-1);else if(n<0)for(var a=0;a<Math.abs(n);a++)this.deleteRow(e,this.input.length-1)}}}},{key:"increaseRowCount",value:function(e){e&&this.addRow(e,this.input.length-1)}},{key:"decreaseRowCount",value:function(e){e&&this.input&&this.input.length>0&&this.deleteRow(e,this.input.length-1)}},{key:"colCountChanged",value:function(e){var t=0;if(this.input&&this.input.length&&this.input.length>0&&(t=this.input[0].length),e&&e.target){var n=e.target.value;if(n>-1){var i=n-t;if(this.stringTableColCountValueInputSpinner&&this.stringTableColCountValueInputSpinner.value&&(i=(n=this.stringTableColCountValueInputSpinner.value)-t),i>0)for(var a=0;a<i;a++)this.addColumn(e,this.input[0].length);else if(i<0)for(var c=0;c<Math.abs(i);c++)this.deleteColumn(e,this.input[0].length-1);this.setCellWidths()}}}},{key:"increaseColCount",value:function(e){if(e){var t=0;this.input.length>0&&(t=this.input[0].length),this.addColumn(e,t)}}},{key:"decreaseColCount",value:function(e){e&&this.input&&this.input.length>0&&this.input[0].length>0&&this.deleteColumn(e,this.input[0].length-1)}},{key:"setCellWidths",value:function(){var e=this;setTimeout(function(){e.stringTableContainer&&e.input&&e.input.length>0&&e.input[0].length>0&&(e.cellValueWidth=e.stringTableContainer.nativeElement.offsetWidth/e.input[0].length-50,e.inputDataWidth=e.cellValueWidth-140+"px")},100)}},{key:"removeEdit",value:function(e){this.cellIndexToEdit={columnIdx:-1,rowIdx:-1},this.selectedCell={columnIdx:-1,rowIdx:-1},this.setCellWidths()}},{key:"onBlur",value:function(e){this.removeEdit(e),this.setCellWidths()}},{key:"getValue",value:function(e){return parseInt(e.target.value)}},{key:"$generateUUID",value:function(){return Object(Z.a)()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||st)(b.Zb(y.A),b.Zb(d.d))},st.\u0275cmp=b.Tb({type:st,selectors:[["string-table"]],viewQuery:function(e,t){var n;1&e&&(b.hd(We,1),b.hd(qe,1),b.hd(Xe,1),b.hd(Je,1)),2&e&&(b.Oc(n=b.qc())&&(t.stringTableRowCountValueInputSpinner=n.first),b.Oc(n=b.qc())&&(t.stringTableColCountValueInputSpinner=n.first),b.Oc(n=b.qc())&&(t.stringTableContainer=n.first),b.Oc(n=b.qc())&&(t.inputRef=n.first))},inputs:{node:"node",value:"value",showExpand:"showExpand",showCollapse:"showCollapse"},outputs:{updateTableValue:"updateTableValue",expand:"expand",collapse:"collapse"},features:[b.Jb],decls:66,vars:76,consts:[[1,"run-list-container"],[1,"pane"],[1,"tb1"],[1,"td1"],[1,"dlt-form-label","toolbar-label",3,"for"],[1,"dlt-form-group"],["type","number","min","0","max","100",1,"dlt-number-input","spinner1",3,"id","ngModel","size","ngModelChange","change"],[1,"number-controls"],["type","button","showDelay","250",1,"number-step-up",3,"pTooltip","click"],[1,"dlt-icon-caret-up","number-step-up-icon"],["type","button","showDelay","250",1,"number-step-down",3,"pTooltip","click"],[1,"dlt-icon-caret-down","number-step-down-icon"],[1,"dlt-form-label","toolbar-label","toolbar-label1",3,"for"],[1,"td1a"],["tabindex","0","type","button","pButton","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"id","pTooltip","click"],[1,"dlt-icon-row","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-delete","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-column","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-building","dlg-icon-btn","dlt-icon"],["tabindex","0","type","button","pButton","","class","dlt-button dlt-button-icon btn-1","showDelay","250",3,"id","pTooltip","click",4,"ngIf"],["cellspacing","0","cellpadding","0",1,"string-table"],["stringTableContainer",""],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"dlt-icon-expand","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-collapse","dlg-icon-btn","dlt-icon"],["tabIndex","0",3,"ngStyle","keydown.enter","click",4,"ngFor","ngForOf"],["tabIndex","0",3,"ngStyle","keydown.enter","click"],[1,"run-table-cell",3,"ngClass"],[2,"flex-grow","1",3,"ngStyle"],[3,"keydown.enter","click",4,"ngIf","ngIfElse"],["showControl",""],[1,"table-action-controls"],["tabindex","0","showDelay","250",1,"run-input-table-addicon","dlt-icon-row",3,"pTooltip","click","keydown.enter"],["tabindex","0","showDelay","250",1,"run-input-table-deleteicon","dlt-icon-delete",3,"pTooltip","click","keydown.enter"],[3,"keydown.enter","click"],["showDelay","250",1,"value-txt",3,"pTooltip"],[3,"id","node","value","inputChange","focusOut"],["inputRef",""]],template:function(e,t){1&e&&(b.fc(0,"div",0),b.fc(1,"div",1),b.fc(2,"table",2),b.fc(3,"tr"),b.fc(4,"td",3),b.fc(5,"label",4),b.bd(6),b.uc(7,"translate"),b.ec(),b.ec(),b.fc(8,"td",3),b.fc(9,"div",5),b.fc(10,"input",6),b.pc("ngModelChange",function(e){return t.tableRowCount=e})("change",function(e){return t.rowCountChanged(e)}),b.uc(11,"translate"),b.ec(),b.fc(12,"div",7),b.fc(13,"button",8),b.pc("click",function(e){return t.increaseRowCount(e)}),b.uc(14,"translate"),b.uc(15,"translate"),b.ac(16,"i",9),b.ec(),b.fc(17,"button",10),b.pc("click",function(e){return t.decreaseRowCount(e)}),b.uc(18,"translate"),b.uc(19,"translate"),b.ac(20,"i",11),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(21,"td",3),b.fc(22,"label",12),b.bd(23),b.uc(24,"translate"),b.ec(),b.ec(),b.fc(25,"td",3),b.fc(26,"div",5),b.fc(27,"input",6),b.pc("ngModelChange",function(e){return t.tableColCount=e})("change",function(e){return t.colCountChanged(e)}),b.uc(28,"translate"),b.ec(),b.fc(29,"div",7),b.fc(30,"button",8),b.pc("click",function(e){return t.increaseColCount(e)}),b.uc(31,"translate"),b.uc(32,"translate"),b.ac(33,"i",9),b.ec(),b.fc(34,"button",10),b.pc("click",function(e){return t.decreaseColCount(e)}),b.uc(35,"translate"),b.uc(36,"translate"),b.ac(37,"i",11),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(38,"td",13),b.fc(39,"button",14),b.pc("click",function(e){return t.addRow(e,t.input.length-1)}),b.uc(40,"translate"),b.uc(41,"translate"),b.ac(42,"i",15),b.ec(),b.ec(),b.fc(43,"td",13),b.fc(44,"button",14),b.pc("click",function(e){return t.deleteRow(e,-1)}),b.uc(45,"translate"),b.uc(46,"translate"),b.ac(47,"i",16),b.ec(),b.ec(),b.fc(48,"td",13),b.fc(49,"button",14),b.pc("click",function(e){return t.addColumn(e,t.tableColCount-1)}),b.uc(50,"translate"),b.uc(51,"translate"),b.ac(52,"i",17),b.ec(),b.ec(),b.fc(53,"td",13),b.fc(54,"button",14),b.pc("click",function(e){return t.deleteColumn(e,-1)}),b.uc(55,"translate"),b.uc(56,"translate"),b.ac(57,"i",18),b.ec(),b.ec(),b.fc(58,"td",13),b.Zc(59,Ge,4,7,"button",19),b.Zc(60,Ye,4,7,"button",19),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(61,"table",20,21),b.fc(63,"tbody"),b.Zc(64,et,2,0,"ng-container",22),b.Zc(65,ot,2,1,"tr",23),b.ec(),b.ec(),b.ec()),2&e&&(b.Lb(5),b.Cc("for","stringTableRowCountValueInputId_",t.uid,""),b.Lb(1),b.dd(" ",b.vc(7,36,"serviceinput.table.rows.caption")," "),b.Lb(4),b.Cc("id","stringTableRowCountValueInputId_",t.uid,""),b.Ac("ngModel",t.tableRowCount)("size",4),b.Mb("aria-label",b.vc(11,38,"serviceinput.table.rows.caption")),b.Lb(3),b.Bc("pTooltip",b.vc(15,42,"common.spinner.increase")),b.Mb("aria-label",b.vc(14,40,"common.spinner.increase")),b.Lb(4),b.Bc("pTooltip",b.vc(19,46,"common.spinner.decrease")),b.Mb("aria-label",b.vc(18,44,"common.spinner.decrease")),b.Lb(5),b.Cc("for","stringTableColCountValueInputId_",t.uid,""),b.Lb(1),b.dd(" ",b.vc(24,48,"serviceinput.table.columns.caption")," "),b.Lb(4),b.Cc("id","stringTableColCountValueInputId_",t.uid,""),b.Nb("aria-label"," ",b.vc(28,50,"serviceinput.table.columns.caption"),""),b.Ac("ngModel",t.tableColCount)("size",4),b.Lb(3),b.Bc("pTooltip",b.vc(32,54,"common.spinner.increase")),b.Mb("aria-label",b.vc(31,52,"common.spinner.increase")),b.Lb(4),b.Bc("pTooltip",b.vc(36,58,"common.spinner.decrease")),b.Mb("aria-label",b.vc(35,56,"common.spinner.decrease")),b.Lb(5),b.Cc("id","addStringTableRowBtn_",t.uid,""),b.Bc("pTooltip",b.vc(40,60,"serviceinput.table.add.row.button")),b.Mb("aria-label",b.vc(41,62,"serviceinput.table.add.row.button")),b.Lb(5),b.Cc("id","delStringTableRowBtn_",t.uid,""),b.Bc("pTooltip",b.vc(45,64,"serviceinput.table.remove.row.button")),b.Mb("aria-label",b.vc(46,66,"serviceinput.table.remove.row.button")),b.Lb(5),b.Cc("id","addStringTableColBtn_",t.uid,""),b.Bc("pTooltip",b.vc(50,68,"serviceinput.table.add.column.button")),b.Mb("aria-label",b.vc(51,70,"serviceinput.table.add.column.button")),b.Lb(5),b.Cc("id","delStringTableColBtn_",t.uid,""),b.Bc("pTooltip",b.vc(55,72,"serviceinput.table.remove.column.button")),b.Mb("aria-label",b.vc(56,74,"serviceinput.table.remove.column.button")),b.Lb(5),b.Ac("ngIf",t.showExpand),b.Lb(1),b.Ac("ngIf",t.showCollapse),b.Lb(4),b.Ac("ngIf",!t.input||0===t.input.length),b.Lb(1),b.Ac("ngForOf",t.input))},directives:[le.s,le.c,le.n,le.q,_.a,g.n,g.m,g.o,g.l,De],pipes:[d.c],styles:[".table-container[_ngcontent-%COMP%]{width:100%;overflow-x:auto;background:#fff;border:1px solid grey}.table-toolbar[_ngcontent-%COMP%]{display:inline-block;width:100%;border-top:1px solid grey;border-left:1px solid grey;border-right:1px solid grey;background:#eee}.table-toolbar[_ngcontent-%COMP%]   .dlt-form-label[_ngcontent-%COMP%]{padding-left:8px;padding-right:8px;padding-top:15px}.table-toolbar[_ngcontent-%COMP%]   .dlt-form-number-item[_ngcontent-%COMP%]{flex-direction:row;width:auto}.table-toolbar[_ngcontent-%COMP%]   .dlt-form-group[_ngcontent-%COMP%]{display:inline-block}.table-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 .4rem;text-decoration:none}.table-toolbar[_ngcontent-%COMP%]   .action-icons[_ngcontent-%COMP%]{display:inline-block;float:right}.string-table[_ngcontent-%COMP%]{width:100%;margin-top:-7px;color:#333;border-collapse:collapse}.string-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{font-weight:700}.string-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem;border-right:1px solid hsla(0,0%,50%,.3)}.string-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{font-weight:400}.string-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,50%,.3);border-width:0 1px 1px 0;width:100%;min-height:1.5rem}.string-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-right:1px solid hsla(0,0%,50%,.3);min-height:2rem;width:1%;max-width:350px}.string-table[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%], .string-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:100%;vertical-align:middle;white-space:nowrap}.string-table[_ngcontent-%COMP%]   .table-data[_ngcontent-%COMP%]{float:left;display:flex;line-height:2rem;padding-left:8px;overflow:hidden;text-overflow:ellipsis}.table-action-controls[_ngcontent-%COMP%]{align-self:right;opacity:0}.run-table-cell[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:stretch;padding:.2rem 9px .2rem 0;min-height:33px}.run-table-cell[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .run-table-cell[_ngcontent-%COMP%]   .value-txt[_ngcontent-%COMP%], .run-table-cell[_ngcontent-%COMP%]   empty-value-txt[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:14px;color:#666;text-align:left;line-height:20px;display:inline-block;padding-top:3px}.run-table-cell[_ngcontent-%COMP%]   .value-txt[_ngcontent-%COMP%]{color:#333;width:80%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;position:absolute}.run-table-cell[_ngcontent-%COMP%]   .run-input-control[_ngcontent-%COMP%]{height:inherit;width:310px}.run-table-cell[_ngcontent-%COMP%]   .run-input-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:25px}.run-table-cell[_ngcontent-%COMP%]:focus-within   .table-action-controls[_ngcontent-%COMP%], .run-table-cell[_ngcontent-%COMP%]:focus   .table-action-controls[_ngcontent-%COMP%], .run-table-cell[_ngcontent-%COMP%]:hover   .table-action-controls[_ngcontent-%COMP%]{opacity:1}.run-input-table-addicon[_ngcontent-%COMP%], .run-input-table-deleteicon[_ngcontent-%COMP%]{cursor:pointer;color:#666;font-size:14px}.table-action-controls[_ngcontent-%COMP%]   .run-input-table-addicon[_ngcontent-%COMP%]{margin-right:8px}.table-zoom[_ngcontent-%COMP%]{position:fixed;top:10%;height:70%;transform:scale(1.2);left:16%;background:#fff;z-index:1}div.pane[_ngcontent-%COMP%]{display:inline-block;width:100%;padding-left:.3rem;border-bottom:1px solid grey;background:#eee;height:43px}table.tb1[_ngcontent-%COMP%]{border-collapse:collapse;border-spacing:0;width:100%}td.td1[_ngcontent-%COMP%]{padding:0 0 0 3px;margin:0;vertical-align:bottom;vertical-align:middle}td.td1a[_ngcontent-%COMP%]{padding:0;margin:0;vertical-align:bottom;width:100%;text-align:right}.spinner1[_ngcontent-%COMP%]{width:4rem;margin-top:5px}.toolbar-label[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:12px;color:#333;text-align:left;margin-top:10px;margin-right:4px}.toolbar-label1[_ngcontent-%COMP%]{margin-left:10px}.run-list-container[_ngcontent-%COMP%]{border:1px solid grey;min-width:510px}"]}),st),dt=["modalRef"],ut=["valueSetModalRef"],ht=["treeRef"],ft=["valueSetInputRef"];function gt(e,t){1&e&&(b.dc(0),b.bd(1,"[ ]"),b.cc())}function pt(e,t){1&e&&(b.dc(0),b.fc(1,"span",10),b.bd(2," * "),b.ec(),b.cc())}function vt(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"svc-input-control",11),b.pc("inputChange",function(e){return b.Rc(n),b.tc(5).onInputChange(e)}),b.ec(),b.cc()}if(2&e){var i=b.tc(2).$implicit;b.Lb(1),b.Ac("node",i)("value",i.value)}}function mt(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"list-control",12),b.pc("updateListValue",function(e){b.Rc(n);var t=b.tc(2).$implicit;return b.tc(3).updateStringValue(e,t)}),b.ec(),b.cc()}if(2&e){var i=b.tc(2).$implicit;b.Lb(1),b.Ac("node",i)("value",i.value)}}var bt=function(e){return{"table-zoom":e}};function yt(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"div",13),b.fc(2,"string-table",14),b.pc("updateTableValue",function(e){b.Rc(n);var t=b.tc(2).$implicit;return b.tc(3).updateStringValue(e,t)})("expand",function(){return b.Rc(n),b.tc(5).expandTable()})("collapse",function(){return b.Rc(n),b.tc(5).collapseTable()}),b.ec(),b.ec(),b.cc()}if(2&e){var i=b.tc(2).$implicit,a=b.tc(3);b.Lb(1),b.Ac("ngClass",b.Gc(5,bt,a.expand)),b.Lb(1),b.Ac("node",i)("value",i.value)("showExpand",!a.expand)("showCollapse",a.expand)}}function Ct(e,t){if(1&e&&(b.dc(0),b.Zc(1,vt,2,2,"ng-container",2),b.Zc(2,mt,2,2,"ng-container",2),b.Zc(3,yt,3,7,"ng-container",2),b.cc()),2&e){var n=b.tc().$implicit;b.Lb(1),b.Ac("ngIf","0"===n.field_dim),b.Lb(1),b.Ac("ngIf","1"===n.field_dim),b.Lb(1),b.Ac("ngIf","2"===n.field_dim)}}function St(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"svc-input-control",11),b.pc("inputChange",function(e){return b.Rc(n),b.tc(5).onInputChange(e)}),b.ec(),b.cc()}if(2&e){var i=b.tc(2).$implicit;b.Lb(1),b.Ac("node",i)("value",i.value)}}function xt(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"list-control",12),b.pc("updateListValue",function(e){b.Rc(n);var t=b.tc(2).$implicit;return b.tc(3).updateObjectListValue(e,t)}),b.ec(),b.cc()}if(2&e){var i=b.tc(2).$implicit;b.Lb(1),b.Ac("node",i)("value",i.value)}}function Tt(e,t){if(1&e&&(b.dc(0),b.Zc(1,St,2,2,"ng-container",2),b.Zc(2,xt,2,2,"ng-container",2),b.cc()),2&e){var n=b.tc().$implicit;b.Lb(1),b.Ac("ngIf","0"===n.field_dim&&("recordarray"!==n.parentType||n.added_for_array)),b.Lb(1),b.Ac("ngIf","1"===n.field_dim)}}function wt(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"div",15),b.fc(2,"span",16),b.pc("click",function(){b.Rc(n);var e=b.tc(2).$implicit;return b.tc(3).addNode(e,null)}),b.ec(),b.fc(3,"span",17),b.pc("click",function(){b.Rc(n);var e=b.tc(2).$implicit;return b.tc(3).deleteNode(e)}),b.ec(),b.ec(),b.cc()}}var Lt=function(){return[]};function kt(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"div",18),b.fc(2,"svc-action-toolbar",19),b.pc("addItem",function(){b.Rc(n);var e=b.tc(2).$implicit;return b.tc(3).addDocArrayValue(e)})("deleteItem",function(){b.Rc(n);var e=b.tc(2).$implicit;return b.tc(3).deleteDocArrayValue(e)})("inputChange",function(e){b.Rc(n);var t=b.tc(2).$implicit;return b.tc(3).updateDocArrayValue(e,t)}),b.ec(),b.ec(),b.cc()}if(2&e){var i=b.tc(2).$implicit,a=b.tc(3);b.Lb(1),b.Ac("ngClass",a.getListContainerClass(i)),b.Lb(1),b.Ac("input",i.child_added_for_array?i.rec_fields:b.Fc(2,Lt))}}function It(e,t){if(1&e&&(b.dc(0),b.fc(1,"span",20),b.bd(2),b.ec(),b.cc()),2&e){var n=b.tc(2).$implicit;b.Lb(2),b.cd(n.index)}}function Mt(e,t){if(1&e&&(b.dc(0),b.Zc(1,wt,4,0,"ng-container",2),b.Zc(2,kt,3,3,"ng-container",2),b.Zc(3,It,3,1,"ng-container",2),b.cc()),2&e){var n=b.tc().$implicit;b.Lb(1),b.Ac("ngIf",n.added_for_array),b.Lb(1),b.Ac("ngIf","1"===n.field_dim),b.Lb(1),b.Ac("ngIf",n.added_for_array)}}function Ot(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"div",15),b.fc(2,"span",16),b.pc("click",function(){b.Rc(n);var e=b.tc(2).$implicit;return b.tc(3).addNode(e,null)}),b.ec(),b.fc(3,"span",17),b.pc("click",function(){b.Rc(n);var e=b.tc(2).$implicit;return b.tc(3).deleteNode(e)}),b.ec(),b.ec(),b.cc()}}function _t(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"div",18),b.fc(2,"svc-action-toolbar",19),b.pc("addItem",function(){b.Rc(n);var e=b.tc(2).$implicit;return b.tc(3).addDocArrayValue(e)})("deleteItem",function(){b.Rc(n);var e=b.tc(2).$implicit;return b.tc(3).deleteDocArrayValue(e)})("inputChange",function(e){b.Rc(n);var t=b.tc(2).$implicit;return b.tc(3).updateDocArrayValue(e,t)}),b.ec(),b.ec(),b.cc()}if(2&e){var i=b.tc(2).$implicit,a=b.tc(3);b.Lb(1),b.Ac("ngClass",a.getListContainerClass(i)),b.Lb(1),b.Ac("input",i.child_added_for_array?i.rec_fields:b.Fc(2,Lt))}}function Pt(e,t){if(1&e&&(b.dc(0),b.fc(1,"span",20),b.bd(2),b.ec(),b.cc()),2&e){var n=b.tc(2).$implicit;b.Lb(2),b.cd(n.index)}}function Dt(e,t){if(1&e&&(b.dc(0),b.Zc(1,Ot,4,0,"ng-container",2),b.Zc(2,_t,3,3,"ng-container",2),b.Zc(3,Pt,3,1,"ng-container",2),b.cc()),2&e){var n=b.tc().$implicit;b.Lb(1),b.Ac("ngIf",n.added_for_array),b.Lb(1),b.Ac("ngIf","1"===n.field_dim),b.Lb(1),b.Ac("ngIf",n.added_for_array)}}function At(e,t){if(1&e&&(b.fc(0,"div"),b.fc(1,"div",6),b.fc(2,"label",7),b.bd(3),b.Zc(4,gt,2,0,"ng-container",2),b.Zc(5,pt,3,0,"ng-container",2),b.ec(),b.dc(6,8),b.Zc(7,Ct,4,3,"ng-container",9),b.Zc(8,Tt,3,2,"ng-container",9),b.Zc(9,Mt,4,3,"ng-container",9),b.Zc(10,Dt,4,3,"ng-container",9),b.cc(),b.ec(),b.ec()),2&e){var n=t.$implicit;b.Lb(2),b.Cc("for","dataValue_",n.path,""),b.Lb(1),b.dd(" ",n.field_name," "),b.Lb(1),b.Ac("ngIf","1"===n.field_dim&&!n.added_for_array),b.Lb(1),b.Ac("ngIf","true"!==n.field_opt||null===n.field_opt),b.Lb(1),b.Ac("ngSwitch",n.field_type),b.Lb(1),b.Ac("ngSwitchCase","string"),b.Lb(1),b.Ac("ngSwitchCase","object"),b.Lb(1),b.Ac("ngSwitchCase","record"),b.Lb(1),b.Ac("ngSwitchCase","recref")}}function Rt(e,t){if(1&e&&(b.dc(0),b.fc(1,"svc-tree",3,4),b.Zc(3,At,11,9,"div",5),b.ec(),b.cc()),2&e){var n=b.tc(2);b.Lb(1),b.Ac("input",n.topLevelParentNode.rec_fields)("showBranch",!0)("hasChildren",n._hasChildren)("getChildren",n._getChildren)("getNodeId",n._getNodeId)("getFieldType",n._getFieldType)("isList",n._isList)}}function Et(e,t){if(1&e&&(b.fc(0,"div",1),b.Zc(1,Rt,4,7,"ng-container",2),b.ec()),2&e){var n=b.tc();b.Lb(1),b.Ac("ngIf",n.topLevelParentNode&&n.topLevelParentNode.rec_fields&&n.topLevelParentNode.rec_fields.length>0)}}var Ft,Bt=((Ft=function(){function t(e,i,a,c,r,o){var s=this;n(this,t),this.serviceExecutionService=e,this.preferencesService=i,this.toastr=a,this.translate=c,this.sharedMessageService=r,this.changeDetectorRef=o,this.svcInputLoaded=new b.p,this.showTree=!1,this.values=null,this.valueSet={},this.valueSetList=[],this.documents={},this.valueSetName="",this.assetName=null,this.contextId=null,this.isDebugMode=!1,this.selectedValueSetRadioOption="0",this.subscriptions=[],this.loading=!1,this.canceled=!1,this.loading=!0,this.translate.setDefaultLang("en"),this.subscriptions.push(this.sharedMessageService.getMessage().subscribe(function(e){e&&"change-locale"===e.data.action&&s.translate.use(e.data.data.locale)}))}return a(t,[{key:"populateServiceTreeAndData",value:function(){var e=this;this.subscriptions.push(this.preferencesService.getDocumentExpansion().subscribe(function(t){e.documentExpansion=t,e.subscriptions.push(e.serviceExecutionService.getCurrentServiceInfo().subscribe(function(t){e.assetName=t.serviceName,e.subscriptions.push(e.serviceExecutionService.getServiceSignature(e.assetName).subscribe(function(n){e.populateTreeAndData(n),e.subscriptions.push(e.serviceExecutionService.getServicePipeline(t.contextId).subscribe(function(t){e.servicePipeline=t,e.setValues(t),e.tempPipeline=A.cloneDeep(t),setTimeout(function(){e.svcInputLoaded.emit()},400)}))}))}))}))}},{key:"reopen",value:function(){this.canceled&&(this.removeUncheckedValues(this.topLevelParentNode),this.setValues(A.cloneDeep(this.tempPipeline)),this.changeDetectorRef.detectChanges()),this.canceled=!1}},{key:"setCanceled",value:function(){this.canceled=!0}},{key:"getListContainerClass",value:function(e){if(e)return("record"===e.field_type||"recref"===e.field_type)&&e.field_dim>"0"?"run-list-container-doc-list":"run-list-container"}},{key:"populateDocumentTreeAndData",value:function(){var e=this;this.subscriptions.push(this.preferencesService.getDocumentExpansion().subscribe(function(t){e.documentExpansion=t,e.subscriptions.push(e.serviceExecutionService.getCurrentDocumentInfo().subscribe(function(t){e.assetName=t.documentName,e.subscriptions.push(e.serviceExecutionService.getDocumentSignature(e.assetName).subscribe(function(n){e.populateTreeAndData(n),e.subscriptions.push(e.serviceExecutionService.getDocumentPipeline(t.documentId).subscribe(function(t){t&&t.document&&t.document.length>0&&(t=new R(t.document[0])),e.servicePipeline=t,e.setValues(t),e.tempPipeline=A.cloneDeep(t),setTimeout(function(){e.svcInputLoaded.emit()},400)}))}))}))}))}},{key:"populateTreeAndData",value:function(e){this.getLocalStorageValueSetData(e),this._hasChildren=this._hasChildren.bind(this),this._getChildren=this._getChildren.bind(this),this._getNodeId=this._getNodeId.bind(this),this._getFieldType=this._getFieldType.bind(this),this._isList=this._isList.bind(this),this.expand=!1}},{key:"getPipelineForResubmit",value:function(){return new E(this.values)}},{key:"getDocumentForResubmit",value:function(){return new R(this.values)}},{key:"ngOnChanges",value:function(){}},{key:"toggleTree",value:function(){this.showTree=!this.showTree}},{key:"savePipeline",value:function(){return!!this.validateTree(this.topLevelParentNode)&&(this.tempPipeline=A.cloneDeep(this.getPipelineForResubmit()),!0)}},{key:"saveDocument",value:function(){this.tempPipeline=A.cloneDeep(this.getDocumentForResubmit())}},{key:"showTreeContent",value:function(){return!this.scheduleInvoke||this.showTree}},{key:"getLocalStorageValueSetData",value:function(e){this.valueSetName&&(this.values=A.cloneDeep(this.valueSet[this.assetName][this.valueSetName])),this._getServiceSignature(e)}},{key:"getValues",value:function(){return this.values}},{key:"setValueName",value:function(e){this.valueName=e}},{key:"getValueName",value:function(){return this.valueName}},{key:"isValueChanged",value:function(){return this.valueSet[this.assetName]&&this.valueSet[this.assetName][this.valueSetName]&&!A.isEqual(this.values,this.valueSet[this.assetName][this.valueSetName])}},{key:"_setValueSetDropdownList",value:function(){this.assetName&&this.valueSet&&this.valueSet[this.assetName]&&(this.valueSetList=Object.keys(this.valueSet[this.assetName]))}},{key:"_getServiceSignature",value:function(e){var t=null;if(e&&e.documents&&e.documents.topLevelDocument&&e.documents.topLevelDocument.rec_fields)for(var n in t=e.documents.topLevelDocument,e.documents)e.documents[n]&&(this.documents[n]=e.documents[n]);else if(e&&e.inputDocument&&e.documents){var i=e.documents[e.inputDocument];for(var a in i&&i.rec_fields&&(t=i),e.documents)e.documents[a]&&(this.documents[a]=e.documents[a])}else if(e&&e.documents){var c=e.documents[this.assetName];c&&c.rec_fields&&(t=c)}t.uid=this.$generateUUID(),t.level=0,this._updateNodeData(t),this.topLevelParentNode=t,this.inputSignature=A.cloneDeep(this.topLevelParentNode.rec_fields),this.values&&this._constructTree(),this.loading=!1}},{key:"_updateNodeData",value:function(e){var t=this;if(!(e.level>this.documentExpansion.recursiveDocumentExpansionLevel)&&e.rec_fields){var n=-1;e.rec_fields.forEach(function(i,a,c){var r=A.cloneDeep(i);c[a]=r,r.id=r.field_name,e&&(r.parentNode=e,r.uid=t.$generateUUID()),r.parentNode&&r.parentNode.field_dim>0&&("record"===r.parentNode.field_type||"recref"===r.parentNode.field_type)&&(n++,r.index=n),r.path=V.createPath(r,-1),t.handleRecordReference(r),r.rec_fields&&Array.isArray(r.rec_fields)&&r.rec_fields.length>0&&(t.loading&&(r.state={open:!0}),t._updateNodeData(r))})}}},{key:"handleRecordReference",value:function(t){if("recref"===t.field_type){var n=this.documents[t.rec_ref];if(n&&(t.rec_fields=A.cloneDeep(n.rec_fields),t.rec_fields&&t.rec_fields.length>0)){var i,a=e(t.rec_fields);try{for(a.s();!(i=a.n()).done;){var c=i.value;c.level=t.level+1,c.path=null}}catch(r){a.e(r)}finally{a.f()}}}}},{key:"_hasChildren",value:function(e){return!("record"!==e.field_type&&"recref"!==e.field_type||"0"!==e.field_dim&&!e.child_added_for_array||!(e.level<=this.documentExpansion.recursiveDocumentExpansionLevel))}},{key:"_getChildren",value:function(e){return e.rec_fields&&e.level<=this.documentExpansion.recursiveDocumentExpansionLevel?this._getRecFields(e):[]}},{key:"_getRecFields",value:function(e){return("record"===e.field_type||"recref"===e.field_type)&&"0"===e.field_dim||"1"===e.field_dim&&e.child_added_for_array?(this._updateArrayChildParentType(e),e.rec_fields):[]}},{key:"_updateArrayChildParentType",value:function(e){e.added_for_array&&"recref"!==e.parentType&&e.rec_fields.forEach(function(e){e.parentType="recordarray"})}},{key:"_getNodeId",value:function(e){return e.field_name}},{key:"_getFieldType",value:function(e){return"object"===e.field_type&&e.wrapper_type?e.wrapper_type:"2"===e.field_dim&&"string"===e.field_type?"table":e.field_type}},{key:"_isList",value:function(e){return"1"===e.field_dim}},{key:"addNode",value:function(e,t,n){var i=e;e.added_for_array&&(i=e.parentNode),i.rec_fields&&("record"!==i.field_type&&"recref"!==i.field_type||i.child_added_for_array)||(i.rec_fields=[]);var a=this._createNewNode(i,e,t);e.added_for_array?(i.rec_fields.splice(e.index+1,0,a),this._updateSiblingNodes(e.index+1,i.rec_fields,i)):i.rec_fields.push(a),a.path=null;var c=-1;"recref"===a.field_type&&a.parentNode&&"recref"===a.parentNode.field_type&&"1"===a.parentNode.field_dim&&(c=t),a.path=V.createPath(a,c),(t<0||n)&&this._initializeNodeValue(i,a,t),a.rec_fields&&a.rec_fields.length>0&&(a.state={open:!1},i.state={open:!1},this.expandNode(a)),this.expandNode(i)}},{key:"_createNewNode",value:function(e,t,n){var i={};i.field_name=e.field_name,i.index=e.rec_fields.length,t.added_for_array&&(i.index=t.index+1,i.field_name=e.field_name),i.added_for_array=!0,i.field_dim="0",i.field_type=e.field_type,i.rec_fields=null,i.parentType=e.field_type,i.valueIndex=n,i.uid=this.$generateUUID(),i.state="record"===i.field_type||"recref"===i.field_type?{open:!0}:{open:!1},i.parentNode=e;var a=-1;return"recref"===i.field_type&&i.parentNode&&"recref"===i.parentNode.field_type&&"1"===i.parentNode.field_dim&&(a=n),i.path=V.createPath(i,a),i.value=this.getValue(i,n),"object"===e.field_type&&(i.wrapper_type=e.wrapper_type),"record"!==e.field_type&&"recref"!==e.field_type||this._createRecordArray(i,e,n),i}},{key:"_createRecordArray",value:function(e,t,n){var i=this;e.rec_fields=[];var a=this.getNodeById(t),c=A.cloneDeep(a.rec_fields);if(c&&c.length>0){e.rec_fields=c;var r=-1;c.forEach(function(t){r++,t.parentNode=e,t.path=V.createPath(t,r),t.dim&&"1"!==t.dim&&(n=-1),t.valueIndex=n,t.value=i.getValue(t,n),t.parentType=a.field_type,"record"===t.field_type||"recref"===t.field_type?i._updateNodeValueForRecord(t):t.value&&Array.isArray(t.value)&&i._createNodeArray(t,t.value)})}e.rec_fields=c,t.child_added_for_array||(t.child_added_for_array=!0)}},{key:"_initializeNodeValue",value:function(e,t,n){t.valueKey=V.getKeyFromPath(t,n),this.updateRunValue(t.valueKey,"record"===e.field_type||"recref"===e.field_type?{}:"")}},{key:"expandNode",value:function(e){this.treeRef&&e&&e.state&&!e.state.open&&this.treeRef.expandNode(e,null)}},{key:"_updateSiblingNodes",value:function(e,t,n){for(var i=e;i<t.length;i++){t[i].field_name=n.field_name,t[i].index=i,t[i].path=V.createPath(t[i],i),t[i].valueKey=V.getKeyFromPath(t[i],-1);var a=t[i].path.split("/");t[i].value&&A.set(this.values,a,t[i].value)}}},{key:"deleteNode",value:function(e){var t=e.index;if(e.parentNode&&e.parentNode.rec_fields){if(1===e.parentNode.rec_fields.length)e.parentNode.rec_fields=[],"record"!==e.parentNode.field_type&&"recref"!==e.parentNode.field_type||"1"!==e.parentNode.field_dim||(e.parentNode.rec_fields=this.getNodeById(e.parentNode).rec_fields,e.parentNode.child_added_for_array=!1);else{e.parentNode.rec_fields.splice(e.index,1);for(var n=t;n<e.parentNode.rec_fields.length;n++)e.parentNode.rec_fields[n].field_name=e.parentNode.field_name,e.parentNode.rec_fields[n].index=n,e.parentNode.rec_fields[n].path=V.createPath(e.parentNode.rec_fields[n],n)}this.deleteValue(e)}}},{key:"deleteAllDocArrayValue",value:function(e,t){e.rec_fields=[],e.valueKey=V.getKeyFromPath(e,t),A.set(this.values,e.valueKey,[]),e.rec_fields=this.getNodeById(e.parentNode).rec_fields,e.child_added_for_array=!1}},{key:"onInputChange",value:function(e){var t=e.event,n=e.node;try{t.stopPropagation()}catch(c){}var i=H.getValueBasedOnDataType(n,t);"java.lang.Boolean"===n.wrapper_type&&(null!=i&&(i=JSON.parse(i)),t&&null!=t.value&&(t.value=i)),n.uncheckedValue=this.getUncheckedValue(t);var a=-1;n.valueIndex>-1&&(a=n.valueIndex),n.valueKey=V.getKeyFromPath(n,a),this.updateRunValue(n.valueKey,i)}},{key:"getUncheckedValue",value:function(e){return e&&e.target&&null!=e.target.value?e.target.value:null!=e.value?e.value:e.originalEvent&&null!=e.originalEvent.value?e.originalEvent.value:e.target&&e.target.textContent&&e.target.textContent.length>0&&"empty"!==e.target.textContent?e.target.textContent:e.picker&&e.picker.startDate&&e.picker.startDate._d?e.picker.startDate._d:null}},{key:"updateRunValue",value:function(e,t){this.values||(this.values={}),A.set(this.values,e,t)}},{key:"getNodeById",value:function(e,t){t||(t=this.inputSignature);for(var n=0;n<t.length;n++){if(e.field_name===t[n].field_name)return t[n];if(t[n].rec_fields){var i=this.getNodeById(e,t[n].rec_fields);if(i)return i}}}},{key:"deleteValue",value:function(e){A.get(this.values,e.parentNode.valueKey).splice(e.index,1)}},{key:"saveValues",value:function(){this.valueSet[this.assetName]||(this.valueSet[this.assetName]={}),this.valueName&&(this.valueSetName=this.valueName),this.valueSetName&&""!==this.valueSetName&&(this.valueSet[this.assetName][this.valueSetName]=this.values,localStorage.setItem("valueSet",JSON.stringify(this.valueSet)))}},{key:"clearRunInput",value:function(){this._updateNodeData(this.topLevelParentNode)}},{key:"updateStringValue",value:function(e,t){var n=-1;t.valueIndex>-1&&(n=t.valueIndex),t.valueKey=V.getKeyFromPath(t,n),this.updateRunValue(t.valueKey,e)}},{key:"updateObjectListValue",value:function(e,t){var n=new Array;if(H.isNodeBoolean(t)){if(e&&e.length>0)for(var i=0;i<e.length;i++)"true"===e[i]||"false"===e[i]?n.push(JSON.parse(e[i])):null!==e[i]&&"null"!==e[i]||n.push(null)}else if(H.isNodeNumeric(t)){if(e&&e.length>0)for(var a=0;a<e.length;a++)"null"===e[a]?n.push(null):"string"==typeof e[a]?isNaN(e[a])||isNaN(parseFloat(e[a]))?n.push(null):n.push(JSON.parse(e[a])):n.push(null)}else n=e;this.updateRunValue(t.valueKey,n)}},{key:"onValueNameSelection",value:function(e){var t=e.target.value;this.valueSetName=t,this.values=A.cloneDeep(this.valueSet[this.assetName][t]),this.values&&this._constructTree()}},{key:"setValues",value:function(e){var t=[];e&&e.inputPipeline?t=e.inputPipeline:e&&e.document&&(t=e.document),this.values=t,this.values&&this._constructTree()}},{key:"_constructTree",value:function(){this._updateNodeData(this.topLevelParentNode),this._updateTreeBasedOnValue(this.topLevelParentNode.rec_fields)}},{key:"_updateTreeBasedOnValue",value:function(e){var t=this;e.forEach(function(e){if(null!=e.path){e.valueKey=V.getKeyFromPath(e,-1);var n=A.get(t.values,e.valueKey);n?"string"===e.field_type||"object"===e.field_type?e.value=n:"record"!==e.field_type&&"recref"!==e.field_type||t._updateNodeValueForRecord(e):"object"===e.field_type&&"java.lang.Boolean"===e.wrapper_type&&!1===n&&(e.value=!1)}})}},{key:"_updateNodeValueForRecord",value:function(e){e.valueKey=V.getKeyFromPath(e,-1);var t=A.get(this.values,e.valueKey);t&&"1"===e.field_dim&&t.length>0?this._createNodeArray(e,t):"0"===e.field_dim&&e.rec_fields&&e.rec_fields.length>0&&this._updateTreeBasedOnValue(e.rec_fields)}},{key:"_createNodeArray",value:function(e,t){var n=this;e.rec_fields=[];var i=-1;t.forEach(function(){i++,n.addNode(e,i)})}},{key:"getValue",value:function(e,t){return this.values||(this.values={}),e.valueKey=V.getKeyFromPath(e,t),A.get(this.values,e.valueKey)||("string"===e.field_type&&"2"===e.field_dim?[]:null)}},{key:"updateDocArrayValue",value:function(e,t){var n=parseInt(e.target.value),i=t.rec_fields.length;if(t.child_added_for_array||(i=0),!t.child_added_for_array&&n>0||t.child_added_for_array)if(n>i)for(var a=n-i,c=0;c<a;c++)this.addDocArrayValue(t);else for(var r=t.rec_fields.length-n,o=0;o<r;o++)this.deleteDocArrayValue(t)}},{key:"addDocArrayValue",value:function(e){var t=0;null==e.valueKey&&(e.valueKey=V.getKeyFromPath(e,-1));var n=A.get(this.values,e.valueKey);Array.isArray(n)&&(t=n.length),this.addNode(e,t,!0)}},{key:"deleteDocArrayValue",value:function(e){e.child_added_for_array&&this.deleteNode(e.rec_fields[e.rec_fields.length-1])}},{key:"expandTable",value:function(){this.expand=!0}},{key:"collapseTable",value:function(){this.expand=!1}},{key:"expandtolevel",value:function(e){this.treeRef.expandtolevel(2)}},{key:"validateTree",value:function(e){var t=this,n=!0;return e&&e.rec_fields&&e.rec_fields.length>0&&e.rec_fields.forEach(function(e){var i=null;if(e.uncheckedValue?i=e.uncheckedValue:e.value&&(i=e.value),i)if("0"===e.field_dim){if(!t.validateValue(e,i))return void(n=!1)}else if("1"===e.field_dim&&Array.isArray(i)){if(i.forEach(function(i){t.validateValue(e,i)||(n=!1)}),!n)return;if("java.lang.Byte"===e.wrapper_type){var a=new Array(i.length),c=-1;i.forEach(function(e){if(c++,null!=e){var t=e+"";a[c]=1===t.indexOf("x")||1===t.indexOf("o")?H.parseByteValue(e):+e}else a[c]=e}),A.set(t.values,e.valueKey,a)}}t.validateTree(e)||(n=!1)}),n}},{key:"removeUncheckedValues",value:function(e){var t=this;e&&e.rec_fields&&e.rec_fields.length>0&&e.rec_fields.forEach(function(e){e.uncheckedValue&&(e.uncheckedValue=null),t.removeUncheckedValues(e),t.changeDetectorRef.detectChanges()})}},{key:"validateValue",value:function(e,t){var n=null;if("object"===e.field_type&&("java.lang.Short"===e.wrapper_type?n=H.validateShort(t,this.translate):"java.lang.Integer"===e.wrapper_type?n=H.validateInteger(t,this.translate):"java.lang.Long"===e.wrapper_type?n=H.validateLong(t,this.translate):"java.lang.Double"===e.wrapper_type?n=H.validateDouble(t,this.translate):"java.lang.Float"===e.wrapper_type?n=H.validateFloat(t,this.translate):"java.util.Date"===e.wrapper_type?n=H.validateDate(t,this.translate):"java.lang.Character"===e.wrapper_type?n=H.validateCharacter(t,this.translate):"java.lang.Byte"===e.wrapper_type&&null===(n=H.validateByte(e,t,this.translate))&&"0"===e.field_dim&&A.set(this.values,e.valueKey,e.value)),n){var i=this.translate.instant("serviceinput.validate.invalid.entry");return this.toastr.error(n,i),!1}return!0}},{key:"$generateUUID",value:function(){return Object(Z.a)()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),t}()).\u0275fac=function(e){return new(e||Ft)(b.Zb(I),b.Zb(f.PreferencesService),b.Zb(O.b),b.Zb(d.d),b.Zb(y.A),b.Zb(b.h))},Ft.\u0275cmp=b.Tb({type:Ft,selectors:[["service-run-input"]],viewQuery:function(e,t){var n;1&e&&(b.hd(dt,1),b.hd(ut,1),b.hd(ht,1),b.hd(ft,1)),2&e&&(b.Oc(n=b.qc())&&(t.modalRef=n.first),b.Oc(n=b.qc())&&(t.valueSetModalRef=n.first),b.Oc(n=b.qc())&&(t.treeRef=n.first),b.Oc(n=b.qc())&&(t.valueSetInputRef=n.first))},inputs:{scheduleInvoke:"scheduleInvoke",treeInput:"treeInput"},outputs:{svcInputLoaded:"svcInputLoaded"},features:[b.Jb],decls:1,vars:1,consts:[["class","run-tree-container",4,"ngIf"],[1,"run-tree-container"],[4,"ngIf"],[3,"input","showBranch","hasChildren","getChildren","getNodeId","getFieldType","isList"],["treeRef",""],[4,"treeNode"],[1,"node-template"],[1,"dlt-form-label","test-input-label",3,"for"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"field-required"],[3,"node","value","inputChange"],[3,"node","value","updateListValue"],[1,"p-0","table-container",3,"ngClass"],[3,"node","value","showExpand","showCollapse","updateTableValue","expand","collapse"],[1,"arr-action-control"],[1,"test-input-addicon","fa","fa-plus-circle","p-0",3,"click"],[1,"test-input-deleteicon","fa","fa-trash",3,"click"],[3,"ngClass"],[3,"input","addItem","deleteItem","inputChange"],[1,"array-index"]],template:function(e,t){1&e&&b.Zc(0,Et,2,1,"div",0),2&e&&b.Ac("ngIf",t.showTreeContent())},directives:[g.n,oe,j,g.p,g.q,De,Ke,g.l,lt,Ae],styles:['.value-set-container[_ngcontent-%COMP%]{display:inline-block;width:100%;padding:0 0 1.5rem;margin-top:12px}.value-set-container[_ngcontent-%COMP%]   .dlt-form-item[_ngcontent-%COMP%]{width:352px;display:inline-block}.save-value-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.run-tree-container[_ngcontent-%COMP%]{overflow:hidden;padding:0}.run-list-container[_ngcontent-%COMP%]{border:1px solid grey;width:352px}.run-list-container-doc-list[_ngcontent-%COMP%]{border:1px solid grey;min-width:600px;height:43px}  .run-tree-container .tree-context{width:80%;position:relative}  .run-tree-container .tree-node{padding-bottom:.5rem}  .run-tree-container .showBorder:before{content:"";border-left:1px solid #e5e5e4;position:absolute;bottom:-2px;width:.75em;left:-1.46rem;top:28px}  .run-tree-container .index-border{border-left:1px solid #e5e5e4}  .run-input-control{width:500px}  input{box-shadow:none}.value-set-label[_ngcontent-%COMP%]{font-family:Roboto-Medium,Helvetica,Arial,sans-serif;line-height:16px}.test-input-label[_ngcontent-%COMP%], .value-set-label[_ngcontent-%COMP%]{font-size:14px;color:#333;text-align:left}.test-input-label[_ngcontent-%COMP%]{font-family:Roboto-Regular,Helvetica,Arial,sans-serif;line-height:20px;padding-bottom:2px}.test-input-addicon[_ngcontent-%COMP%], .test-input-deleteicon[_ngcontent-%COMP%]{font-size:1rem;display:none;cursor:pointer}.test-input-addicon[_ngcontent-%COMP%]{margin-right:8px}.node-template[_ngcontent-%COMP%]{padding:0 .5rem 0 0}.node-template[_ngcontent-%COMP%]:hover   .test-input-addicon[_ngcontent-%COMP%], .node-template[_ngcontent-%COMP%]:hover   .test-input-deleteicon[_ngcontent-%COMP%]{display:inline-block}.btn-groups[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.m-20[_ngcontent-%COMP%]{margin:0 1rem}.mr-8[_ngcontent-%COMP%]{margin-right:8px!important}.run-input-switch[_ngcontent-%COMP%]{margin:.3rem 0}.input-control[_ngcontent-%COMP%]{margin-left:10px;display:inline-block;padding:0}.field-required[_ngcontent-%COMP%]{color:#c70039;font-weight:900}.table-container[_ngcontent-%COMP%]{transition:transform .1s;min-width:510px}.arr-action-control[_ngcontent-%COMP%]{margin-left:1rem;display:inline-block}.array-index[_ngcontent-%COMP%]{border:1px solid #979797;color:#666;font-size:12px;height:1rem;left:-5.7rem;line-height:.9rem;position:absolute;text-align:center;top:7px;width:1rem;background:#fafafa;font-weight:500}.value-set-container[_ngcontent-%COMP%]   .sc-link-color[_ngcontent-%COMP%]{color:#1776bf;font-weight:400;font-size:14px;text-align:left}.value-set-container[_ngcontent-%COMP%]   .sc-link-color[_ngcontent-%COMP%]:hover{cursor:pointer}']}),Ft),Nt=["runTreeRef"],Ht=["op"],Vt=["pipelineDocumentInput"],Zt=function(e){return{docName:e}},jt=function(){return{width:"70vw"}},zt=function(){return{"overflow-x":"auto","overflow-y":"auto"}};function Ut(e,t){if(1&e){var n=b.gc();b.fc(0,"div",7),b.fc(1,"div",8),b.fc(2,"div",9),b.fc(3,"div",10),b.fc(4,"div",11),b.fc(5,"h1"),b.bd(6),b.uc(7,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(8,"div",12),b.fc(9,"div",10),b.fc(10,"div",13),b.fc(11,"button",14),b.pc("click",function(){return b.Rc(n),b.tc().returnToList()}),b.ac(12,"img",15),b.uc(13,"translate"),b.fc(14,"label",16),b.bd(15),b.uc(16,"translate"),b.ec(),b.ec(),b.fc(17,"div",17),b.fc(18,"button",18),b.pc("click",function(){return b.Rc(n),b.tc().refreshDocumentDetails()}),b.uc(19,"translate"),b.uc(20,"translate"),b.ac(21,"i",19),b.ec(),b.ec(),b.fc(22,"div",20),b.fc(23,"button",21,22),b.pc("click",function(){return b.Rc(n),b.tc().onShowOverlayPanel()}),b.uc(25,"translate"),b.uc(26,"translate"),b.ac(27,"i",23),b.ec(),b.fc(28,"div",24),b.fc(29,"button",25),b.pc("click",function(){return b.Rc(n),b.tc().editDocument()})("focusout",function(e){return b.Rc(n),b.tc().opFocusLost(e)})("keydown.enter",function(){return b.Rc(n),b.tc().editDocument()}),b.uc(30,"translate"),b.bd(31),b.uc(32,"translate"),b.ec(),b.fc(33,"button",26),b.pc("click",function(){return b.Rc(n),b.tc().resubmitDocument()})("focusout",function(e){return b.Rc(n),b.tc().opFocusLost(e)})("keydown.enter",function(){return b.Rc(n),b.tc().resubmitDocument()}),b.uc(34,"translate"),b.bd(35),b.uc(36,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ac(37,"hr"),b.fc(38,"table",27),b.ac(39,"col",28),b.ac(40,"col",29),b.fc(41,"tr"),b.fc(42,"td",30),b.fc(43,"div",31),b.fc(44,"div",32),b.fc(45,"div",8),b.fc(46,"div",33),b.fc(47,"isac-lib-simple-card",34),b.uc(48,"translate"),b.ac(49,"hr",35),b.fc(50,"div",36),b.fc(51,"div",37),b.ac(52,"img",38),b.ec(),b.ec(),b.fc(53,"div",39),b.fc(54,"div",37),b.fc(55,"div",40),b.bd(56),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(57,"div",41),b.fc(58,"div",42),b.fc(59,"isac-lib-simple-card",34),b.uc(60,"translate"),b.fc(61,"table",43),b.ac(62,"col",44),b.ac(63,"col",45),b.fc(64,"tr"),b.fc(65,"td",46),b.uc(66,"translate"),b.bd(67),b.uc(68,"translate"),b.ec(),b.fc(69,"td",47),b.bd(70),b.ec(),b.ec(),b.fc(71,"tr"),b.fc(72,"td",46),b.uc(73,"translate"),b.bd(74),b.uc(75,"translate"),b.ec(),b.fc(76,"td",47),b.bd(77),b.ec(),b.ec(),b.fc(78,"tr"),b.fc(79,"td",46),b.uc(80,"translate"),b.bd(81),b.uc(82,"translate"),b.ec(),b.fc(83,"td",47),b.bd(84),b.ec(),b.ec(),b.fc(85,"tr"),b.fc(86,"td",46),b.uc(87,"translate"),b.bd(88),b.uc(89,"translate"),b.ec(),b.fc(90,"td",48),b.uc(91,"preferredDateTime"),b.bd(92),b.uc(93,"preferredDateTime"),b.ec(),b.ec(),b.fc(94,"tr"),b.fc(95,"td",46),b.uc(96,"translate"),b.bd(97),b.uc(98,"translate"),b.ec(),b.fc(99,"td",49),b.uc(100,"preferredDateTime"),b.bd(101),b.uc(102,"preferredDateTime"),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(103,"div",50),b.fc(104,"div",51),b.fc(105,"div",52),b.fc(106,"isac-lib-simple-card",34),b.uc(107,"translate"),b.ac(108,"hr",35),b.fc(109,"div",39),b.fc(110,"div",53),b.fc(111,"div",54),b.bd(112),b.uc(113,"preferredDateTime"),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(114,"p-dialog",55,56),b.pc("visibleChange",function(e){return b.Rc(n),b.tc().displayEditDocument=e})("onHide",function(){return b.Rc(n),b.tc().cancelDocumentEdit()}),b.fc(116,"p-header"),b.fc(117,"div",57),b.fc(118,"div",58),b.bd(119),b.uc(120,"translate"),b.ec(),b.ec(),b.ec(),b.fc(121,"service-run-input",59,60),b.pc("svcInputLoaded",function(){return b.Rc(n),b.tc().documentInputLoaded()}),b.ec(),b.fc(123,"p-footer"),b.fc(124,"div",61),b.fc(125,"button",62),b.pc("click",function(){return b.Rc(n),b.tc().cancelDocumentEdit()}),b.uc(126,"translate"),b.uc(127,"translate"),b.bd(128),b.uc(129,"translate"),b.ec(),b.fc(130,"button",63),b.pc("click",function(){return b.Rc(n),b.tc().resubmitDocument(!0)}),b.uc(131,"translate"),b.uc(132,"translate"),b.bd(133),b.uc(134,"translate"),b.ec(),b.fc(135,"button",64),b.pc("click",function(){return b.Rc(n),b.tc().saveAndCloseDocumentEdit()}),b.uc(136,"translate"),b.uc(137,"translate"),b.bd(138),b.uc(139,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.ec()}if(2&e){var i=b.tc();b.Lb(6),b.cd(b.wc(7,65,"monitoring.documents.document.name",b.Gc(154,Zt,i.documentDetail.DOCUMENTNAME))),b.Lb(6),b.Bc("alt",b.vc(13,68,"monitoring.documents.return.to.list")),b.Lb(3),b.cd(b.vc(16,70,"monitoring.documents.return.to.list")),b.Lb(3),b.Bc("pTooltip",b.vc(19,72,"monitoring.documents.refresh.document.detail")),b.Mb("aria-label",b.vc(20,74,"monitoring.documents.refresh.document.detail")),b.Lb(5),b.Bc("pTooltip",b.vc(25,76,"monitoring.documents.document.actions")),b.Mb("aria-label",b.vc(26,78,"monitoring.documents.document.actions")),b.Lb(6),b.Mb("aria-label",b.vc(30,80,"monitoring.documents.edit.document.button")),b.Lb(2),b.dd(" ",b.vc(32,82,"monitoring.documents.edit.document.button")," "),b.Lb(2),b.Mb("aria-label",b.vc(34,84,"monitoring.documents.document.resubmit.button")),b.Lb(2),b.dd(" ",b.vc(36,86,"monitoring.documents.document.resubmit.button")," "),b.Lb(12),b.Bc("label",b.vc(48,88,"monitoring.documents.document.status")),b.Lb(5),b.Bc("src",i.getStatusImage(),b.Uc),b.Bc("alt",i.getStatusText()),b.Lb(4),b.cd(i.getStatusText()),b.Lb(3),b.Bc("label",b.vc(60,90,"monitoring.documents.document.information.section")),b.Lb(6),b.Bc("pTooltip",b.vc(66,92,"monitoring.documents.document.name1")),b.Lb(2),b.dd(" ",b.vc(68,94,"monitoring.documents.document.name1")," "),b.Lb(2),b.Bc("pTooltip",i.documentDetail.DOCUMENTNAME),b.Lb(1),b.dd(" ",i.documentDetail.DOCUMENTNAME," "),b.Lb(2),b.Bc("pTooltip",b.vc(73,96,"monitoring.documents.document.id")),b.Lb(2),b.dd(" ",b.vc(75,98,"monitoring.documents.document.id")," "),b.Lb(2),b.Bc("pTooltip",i.documentDetail.DOCUMENTID),b.Lb(1),b.dd(" ",i.documentDetail.DOCUMENTID," "),b.Lb(2),b.Bc("pTooltip",b.vc(80,100,"monitoring.documents.document.client.id")),b.Lb(2),b.dd(" ",b.vc(82,102,"monitoring.documents.document.client.id")," "),b.Lb(2),b.Bc("pTooltip",i.documentDetail.SERVERID),b.Lb(1),b.dd(" ",i.documentDetail.SERVERID," "),b.Lb(2),b.Bc("pTooltip",b.vc(87,104,"monitoring.documents.document.enqueued")),b.Lb(2),b.dd(" ",b.vc(89,106,"monitoring.documents.document.enqueued")," "),b.Lb(2),b.Bc("pTooltip",b.xc(91,108,i.documentDetail.ENQUEUETIMESTAMP,i.preferencesService,i.dateTimePreferenceService)),b.Lb(2),b.dd(" ",b.xc(93,112,i.documentDetail.ENQUEUETIMESTAMP,i.preferencesService,i.dateTimePreferenceService)," "),b.Lb(3),b.Bc("pTooltip",b.vc(96,116,"monitoring.documents.document.timestamp")),b.Lb(2),b.dd(" ",b.vc(98,118,"monitoring.documents.document.timestamp")," "),b.Lb(2),b.Bc("pTooltip",b.xc(100,120,i.documentDetail.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)),b.Lb(2),b.dd(" ",b.xc(102,124,i.documentDetail.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)," "),b.Lb(5),b.Bc("label",b.vc(107,128,"monitoring.document.lastUpdatedCol")),b.Lb(6),b.dd(" ",b.xc(113,130,i.documentDetail.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)," "),b.Lb(2),b.Wc(b.Fc(156,jt)),b.Ac("closeOnEscape",!0)("visible",i.displayEditDocument)("showHeader",!0)("draggable",!0)("resizable",!0)("modal",!0)("contentStyle",b.Fc(157,zt))("focusTrap",!0)("maximizeIcon","dlt-icon-fullscreen")("minimizeIcon","dlt-icon-fullscreen-exit")("closeIcon","dlt-icon-close")("baseZIndex",1)("maximizable",!0)("blockScroll",!0)("closable",!0),b.Lb(5),b.cd(b.vc(120,134,"monitoring.documents.edit.document.button")),b.Lb(6),b.Bc("value",b.vc(127,138,"common.cancel.button.text")),b.Mb("aria-label",b.vc(126,136,"common.cancel.button.text")),b.Lb(3),b.dd(" ",b.vc(129,140,"common.cancel.button.text")," "),b.Lb(2),b.Bc("value",b.vc(132,144,"monitoring.services.service.resubmit.button")),b.Mb("aria-label",b.vc(131,142,"monitoring.services.service.resubmit.button")),b.Lb(3),b.dd(" ",b.vc(134,146,"monitoring.services.service.resubmit.button")," "),b.Lb(2),b.Bc("value",b.vc(137,150,"common.save.button.text")),b.Mb("aria-label",b.vc(136,148,"common.save.button.text")),b.Lb(3),b.dd(" ",b.vc(139,152,"common.save.button.text")," ")}}var $t,Qt,Kt=(($t=function(){function e(t,i,a,c,r,o,s,l,d,u){var h=this;n(this,e),this.route=t,this.location=i,this.translate=a,this.sharedMessageService=c,this.documentAPIService=r,this.monitoringLayoutService=o,this.serviceExecutionService=s,this.router=l,this.toastr=d,this.preferencesService=u,this.homeLink="#/integration/dashboard/overview",this.documentsLink="/monitoring/documents",this.subscriptions=[],this.displayEditDocument=!1,this.subscriptions.push(t.params.subscribe(function(e){h.translate.setDefaultLang("en"),h.subscriptions.push(h.sharedMessageService.getMessage().subscribe(function(e){e&&"change-locale"===e.data.action&&h.translate.use(e.data.data.locale)})),h.refreshDocumentDetails()}))}return a(e,[{key:"refreshDocumentDetails",value:function(){this.documentId=this.route.snapshot.paramMap.get("id"),this.monitoringLayoutService.changeNavItem(this.router.url),this.getDocumentDetails()}},{key:"getDocumentDetails",value:function(){var e=this;this.subscriptions.push(this.documentAPIService.getDocumentDetails(this.documentId).subscribe(function(t){var n=t=t;e.documentDetail=n.details[0],e.serviceExecutionService.setCurrentDocumentInfo(e.documentDetail.DOCUMENTNAME,e.documentId)}))}},{key:"getStatusImage",value:function(){switch(this.documentDetail.STATUS){case 0:return"assets/images/monitoring/Status-Broker-v1-vec24.svg";case 4:return"assets/images/monitoring/failed.svg";case 512:return"assets/images/monitoring/Status-RetriesExceeded-round-vec25.svg";case 32768:return"assets/images/monitoring/resubmitted.svg";case 32770:return"assets/images/monitoring/Status-InDoubt-vec24.svg"}}},{key:"getStatusText",value:function(){switch(this.documentDetail.STATUS){case 0:return this.translate.instant("monitoring.status.broker");case 4:return this.translate.instant("monitoring.status.failed");case 512:return this.translate.instant("monitoring.status.retries.exceeded");case 32768:return this.translate.instant("monitoring.status.resubmitted");case 32770:return this.translate.instant("monitoring.status.in.doubt")}}},{key:"returnToList",value:function(){this.location.back()}},{key:"editDocument",value:function(){this.op&&this.op.nativeElement.click(),this.serviceTreeAndDataLoaded?(this.displayEditDocument=!0,this.makePipelineDialogAccessible()):this.runTreeRef.populateDocumentTreeAndData(),this.serviceTreeAndDataLoaded=!0}},{key:"documentInputLoaded",value:function(){this.displayEditDocument=!0,this.makePipelineDialogAccessible()}},{key:"makePipelineDialogAccessible",value:function(){var e=this;setTimeout(function(){var t=document.getElementById("documentPipelineInput");y.J.makeDialogAccessible(t,e.translate.instant("common.restore.title"),e.translate.instant("common.maximize.title"),e.translate.instant("common.close.title"));var n=document.getElementById("minimizeMaximize");n&&(n.focus(),e.minMaxEvt&&n.removeEventListener("click",e.minMaxEvt),e.minMaxEvt=e.makePipelineDialogAccessible.bind(e),n.addEventListener("click",e.minMaxEvt))},200)}},{key:"cancelDocumentEdit",value:function(){this.displayEditDocument=!1}},{key:"saveAndCloseDocumentEdit",value:function(){this.runTreeRef.saveDocument(),this.displayEditDocument=!1,this.toastr.success(this.translate.instant("monitoring.documents.document.save.success.msg"),this.translate.instant("monitoring.documents.document.save.success.title"))}},{key:"resubmitDocument",value:function(e){var t=this;this.op&&!e&&this.op.nativeElement.click(),setTimeout(function(){var e=t.runTreeRef.getDocumentForResubmit();t.subscriptions.push(t.documentAPIService.resubmitDocument(t.documentId,t.documentDetail.DOCUMENTNAME,e).subscribe(function(e){e&&e.length>0?t.toastr.error(t.translate.instant("monitoring.documents.document.resubmit.failure.msg",{errMsg:e}),t.translate.instant("monitoring.documents.document.resubmit.failure.title")):(t.runTreeRef.saveDocument(),t.displayEditDocument=!1,t.toastr.success(t.translate.instant("monitoring.documents.document.resubmit.success.msg"),t.translate.instant("monitoring.documents.document.resubmit.success.title")))}))},500)}},{key:"onShowOverlayPanel",value:function(){setTimeout(function(){var e=document.getElementById("editDocumentPipeline");e&&e.focus()},100)}},{key:"opFocusLost",value:function(e){if(e&&e.target&&"resubmitDocument"===e.target.id){if(e.relatedTarget&&"editDocumentPipeline"===e.relatedTarget.id)return}else if(e&&e.target&&"editDocumentPipeline"===e.target.id&&e.relatedTarget&&"resubmitDocument"===e.relatedTarget.id)return;this.op.nativeElement.click()}},{key:"goToHomePage",value:function(){this.router.navigateByUrl(this.homeLink)}},{key:"goToDocumentListPage",value:function(){this.router.navigateByUrl(this.documentsLink)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}()).\u0275fac=function(e){return new(e||$t)(b.Zb(m.a),b.Zb(g.j),b.Zb(d.d),b.Zb(y.A),b.Zb(T),b.Zb(M),b.Zb(I),b.Zb(m.e),b.Zb(O.b),b.Zb(f.PreferencesService))},$t.\u0275cmp=b.Tb({type:$t,selectors:[["app-document-details"]],viewQuery:function(e,t){var n;1&e&&(b.hd(Nt,1),b.hd(Ht,1),b.hd(Vt,1)),2&e&&(b.Oc(n=b.qc())&&(t.runTreeRef=n.first),b.Oc(n=b.qc())&&(t.op=n.first),b.Oc(n=b.qc())&&(t.pipelineInput=n.first))},inputs:{documentDetail:"documentDetail"},decls:16,vars:10,consts:[[1,"d-flex","flex-row"],[1,"breadcrumbs-container","flex-grow-1"],["aria-label","breadcrumb",1,"dlt-breadcrumbs"],["routerLink","/integration/dashboard/overview","tabindex","0",1,"dlt-links"],["routerLink","/monitoring/documents",1,"dlt-links"],["aria-current","page",1,"dlt-links"],["class","detailcontainer",4,"ngIf"],[1,"detailcontainer"],[1,"row"],[1,"col-md-6"],[1,"dlg-title-wrapper"],[1,"page-title"],[1,"col-md-6","text-right"],[1,"btn-container"],["id","returnToDocumentsList",1,"iconButton1",3,"click"],["src","assets/images/return-to-previous-arrow-icon24.svg",3,"alt"],[1,"lbl-return"],[1,"dlt-dropdown"],["showDelay","250",1,"dlt-button","dlt-button-icon","iconButton2",3,"pTooltip","click"],[1,"dlt-icon-refresh","dlg-icon-btn"],["ngbDropdown","","placement","bottom-right",1,"dlt-dropdown","ngbDropdown"],["ngbDropdownToggle","","id","documentActionsDropDown","showDelay","250","tabindex","0",1,"dlt-button","dlt-button-icon","hide-caret","iconButton2",3,"pTooltip","click"],["op",""],[1,"dlt-icon-more-menu","actions-menu","dlg-icon-btn"],["ngbDropdownMenu","",1,"isac-overflow-menu"],["ngbDropdownItem","","id","editDocumentPipeline","tabindex","0",3,"click","focusout","keydown.enter"],["ngbDropdownItem","","id","resubmitDocument","tabindex","0",3,"click","focusout","keydown.enter"],["id","mainTable",1,"main"],["width","100%"],["height","100%"],["valign","top","height","100%"],[1,"row","rowone"],[1,"colone"],[1,"doc-card1"],[3,"label"],[1,"hr1"],[1,"col-1"],[1,"card2"],[2,"width","36px","height","36px",3,"src","alt"],[1,"col-2"],[1,"doc-data1"],[1,"row","row-narrow"],[1,"doc-card2"],[1,"doc-info"],["width","30%"],["width","70%"],["showDelay","250","tooltipPosition","top",1,"doc-data3","doc-info",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"doc-data4","doc-info",3,"pTooltip"],["id","docEnqueued","showDelay","250","tooltipPosition","top",1,"doc-data4","doc-info",3,"pTooltip"],["id","docTimestamp","showDelay","250","tooltipPosition","top",1,"doc-data4","doc-info",3,"pTooltip"],[1,"float-left","d-flex","align-items-stretch","coltwo"],[2,"width","100%"],[1,"doc-card3"],[1,"card2a"],["id","lastUpdated",1,"doc-data1a"],["id","documentPipelineInput","position","center",3,"closeOnEscape","visible","showHeader","draggable","resizable","modal","contentStyle","focusTrap","maximizeIcon","minimizeIcon","closeIcon","baseZIndex","maximizable","blockScroll","closable","visibleChange","onHide"],["pipelineDocumentInput",""],[1,"dlg-title-wrapper","doc-title-wrapper"],[1,"dlg-title-row"],[3,"svcInputLoaded"],["runTreeRef",""],[1,"dlg-footer-buttons-wrapper","doc-footer-wrapper"],["id","document_pipeline_cancel",1,"dlt-button","dlt-button-secondary","cancel-modal",3,"value","click"],["id","document_pipeline_resubmit",1,"dlt-button","dlt-button-secondary",3,"value","click"],["id","document_pipeline_save",1,"dlt-button","dlt-button-primary","save-modal","dlg-rt-btn",3,"value","click"]],template:function(e,t){1&e&&(b.fc(0,"div",0),b.fc(1,"div",1),b.fc(2,"ol",2),b.fc(3,"li"),b.fc(4,"a",3),b.bd(5),b.uc(6,"translate"),b.ec(),b.ec(),b.fc(7,"li"),b.fc(8,"a",4),b.bd(9),b.uc(10,"translate"),b.ec(),b.ec(),b.fc(11,"li"),b.fc(12,"a",5),b.bd(13),b.uc(14,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.Zc(15,Ut,140,158,"div",6)),2&e&&(b.Lb(5),b.cd(b.vc(6,4,"masthead.administration")),b.Lb(4),b.cd(b.vc(10,6,"monitoring.documents.tab")),b.Lb(4),b.cd(b.vc(14,8,"monitoring.documents.document.detail.pagetitle")),b.Lb(2),b.Ac("ngIf",t.documentDetail))},directives:[m.h,g.n,_.a,u.b,u.f,u.e,u.d,f.SimpleCardComponent,P.a,D.g,Bt,D.f],pipes:[d.c,y.t],styles:['.breadcrumbs-container[_ngcontent-%COMP%]{padding-top:.7rem}.rightSideFixedcontainer[_ngcontent-%COMP%]{padding-top:.8rem;margin-right:25px}.detailcontainer[_ngcontent-%COMP%]{width:100%;height:100%;padding:1rem;overflow:auto}.page-title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;width:100%;padding-left:.25rem;font-family:Roboto,Helvetica,Arial,sans-serif}table.main[_ngcontent-%COMP%]{width:"100%";height:"100%";margin-left:.46rem}.iconButton[_ngcontent-%COMP%]{font-size:1.25rem}.iconButton[_ngcontent-%COMP%], .iconButton1[_ngcontent-%COMP%]{font-weight:400;vertical-align:middle;margin-right:5px}.iconButton1[_ngcontent-%COMP%]{font-size:1.46rem;margin-top:0;margin-bottom:0;padding-right:-15px;background:none;padding-top:0;padding-bottom:2px;border:2px solid transparent;outline:none}.iconButton1[_ngcontent-%COMP%]:hover{border:2px solid #1776bf}.iconButton1[_ngcontent-%COMP%]:focus{border-color:#1776bf}.iconButton2[_ngcontent-%COMP%]{font-size:1.46rem;font-weight:400;vertical-align:middle;margin-right:7px;border:2px solid transparent;background:none;outline:none;color:#000}.iconButton2[_ngcontent-%COMP%]:hover{border:2px solid #1776bf}.lbl-return[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:1.02rem;vertical-align:middle;padding-top:0;color:#1776bf;margin:0 10px 2px 5px;cursor:pointer}.btn-container[_ngcontent-%COMP%]{width:100%;padding:0}.doc-data1[_ngcontent-%COMP%]{margin-bottom:1rem;margin-left:1rem}.doc-data1[_ngcontent-%COMP%], .doc-data1a[_ngcontent-%COMP%]{margin-top:.22rem;font-size:1.25rem;font-family:Roboto,Helvetica,Arial,sans-serif;white-space:nowrap}.doc-data1a[_ngcontent-%COMP%]{margin-left:0;min-width:280px}.doc-data2[_ngcontent-%COMP%], .doc-data2a[_ngcontent-%COMP%]{margin-top:.22rem;margin-left:1rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif}.doc-data3[_ngcontent-%COMP%]{margin-left:2rem;font-weight:500}.doc-data3[_ngcontent-%COMP%], .doc-data4[_ngcontent-%COMP%]{margin-top:-.6rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif;white-space:nowrap}.doc-data4[_ngcontent-%COMP%]{margin-left:0}.doc-data5[_ngcontent-%COMP%]{margin-top:-.6rem;margin-left:-2rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif;color:#1d7ac1;white-space:nowrap;text-align:left}.doc-card[_ngcontent-%COMP%]{padding-bottom:2rem}.doc-card[_ngcontent-%COMP%], .doc-card1[_ngcontent-%COMP%]{padding-left:1.05rem;width:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.doc-card1[_ngcontent-%COMP%]{padding-right:1.05rem;padding-bottom:2.12rem;min-width:500px}.doc-card2[_ngcontent-%COMP%]{padding-left:1.05rem;padding-right:1.05rem;min-width:500px}.doc-card2[_ngcontent-%COMP%], .doc-card3[_ngcontent-%COMP%]{padding-bottom:.9rem;width:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.doc-card3[_ngcontent-%COMP%]{margin-left:0;padding-left:.1rem;min-width:300px;height:100%}.hr1[_ngcontent-%COMP%]{width:100%;margin-left:1.65rem;margin-right:1.65rem;margin-top:.4rem}.hr1a[_ngcontent-%COMP%]{margin-top:.4rem}.hr1a[_ngcontent-%COMP%], .hr1b[_ngcontent-%COMP%]{width:100%;margin-left:1rem;margin-right:1rem}.hr1b[_ngcontent-%COMP%]{margin-top:-1.6rem}.vr1[_ngcontent-%COMP%]{width:10px;size:500;position:absolute;top:0;bottom:0;left:150px}.hr2[_ngcontent-%COMP%]{width:100%;margin-left:1.65rem;margin-right:1.65rem;margin-top:.4rem;border-top:0}.card2[_ngcontent-%COMP%]{margin-bottom:.4rem}.card2[_ngcontent-%COMP%], .card2a[_ngcontent-%COMP%]{border:0 solid;margin-left:.65rem;margin-top:0;font-family:Roboto,Helvetica,Arial,sans-serif}.card2a[_ngcontent-%COMP%]{margin-bottom:.55rem}.card3[_ngcontent-%COMP%]{font-size:16px;font-weight:700;border:0 solid;margin:-.4rem .65rem .4rem}.card4[_ngcontent-%COMP%], .card5[_ngcontent-%COMP%]{border:0 solid;margin-left:.65rem;margin-top:-2rem;font-family:Roboto,Helvetica,Arial,sans-serif}.card5[_ngcontent-%COMP%]{margin-bottom:1rem}table.doc-info[_ngcontent-%COMP%]{width:100%;margin:.4rem 1.65rem 1.5rem;border:none;border-collapse:collapse}table.doc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;border:1px solid #e5e5e5}table.doc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none}table.doc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none}.row-narrow[_ngcontent-%COMP%]{margin-top:-20px}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.actions-menu[_ngcontent-%COMP%]:before{font-size:1.31rem!important;font-weight:800!important;line-height:16px;width:18px;height:18px;margin-top:4px;padding-left:2px}.rowone[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;margin-left:0}.colone[_ngcontent-%COMP%]{padding-right:10px}.colone[_ngcontent-%COMP%], .coltwo[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:1;overflow:hidden;margin-right:.6rem}.coltwo[_ngcontent-%COMP%]{padding-right:11px}.doc-title-wrapper[_ngcontent-%COMP%]{margin-top:4px}.doc-footer-wrapper[_ngcontent-%COMP%]{margin-right:.1rem;margin-top:1rem}  .dlt-icon-fullscreen:before{content:url(Expand-dialog-vec18.4ec93a215fa9f4638f8b.svg)}  .dlt-icon-fullscreen-exit:before{content:url(Collapse-dialog-vec18.c764bb320fbb6335e037.svg)}']}),$t),Wt=c("XNiG"),qt=c("1G5W"),Xt=((Qt=function(){function e(){n(this,e),this.fullScreenTable=!1,this._documentSearchQuery=null}return a(e,[{key:"timeRange",get:function(){return this._timeRange},set:function(e){this._timeRange=e}},{key:"tableFilters",get:function(){return this._tableFilters},set:function(e){this._tableFilters=e}},{key:"basicSearchFilters",get:function(){return this._basicSearchFilters},set:function(e){this._basicSearchFilters=e}},{key:"documentSearchQuery",get:function(){return this._documentSearchQuery},set:function(e){this._documentSearchQuery=e}},{key:"refreshInterval",get:function(){return this._refreshInterval},set:function(e){this._refreshInterval=e}}]),e}()).\u0275fac=function(e){return new(e||Qt)},Qt.\u0275prov=b.Vb({token:Qt,factory:Qt.\u0275fac,providedIn:"root"}),Qt),Jt=function(){var e=function(){function e(){n(this,e)}return a(e,null,[{key:"getBasicSearchFields",value:function(e){return{typeSet:{name:"typeSet",label:"monitoring.document.typeColumn",type:"multiSelect",options:e,value:null,nullable:!0},documentName:{name:"documentName",label:"monitoring.document.documentNameCol",type:"text",nullable:!0}}}},{key:"getDefaultBasicSearchTableFilters",value:function(e){return[{filterBy:"typeSet",filterValue:null,label:"monitoring.document.typeColumn",type:"multiSelect",options:e},{filterBy:"documentName",filterValue:null,label:"monitoring.document.documentNameCol",type:"text",nullable:!0}]}},{key:"getAdvancedSearchBuilderConfig",value:function(){return{searchFields:{documentName:{name:"documentName",label:"monitoring.document.documentNameCol",type:"text",nullable:!0},documentID:{name:"documentID",label:"monitoring.document.docIdCol",type:"text",nullable:!0},clientID:{name:"clientID",label:"monitoring.document.serverIdCol",type:"text",nullable:!0},typeSet:{name:"typeSet",label:"monitoring.document.typeColumn",type:"multiSelect",options:null,value:null,nullable:!0}}}}},{key:"getAllSearchFields",value:function(){return{documentName:{name:"documentName",label:"monitoring.document.documentNameCol",type:"text",nullable:!0},documentID:{name:"documentID",label:"monitoring.document.docIdCol",type:"text",nullable:!0},clientID:{name:"clientID",label:"monitoring.document.serverIdCol",type:"text",nullable:!0},typeSet:{name:"typeSet",label:"monitoring.document.typeColumn",type:"multiSelect",options:null,value:null,nullable:!0}}}},{key:"getSearchField",value:function(t){return e.getAllSearchFields()[t]}}]),e}();return e.statusOptions=[{label:"monitoring.services.service.status.completed",value:"completed"},{label:"monitoring.services.service.status.failed",value:"failed"},{label:"monitoring.services.service.status.started",value:"started"},{label:"monitoring.services.service.status.resubmitted",value:"resubmitted"}],e}(),Gt=c("VphZ"),Yt=["acPaiChart"];function en(e,t){1&e&&(b.fc(0,"div",3),b.bd(1," NO CHART DATA\n"),b.ec())}var tn,nn,an,cn=((tn=function(){function e(t){n(this,e),this.translate=t,this.pieItemClicked=new b.p,this.sum=0,this.displaytext=!0}return a(e,[{key:"ngOnInit",value:function(){this.margin={top:15,right:5,bottom:15,left:5}}},{key:"ngAfterViewInit",value:function(){this.data&&this.piechart()}},{key:"piechart",value:function(){this.host=this.element.nativeElement,this.setDimentions();var e=this.width,t=this.height,n=this.radius;this.sum=Gt.sum(this.data.map(function(e){return e.value}));var i=!1;this.displaytext=!1;for(var a=0,c=0;c<this.data.length;c++)this.data[c].value>0&&(a+=1);a<=2&&(i=!0,this.displaytext=!0),Gt.scaleOrdinal(Gt.schemeCategory10);var r=Gt.select(this.host).append("svg").attr("width",this.widthPercent+"%").attr("height",this.heightPercent+"%").attr("viewBox","-10 -10 "+(e+20)+" "+(t+10)).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("transform","translate("+e/2+","+t/2+")"),o=Gt.arc().outerRadius(n);o=o.innerRadius(i?n-20:0);var s=Gt.arc().innerRadius(i?n-20:0).outerRadius(n+10),l=Gt.pie().value(function(e,t){var n=e.value;return n>0&&n/u.sum*100<1?u.sum/100:n}).sort(null),d=Gt.select(this.host).append("div").attr("class","tooltip");d.append("span").attr("class","statusRect"),d.append("span").attr("class","label"),d.append("span").attr("class","count"),d.append("div").attr("class","percent"),d.style("display","none");var u=this,h=l(this.data),f=a>1?"#fff":"#ffffff00";if(r.selectAll("path").data(h).enter().append("path").attr("role","presentation").attr("class","arc").attr("d",o).attr("tabindex",0).attr("stroke",f).attr("stroke-width",1).attr("fill",function(e,t){return e.data.color}).on("click",function(e,t,n){u.handleClick(t)}).on("keydown",function(e,t){13===e.keyCode&&u.handleClick(t)}).on("focus",function(e,t){Gt.select(this).attr("stroke","#1776BF")}).on("blur",function(e,t,n){Gt.select(this).attr("stroke",f)}).on("mouseover",function(e,t,n){var i=Math.round(1e3*t.data.value/u.sum)/10;d.select(".label").html(u.getTranslatedString(t.data.displayLabel)).style("color","black"),d.select(".count").html(t.data.value),d.select(".percent").html(i+"%"),d.select(".statusRect").style("background-color",t.data.color),d.style("display","block"),d.style("opacity",1),Gt.select(this).style("cursor","pointer"),Gt.select(this).transition().duration(500).attr("d",s)}).on("mouseout",function(e,t,n){Gt.select(this).style("cursor","default"),Gt.select(this).style("fill",t.data.color),d.style("display","none"),d.style("opacity",0),Gt.select(this).transition().duration(500).attr("d",o)}).on("mousemove",function(e,t){d.style("top",e.layerY+10+"px").style("left",e.layerX-25+"px")}).transition().delay(10).duration(500).attrTween("d",function(e,t){if(0===t){var n=Gt.interpolate(0,e.endAngle);return function(t){return e.endAngle=n(t),o(e)}}}),this.displaytext){var g=this.getCenterTextValue()[0],p="black";r.append("text").attr("text-anchor","middle").attr("fill",p).style("font","1.2em Roboto").attr("y",0).text(g),0!==this.sum&&r.append("text").attr("text-anchor","middle").attr("fill",p).attr("font-size","1em").attr("y",15).text(this.getTranslatedString(this.getCenterTextValue()[1]))}}},{key:"handleClick",value:function(e){this.pieItemClicked.emit(e.data)}},{key:"setDimentions",value:function(){this.width=parseInt(Gt.select(this.element.nativeElement).style("width"))-this.margin.left-this.margin.right,this.height=parseInt(Gt.select(this.element.nativeElement).style("height")),this.widthPercent||(this.widthPercent=100),this.heightPercent||(this.heightPercent=100),this.radius=Math.min(this.width,this.height)/2}},{key:"getCenterTextValue",value:function(){var e,t,n=this.sum;if(n>0)for(var i=0;i<this.data.length;i++)this.data[i].value>0&&(!e||e<this.data[i].value)&&(e=this.data[i].value,t=this.getTranslatedString(this.data[i].displayLabel));return e?[(e/n*100).toFixed(2)+"%",t]:["",""]}},{key:"getTranslatedString",value:function(e){return this.translate.instant(e)}}]),e}()).\u0275fac=function(e){return new(e||tn)(b.Zb(d.d))},tn.\u0275cmp=b.Tb({type:tn,selectors:[["d3-donut-chart"]],viewQuery:function(e,t){var n;1&e&&b.hd(Yt,1),2&e&&b.Oc(n=b.qc())&&(t.element=n.first)},inputs:{data:"data",heightInput:"heightInput",widthPercent:"widthPercent",heightPercent:"heightPercent"},outputs:{pieItemClicked:"pieItemClicked"},decls:3,vars:3,consts:[[1,"donut"],["acPaiChart",""],["class","loadingMessageFrame loadingMessage",4,"ngIf"],[1,"loadingMessageFrame","loadingMessage"]],template:function(e,t){1&e&&(b.ac(0,"div",0,1),b.Zc(2,en,2,0,"div",2)),2&e&&(b.Xc("height",t.heightInput),b.Lb(2),b.Ac("ngIf",!t.data))},directives:[g.n],styles:[".donut[_ngcontent-%COMP%]{width:100%;height:200px;vertical-align:middle;overflow:hidden}  .tooltip{background:#fff!important;box-shadow:0 0 0 #999!important;border:1px solid #999!important;color:#333;font-size:12px;left:130px;padding:10px;position:absolute;text-align:left;top:95px;width:200px;display:block;opacity:0;background-clip:padding-box!important}  .label{padding-right:10px;padding-left:15px;text-align:center}  .count{text-align:center;padding-right:10px}  .statusRect{width:10px!important;height:10px!important;background-color:blue;position:absolute;top:15px}.loadingMessage[_ngcontent-%COMP%]{text-align:center}.loadingMessageFrame[_ngcontent-%COMP%]{padding-bottom:11.7%;padding-top:11.7%}  .arc:focus{outline:none}"]}),tn),rn=["myChartLegend"],on=["myChartLegendWrapper"],sn=((nn=function(){function e(t){n(this,e),this.translate=t,this.legendItemClicked=new b.p,this.rectSize=12,this.padding=6}return a(e,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.margin={top:0,right:0,bottom:0,left:0},this.width=parseInt(Gt.select(this.myChartLegendWrapper.nativeElement).style("width"))-this.margin.left-this.margin.right,this.height=parseInt(Gt.select(this.myChartLegendWrapper.nativeElement).style("height"))-this.margin.top-this.margin.bottom,this.data&&this.renderLegends()}},{key:"renderLegends",value:function(){var e=this,t=e.calculateCenterAlignedYPosition();Gt.select("this.myChartLegendWrapper.nativeElement").selectAll("*").remove();var n=Gt.select(this.myChartLegendWrapper.nativeElement).append("svg").attr("class","legendsvg").attr("width","100%").attr("height","100%").attr("display","block").style("overflow","visible").attr("viewBox","0 0 "+this.width+" "+this.height).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("class","legend").attr("transform","translate(0,"+t+")"),i=this.rectSize;n.selectAll("rect").data(this.data).enter().append("circle").attr("tabindex",0).attr("r",i/2).attr("cx",6).attr("cy",function(t,n){return 1+i/2+n*(i+e.padding)}).style("fill",function(e,t){return e.color}).style("cursor","pointer").on("click",function(t,n){e.onClick(n)}).on("keydown",function(t,n){13===t.keyCode&&e.onClick(n)}),n.selectAll("text").data(this.data).enter().append("text").attr("tabindex",0).text(function(t,n){return e.getTranslatedString(t.displayValue)}).attr("x",6+1.2*i).attr("y",function(t,n){return 1+i/2+n*(i+e.padding)}).style("font","1.0em Roboto").style("alignment-baseline","middle").style("cursor","pointer").on("click",function(t,n){e.onClick(n)}).on("keydown",function(t,n){13===t.keyCode&&e.onClick(n)}),n.selectAll(".legend").data(e.data).enter().append("g").attr("class","count").append("text").attr("tabindex",0).text(function(e,t){var n=" 0";return e.count&&(n=" "+e.count),n}).attr("x",e.getMaxTextWidth()+6+1.2*i).attr("y",function(t,n){return 1+i/2+n*(i+e.padding)}).style("font","1.0em Roboto").style("alignment-baseline","middle").style("cursor","pointer").on("click",function(t,n){e.onClick(n)}).on("keydown",function(t,n){13===t.keyCode&&e.onClick(n)})}},{key:"calculateCenterAlignedYPosition",value:function(){var e=80;return this.data.length>0&&(e=this.data.length*(this.rectSize+this.padding)),(this.height-e)/2}},{key:"onClick",value:function(e){this.legendItemClicked.emit({label:e.key})}},{key:"getTranslatedString",value:function(e){return this.translate.instant(e)}},{key:"getMaxTextWidth",value:function(){var e=this,t=12,n="Resubmitted";return this.data.forEach(function(i){var a=e.getTranslatedString(i.displayValue);a&&a.length>t&&(t=t,n=a)}),this.getTextWidth(n)+5}},{key:"getTextWidth",value:function(e){if(!Gt)return 12;var t=Gt.select("body").append("svg");t.append("text").attr("x",-99999).attr("y",-99999).style("font","1.0em Roboto").text(e);var n=t.node().getBBox();return t.remove(),n.width}}]),e}()).\u0275fac=function(e){return new(e||nn)(b.Zb(d.d))},nn.\u0275cmp=b.Tb({type:nn,selectors:[["app-chart-legend"]],viewQuery:function(e,t){var n;1&e&&(b.hd(rn,1),b.hd(on,1)),2&e&&(b.Oc(n=b.qc())&&(t.myChartLegend=n.first),b.Oc(n=b.qc())&&(t.myChartLegendWrapper=n.first))},inputs:{data:"data",heightInput:"heightInput"},outputs:{legendItemClicked:"legendItemClicked"},decls:2,vars:2,consts:[[1,"legendWrapper"],["myChartLegendWrapper",""]],template:function(e,t){1&e&&b.ac(0,"div",0,1),2&e&&b.Xc("height",t.heightInput)},styles:[".legendWrapper[_ngcontent-%COMP%]{width:100%;display:flex;vertical-align:middle}.legendsvg[_ngcontent-%COMP%]{display:block}"]}),nn),ln=c("XoFe"),dn=["acBarChart"],un=((an=function(){function e(t,i,a){n(this,e),this.dateTimeService=t,this.translate=i,this.d3HelperService=a,this.margin={top:20,bottom:20,left:20,right:20},this.isLocalizationResourcesLoaded=!1,this.subscriptions=[]}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions.push(this.translate.get("common.calendar.periods").subscribe(function(){e.isLocalizationResourcesLoaded=!0}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"ngAfterViewInit",value:function(){this.margin={top:10,right:10,bottom:10,left:10},this.width=parseInt(Gt.select(this.element.nativeElement).style("width"))-this.margin.left-this.margin.right,this.height=parseInt(Gt.select(this.element.nativeElement).style("height"))-this.margin.top-this.margin.bottom,this.renderChart()}},{key:"initialize",value:function(){this.originalInputData=this.data,this.nativeElementRef=this.element.nativeElement,this.chartId="chart"+this.chartno,this.padding={top:10,right:10,bottom:10,left:10},this.svg=Gt.select(this.nativeElementRef).append("svg").attr("width","100%").attr("height","100%").attr("display","block").style("overflow","visible").attr("viewBox"," 0 0 "+this.width+" "+this.height).attr("preserveAspectRatio","xMinYMin meet").append("g").attr("id",this.chartId).attr("transform","translate(0,0)")}},{key:"renderChart",value:function(){if(this.data){this.columns=new Array,this.barColors=new Array;for(var e=0;e<this.columnKeyColorArray.length;e++){var t=this.columnKeyColorArray[e];this.columns.push(t.key),this.barColors.push(t.color)}this.initialize(),this.updatechart(this.originalInputData)}}},{key:"ngOnChanges",value:function(e){var t=e.data;t&&t.currentValue&&this.svg&&(this.originalInputData=t.currentValue,this.updatechart(this.originalInputData))}},{key:"updateLegendTextForDayAndMonth",value:function(){this.chartXAxisTitle||(this.chartXAxisTitle=this.translate.instant("common.chart.label.time.duration.weeks",[this.dateTimeService.converUTCTimeStampToLocalDateFormatString(this.startDate),this.dateTimeService.converUTCTimeStampToLocalDateFormatString(this.endDate)])),this.svg.append("text").attr("class","legendtext"+this.chartno).style("font","1em Roboto").style("font-weight","500").attr("fill","#808080").attr("text-anchor","middle").attr("x",this.width/2).attr("y",this.height).text(this.chartXAxisTitle).attr("dy","2em")}},{key:"updatechart",value:function(e){var t=this,n=this;if(this.chartId="#"+this.chartId+" > g ",Gt.selectAll(this.chartId).remove(),e||0!=e.length){var i=this.columns,a=Gt.stack().keys(i)(e),c=Gt.max(a,function(e){return Gt.max(e,function(e){return e[0]+e[1]})});this.startDate=e[0].startTime,this.endDate=e[e.length-1].endTime;var r=e.length>12?14*e.length:20*e.length;r>=this.width-40&&(r=this.width-40);var o=Gt.scaleTime().domain([this.startDate,this.endDate]).rangeRound([20,this.width-40]);this.svg.append("g").attr("class","x_axis").style("font",".85em Roboto").style("color","#616161").style("font-weight","400").attr("transform","translate(0,"+(n.height-20)+")").call(Gt.axisBottom(o).tickPadding(5).tickFormat(function(e){return n.d3HelperService.multiFormat(e)}).tickSizeInner(2).tickSizeOuter(5)).select(".domain").style("fill","none").style("stroke","rgb(204,204,204)").style("shape-rendering","crispEdges");var s=Gt.scaleLinear().domain([0,c]).range([this.height-this.margin.bottom-this.margin.top,0]),l=Gt.scaleOrdinal().domain(i).range(this.barColors),d=this.svg.append("g").selectAll("g").data(a).enter().append("g").attr("fill",function(e){return l(e.key)}).style("fill",function(e,t){return l(e.key)}),u=d.selectAll("rect").data(function(e){return e}).enter().append("rect").attr("x",function(e){return o(e.data.startTime)}).attr("y",function(e){return s(e[1])}).attr("height",function(e){return s(e[0])-s(e[1])}).attr("width",15);d.data(a),u.data(function(e,t){return this.tootltipstatus="Completed Successfully ",this.tooltipcolor=f.COLOR_HEX.SUCCESS,1===t&&(this.tooltipstatus="Failed ",this.tooltipcolor="red"),e}),d.selectAll("rect").on("mousemove",function(e,t,i){var a=Gt.select(this.parentNode);this.xPosition=ln.a(e,this)[0]+15,this.yPosition=ln.a(e,this)[1]-25,h.attr("transform",this.xPosition>n.width-200?this.yPosition<0?" translate("+(this.xPosition-220)+","+(this.yPosition+50)+")":" translate("+(this.xPosition-220)+","+(this.yPosition-50)+")":" translate("+this.xPosition+","+this.yPosition+")"),h.select("text.y0"),h.select("text.y1"),h.select("rect.legend").style("fill",a.attr("fill")),this.tooltipstatus=n.getTooltipStatus(a.attr("fill")),h.select("text.legend").text(this.tooltipstatus+n.getTooltipCount(a.attr("fill"),t)),h.select("text.y0").text(n.dateTimeService.converUTCTimeStampToLocalDateFormatString(t.data.startTime)+" - "),h.select("text.y1").text(n.dateTimeService.converUTCTimeStampToLocalDateFormatString(t.data.endTime))}).on("mouseover",function(e){t.tooltipstatus=!0,h.style("display","inline"),h.style("position","absolute")}).on("mouseout",function(e){h.style("display","none"),t.tooltipstatus=!1});var h=this.createTooptip();this.updateLegendTextForDayAndMonth()}}},{key:"createTooptip",value:function(){var e=this.svg.append("g").attr("class","tip").style("display","none");return e.append("rect").attr("width",200).attr("height",80).attr("fill","white").attr("stroke","#999999").attr("stroke-width",.5).style("opacity",1),e.append("rect").attr("class","legend").attr("x",10).attr("y","2em").attr("width",12).attr("height",12).attr("transform",function(e,t){return"translate( 1, -13)"}).style("fill","grey"),e.append("text").attr("class","legend").attr("x",26).attr("y","2em").attr("font-size","12px").style("text-anchor","start").text("Failed"),e.append("text").attr("class","y0").attr("x",10).attr("dy","4em").style("text-anchor","left").attr("font-size","12px").attr("font-color","white").text(""),e.append("text").attr("class","y1").attr("x",10).attr("dy","5.5em").style("text-anchor","left").attr("font-size","12px").attr("font-color","white").text(""),e}},{key:"getTooltipStatus",value:function(e){for(var t=0;t<this.columnKeyColorArray.length;t++){var n=this.columnKeyColorArray[t];if(n.color===e)return this.translate.instant(n.displayValue)+" "}}},{key:"getTooltipCount",value:function(e,t){for(var n=0;n<this.columnKeyColorArray.length;n++){var i=this.columnKeyColorArray[n];if(i.color===e)return t.data.hasOwnProperty(i.key+"Original")?t.data[i.key+"Original"]:t.data[i.key]}return 0}},{key:"getTranslatedString",value:function(e){return this.translate.instant(e)}},{key:"getTextWidth",value:function(e){if(!Gt)return 100;var t=Gt.select("body").append("svg");t.append("text").attr("x",-99999).attr("y",-99999).style("font","500 1em Roboto").text(e);var n=t.node().getBBox();return t.remove(),n.width}}]),e}()).\u0275fac=function(e){return new(e||an)(b.Zb(f.DateTimeService),b.Zb(d.d),b.Zb(f.D3HelperService))},an.\u0275cmp=b.Tb({type:an,selectors:[["ac-d3-stacked-bar-chart"]],viewQuery:function(e,t){var n;1&e&&b.hd(dn,1),2&e&&b.Oc(n=b.qc())&&(t.element=n.first)},inputs:{data:"data",chartno:"chartno",heightInput:"heightInput",columnKeyColorArray:"columnKeyColorArray",chartXAxisTitle:"chartXAxisTitle"},features:[b.Jb],decls:2,vars:2,consts:[[1,"acbarchart"],["acBarChart",""]],template:function(e,t){1&e&&b.ac(0,"div",0,1),2&e&&b.Xc("height",t.heightInput)},styles:[".acbarchart[_ngcontent-%COMP%]{width:100%;height:200px}.tip[_ngcontent-%COMP%]{background:#fff!important;box-shadow:0 0 5px #999!important;font-size:12px;text-align:left;color:#333}"]}),an),hn=c("fo5N"),fn=c("ZRSf"),gn=["searchInputs"];function pn(e,t){if(1&e&&(b.fc(0,"option",20),b.bd(1),b.uc(2,"translate"),b.ec()),2&e){var n=t.$implicit,i=b.tc(3);b.Ac("ngValue",n.name)("disabled",i.disableFieldItem(n)),b.Lb(1),b.dd(" ",b.vc(2,3,n.label)," ")}}function vn(e,t){if(1&e){var n=b.gc();b.fc(0,"p-autoComplete",21),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc().$implicit.value=e})("completeMethod",function(e){return b.Rc(n),b.tc(3).filterServices(e)})("ngModelChange",function(){return b.Rc(n),b.tc(3).changeInput()}),b.uc(1,"translate"),b.ec()}if(2&e){var i=b.tc().$implicit,a=b.tc(2);b.Ac("ngModel",i.value)("suggestions",a.filterServicesSingle)("size",45)("minLength",1),b.Mb("aria-label",b.vc(1,5,"common.filters.enter.service.name"))}}function mn(e,t){if(1&e){var n=b.gc();b.fc(0,"input",22,23),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc().$implicit.value=e})("ngModelChange",function(){return b.Rc(n),b.tc(3).changeInput()}),b.uc(2,"translate"),b.ec()}if(2&e){var i=b.tc().$implicit,a=b.tc(2);b.Ac("ngModel",i.value)("disabled",a.disabled),b.Mb("aria-label",b.vc(2,3,"common.filters.enter.value"))}}function bn(e,t){if(1&e){var n=b.gc();b.fc(0,"input",24),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc().$implicit.value=e})("ngModelChange",function(){return b.Rc(n),b.tc(3).changeInput()}),b.uc(1,"translate"),b.ec()}if(2&e){var i=b.tc().$implicit,a=b.tc(2);b.Ac("ngModel",i.value)("disabled",a.disabled),b.Mb("aria-label",b.vc(1,3,"common.filters.enter.value"))}}function yn(e,t){if(1&e){var n=b.gc();b.fc(0,"input",25),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc().$implicit.value=e})("ngModelChange",function(){return b.Rc(n),b.tc(3).changeInput()}),b.ec()}if(2&e){var i=b.tc().$implicit,a=b.tc(2);b.Ac("ngModel",i.value)("disabled",a.disabled)}}function Cn(e,t){if(1&e){var n=b.gc();b.fc(0,"input",26),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc().$implicit.value=e})("ngModelChange",function(){return b.Rc(n),b.tc(3).changeInput()}),b.ec()}if(2&e){var i=b.tc().$implicit,a=b.tc(2);b.Ac("ngModel",i.value)("disabled",a.disabled)}}function Sn(e,t){if(1&e&&(b.fc(0,"option",29),b.bd(1),b.uc(2,"translate"),b.ec()),2&e){var n=t.$implicit;b.Ac("ngValue",n.value),b.Lb(1),b.dd(" ",b.vc(2,2,n.label)," ")}}function xn(e,t){if(1&e){var n=b.gc();b.fc(0,"select",27),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc().$implicit.value=e})("ngModelChange",function(){return b.Rc(n),b.tc(3).changeInput()}),b.uc(1,"translate"),b.Zc(2,Sn,3,4,"option",28),b.ec()}if(2&e){var i=b.tc().$implicit,a=b.tc(2);b.Ac("ngModel",i.value)("disabled",a.disabled),b.Mb("aria-label",b.vc(1,4,"common.filters.enter.value")),b.Lb(2),b.Ac("ngForOf",a.getOptions(i.field))}}function Tn(e,t){if(1&e&&(b.fc(0,"option",29),b.bd(1),b.uc(2,"translate"),b.ec()),2&e){var n=t.$implicit;b.Ac("ngValue",n.value),b.Lb(1),b.dd(" ",b.vc(2,2,n.label)," ")}}function wn(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"select",30),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc().$implicit.value=e})("ngModelChange",function(){return b.Rc(n),b.tc(3).changeInput()}),b.Zc(2,Tn,3,4,"option",28),b.ec(),b.cc()}if(2&e){var i=b.tc().$implicit,a=b.tc(2);b.Lb(1),b.Ac("ngModel",i.value)("disabled",a.disabled),b.Lb(1),b.Ac("ngForOf",a.getOptions(i.field))}}function Ln(e,t){if(1&e){var n=b.gc();b.fc(0,"input",31),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc().$implicit.value=e})("ngModelChange",function(){return b.Rc(n),b.tc(3).changeInput()}),b.ec()}if(2&e){var i=b.tc().$implicit,a=b.tc(2);b.Ac("ngModel",i.value)("disabled",a.disabled)}}function kn(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"div",3),b.fc(2,"div",4),b.fc(3,"select",5),b.pc("ngModelChange",function(e){return t.$implicit.field=e})("ngModelChange",function(e){b.Rc(n);var i=t.$implicit;return b.tc(2).changeField(e,i)}),b.uc(4,"translate"),b.Zc(5,pn,3,5,"option",6),b.ec(),b.ec(),b.fc(6,"div",7),b.Zc(7,vn,2,7,"p-autoComplete",8),b.Zc(8,mn,3,5,"input",9),b.Zc(9,bn,2,5,"input",10),b.Zc(10,yn,1,2,"input",11),b.Zc(11,Cn,1,2,"input",12),b.Zc(12,xn,3,6,"select",13),b.Zc(13,wn,3,3,"ng-container",14),b.Zc(14,Ln,1,2,"input",15),b.ec(),b.fc(15,"div",16),b.fc(16,"button",17),b.pc("click",function(){b.Rc(n);var e=t.$implicit;return b.tc(2).addSearchTerm(e)}),b.uc(17,"translate"),b.uc(18,"translate"),b.ac(19,"i",18),b.ec(),b.ec(),b.fc(20,"div",16),b.fc(21,"button",17),b.pc("click",function(){b.Rc(n);var e=t.$implicit;return b.tc(2).removeSearchTerm(e)}),b.uc(22,"translate"),b.uc(23,"translate"),b.ac(24,"i",19),b.ec(),b.ec(),b.ec(),b.cc()}if(2&e){var i=t.$implicit,a=t.index,c=b.tc(2);b.Lb(3),b.Ac("ngModel",i.field)("disabled",c.disabled),b.Mb("aria-label",b.vc(4,19,"common.filters.select.element")),b.Lb(2),b.Ac("ngForOf",c.fields),b.Lb(1),b.Ac("ngSwitch",c.getInputType(i,a)),b.Lb(1),b.Ac("ngSwitchCase","serviceAutoComplete"),b.Lb(1),b.Ac("ngSwitchCase","text"),b.Lb(1),b.Ac("ngSwitchCase","number"),b.Lb(1),b.Ac("ngSwitchCase","date"),b.Lb(1),b.Ac("ngSwitchCase","time"),b.Lb(1),b.Ac("ngSwitchCase","category"),b.Lb(1),b.Ac("ngSwitchCase","multiselect"),b.Lb(1),b.Ac("ngSwitchCase","boolean"),b.Lb(2),b.Bc("pTooltip",b.vc(17,21,"common.filters.add.search.term")),b.Ac("disabled",c.data.searchTerms.length==c.fields.length),b.Mb("aria-label",b.vc(18,23,"common.filters.add.search.term")),b.Lb(5),b.Bc("pTooltip",b.vc(22,25,"common.filters.remove.search.term")),b.Ac("disabled",c.data.searchTerms.length<=1),b.Mb("aria-label",b.vc(23,27,"common.filters.remove.search.term"))}}function In(e,t){if(1&e&&(b.fc(0,"div",1),b.Zc(1,kn,25,29,"ng-container",2),b.ec()),2&e){var n=b.tc();b.Lb(1),b.Ac("ngForOf",n.data.searchTerms)}}var Mn,On,_n=((Mn=function(){function e(t,i,a,c,r){var o=this;n(this,e),this.changeDetectorRef=t,this.servicesDashboardService=i,this.translate=a,this.sharedMessageService=c,this.toastr=r,this.data={searchTerms:[]},this.config={searchFields:{}},this.markDirty=new b.p,this.defaultEmptyList=[],this.subscriptions=[],this.translate.setDefaultLang("en"),this.subscriptions.push(this.sharedMessageService.getMessage().subscribe(function(e){e&&"change-locale"===e.data.action&&o.translate.use(e.data.data.locale)}))}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.fields=Object.keys(this.config.searchFields).map(function(t){var n=e.config.searchFields[t];return n.value=n.value||t,n})}},{key:"getInputType",value:function(e,t){if(!e)return"string";var n=this.getSearchTermForName(e.field);if(!0===n.isISService)return"serviceAutoComplete";if(!0===n.isISDocument)return"documentAutoComplete";var i=this.getField(n.name);return i?i.type:void 0}},{key:"getSearchTermForName",value:function(e){return e&&this.config&&this.config.searchFields&&Object.keys(this.config.searchFields).length>0?this.config.searchFields[e]:null}},{key:"getOptions",value:function(e){return this.config.getOptions?this.config.getOptions(e):this.config.searchFields[e].options||this.defaultEmptyList}},{key:"getField",value:function(e){return this.config.searchFields[e]}},{key:"addSearchTerm",value:function(e){if(!this.disabled){var t=this.getNextAvailableSearchField();t&&(this.data.searchTerms=this.data.searchTerms.concat([{field:t?t.name:null,value:null}])),this.handleDataChange()}}},{key:"removeSearchTerm",value:function(e){if(!this.disabled){var t=this.data;t.searchTerms=t.searchTerms.filter(function(t){return t!==e}),this.handleDataChange()}}},{key:"getDefaultValue",value:function(e){switch(typeof e){case"function":return e();default:return e}}},{key:"changeInput",value:function(){this.disabled||this.handleDataChange()}},{key:"changeField",value:function(e,t){this.disabled||(this.handleDataChange(),e.stopPropagation&&e.stopPropagation())}},{key:"calculateFieldChangeValue",value:function(e,t,n){return null!=this.config.calculateFieldChangeValue?this.config.calculateFieldChangeValue(e,t,n):t&&void 0!==t.defaultValue?this.getDefaultValue(t.defaultValue):void 0}},{key:"disableFieldItem",value:function(e){return this.isFieldInUse(e.name)}},{key:"getFields",value:function(){for(var e=[],t=0;t<this.fields.length;t++){var n=this.fields[t];console.log("*******Field"),this.isFieldInUse(n.name)||e.push({label:n.label,value:n.name})}return e}},{key:"isFieldInUse",value:function(e){for(var t=0;t<this.data.searchTerms.length;t++)if(this.data.searchTerms[t].field===e)return!0;return!1}},{key:"getNextAvailableSearchField",value:function(){for(var e=0;e<this.fields.length;e++){var t=this.fields[e];if(!this.isFieldInUse(t.name))return t}return null}},{key:"setFocus",value:function(){this.makeComponentsAccessible(),this.searchInputs&&this.searchInputs.length>0&&this.searchInputs.first&&this.searchInputs.first.nativeElement&&this.searchInputs.first.nativeElement.focus()}},{key:"value",get:function(){return this.data},set:function(e){this.data=e||{searchTerms:[]},this.handleDataChange()}},{key:"writeValue",value:function(e){this.value=e}},{key:"registerOnChange",value:function(e){var t=this;this.onChangeCallback=function(){return e(t.data)}}},{key:"setDisabledState",value:function(e){this.disabled=e,this.changeDetectorRef.detectChanges()}},{key:"validate",value:function(e){var t={},n=[],i=!1;return this.validateSearchTerms(this.data,n),n.length&&(t.rules=n,i=!0),i?t:null}},{key:"filterServices",value:function(e){var t=this,n=e.query;this.changeInput(),this.subscriptions.push(this.servicesDashboardService.getServicesForName(null,n).subscribe(function(e){e&&e.services&&(t.filterServicesSingle=e.services)},function(e){var n=Object(y.K)(e,t.translate);t.toastr.error(n)}))}},{key:"validateSearchTerms",value:function(e,t){var n=this;e&&e.searchTerms&&e.searchTerms.length>0&&e.searchTerms.forEach(function(i){if(i.field){var a=n.config.searchFields[i.field];if(a&&a.validator&&a.validator.apply){var c=a.validator(i,e);null!=c&&t.push(c)}}})}},{key:"makeComponentsAccessible",value:function(){var e=this;setTimeout(function(){var t=document.getElementsByTagName("p-autoComplete")[0];if(t){y.J.makeAutoCompleteAccessible(t,e.translate.instant("common.filters.enter.service.name"));for(var n=t.children,i=0;i<n.length;i++)for(var a=n[i].children,c=0;c<a.length;c++){var r=a[c];if("INPUT"===r.tagName.toUpperCase())return void r.focus()}}},100)}},{key:"handleDataChange",value:function(){this.changeDetectorRef.markForCheck(),this.onChangeCallback&&this.onChangeCallback(),this.parentChangeCallback&&this.parentChangeCallback(),this.markDirty.emit("changed")}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}}]),e}()).\u0275fac=function(e){return new(e||Mn)(b.Zb(b.h),b.Zb(f.IsServicesDashboardService),b.Zb(d.d),b.Zb(y.A),b.Zb(O.b))},Mn.\u0275cmp=b.Tb({type:Mn,selectors:[["ac-search-builder"]],viewQuery:function(e,t){var n;1&e&&b.hd(gn,1),2&e&&b.Oc(n=b.qc())&&(t.searchInputs=n)},inputs:{disabled:"disabled",data:"data",config:"config",parentChangeCallback:"parentChangeCallback",value:"value"},outputs:{markDirty:"markDirty"},decls:1,vars:1,consts:[["class","searchbuilder",4,"ngIf"],[1,"searchbuilder"],[4,"ngFor","ngForOf"],[1,"row",2,"padding","7px","margin-left","0","margin-right","0"],[1,"select-arrow-icon"],["tabindex","0",1,"",3,"ngModel","disabled","ngModelChange"],["tabindex","0",3,"ngValue","disabled",4,"ngFor","ngForOf"],[1,"dlt-form-item","padding-right-5",3,"ngSwitch"],["id","autoCompleteSearch","inputStyleClass","dlt-text-input","panelStyleClass","autoCompleteOverLay","autofocus","",3,"ngModel","suggestions","size","minLength","ngModelChange","completeMethod",4,"ngSwitchCase"],["type","text","class","dlt-text-input","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","number","class","dlt-number-input","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","date","class","dlt-date-picker","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["type","time","class","dlt-time-picker","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["class","dlt-select-input","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[4,"ngSwitchCase"],["type","checkbox","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],[1,""],["tabindex","0","showDelay","250",1,"plusminus",3,"disabled","pTooltip","click"],[1,"dlt-icon-plus-circle","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-minus-circle","dlg-icon-btn","dlt-icon"],["tabindex","0",3,"ngValue","disabled"],["id","autoCompleteSearch","inputStyleClass","dlt-text-input","panelStyleClass","autoCompleteOverLay","autofocus","",3,"ngModel","suggestions","size","minLength","ngModelChange","completeMethod"],["type","text","autofocus","","tabindex","0",1,"dlt-text-input",3,"ngModel","disabled","ngModelChange"],["searchInputs",""],["type","number","autofocus","","tabindex","0",1,"dlt-number-input",3,"ngModel","disabled","ngModelChange"],["type","date","autofocus","","tabindex","0",1,"dlt-date-picker",3,"ngModel","disabled","ngModelChange"],["type","time","autofocus","","tabindex","0",1,"dlt-time-picker",3,"ngModel","disabled","ngModelChange"],["autofocus","","tabindex","0",1,"dlt-select-input",3,"ngModel","disabled","ngModelChange"],["tabindex","0",3,"ngValue",4,"ngFor","ngForOf"],["tabindex","0",3,"ngValue"],["multiple","",3,"ngModel","disabled","ngModelChange"],["type","checkbox","autofocus","","tabindex","0",3,"ngModel","disabled","ngModelChange"]],template:function(e,t){1&e&&b.Zc(0,In,2,1,"div",0),2&e&&b.Ac("ngIf",t.data&&t.data.searchTerms)},directives:[g.n,g.m,le.x,le.n,le.q,g.p,g.q,_.a,le.r,le.B,v.a,le.c,le.s,le.y,le.a],pipes:[d.c],styles:["ul[_ngcontent-%COMP%]{list-style:none;margin:0;overflow:hidden;padding:0}li[_ngcontent-%COMP%]{padding:7px}.searchbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:400;font-size:.875rem;display:block;width:100%;line-height:1.5rem;height:1.5rem;padding:0 .5rem;color:#333;background-color:#fff;border-radius:0;border:1px solid gray}.searchbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:enabled, .searchbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover:enabled:not(:focus){border:1px solid #1776bf;outline:1px solid #1776bf;outline-offset:-2px;border-radius:0}  .p-dropdown-item-disabled{opacity:.3;cursor:not-allowed}.searchbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;font-size:.875rem;width:100%;height:1.5rem;line-height:1.5rem;padding:0 5px 0 .5rem;color:#333;border-radius:0;border:1px solid gray;display:block;background-color:#fff;margin:0 20px 0 0;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.searchbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus:enabled, .searchbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover:enabled{border:1px solid #1776bf;outline:1px solid #1776bf;outline-offset:-2px}.select-arrow-icon[_ngcontent-%COMP%]:after{line-height:1.5rem}.searchbuilder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:400;height:1.5rem;line-height:1.5rem;vertical-align:middle;border:none;outline:none;background-color:#fff}.searchbuilder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:enabled{color:#1776bf}.plusminus[_ngcontent-%COMP%]:focus{border:1px solid #1776bf!important;outline:1px solid #1776bf!important;box-shadow:none!important;outline-offset:-2px}.autocomplete-input[_ngcontent-%COMP%],   .p-autocomplete .p-autocomplete-input{height:1.5rem!important;line-height:1.5rem!important;padding:0 .5rem!important;padding-right:5px;border-radius:0}  .autoCompleteOverLay{max-width:400px!important;max-height:80px!important}"]}),Mn),Pn=c("MEzG"),Dn=["docsearchOverlay"],An=["acDocSearchBuilder"],Rn=function(){return{"min-height":"200px","min-width":"620px"}},En=function(){return{"min-width":"150px",width:"11rem","line-height":"1.5rem",height:"1.5rem"}},Fn=((On=function(){function e(t,i){var a=this;n(this,e),this.translate=t,this.sharedMessageService=i,this.onDocAdvancedSearchReset=new b.p,this.onDocAdvancedSearchApply=new b.p,this.config=Jt.getAdvancedSearchBuilderConfig(),this.query=null,this.isDirty=!1,this._isAndQuery=!1,this._initialDataSetDone=!1,this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(function(e){e&&"change-locale"===e.data.action&&a.translate.use(e.data.data.locale)})}return a(e,[{key:"ngOnInit",value:function(){}},{key:"showSearchOverlay",value:function(){var e=this,t=this.documentSearchQuery.tableFilters,n=this.documentSearchQuery.searchTerms;n||(n=new Array);for(var i=0;i<t.length;i++){var a=t[i];"isAnd"===a.filterBy?this.documentSearchQuery.andQuery=a.filterValue:"typeSet"===a.filterBy?this.documentSearchQuery.status=a.filterValue:n.push({field:a.filterBy,value:a.filterValue})}0===n.length&&n.push(this.createDefaultSearchRow()),this.documentSearchQuery.searchTerms=n,this.query={searchTerms:this.documentSearchQuery.searchTerms};var c=this;setTimeout(function(){c.acSearchBuilder.setFocus(),e._initialDataSetDone=!0},200),this._isAndQuery=this.documentSearchQuery.andQuery,this.makeComponentsAccessible(),this.isDirty=!1}},{key:"toggle",value:function(e){this.docsearchOverlay&&this.docsearchOverlay.toggle(e)}},{key:"statusChange",value:function(e){this.documentSearchQuery.status=e.value,this.isDirty=!0}},{key:"cancelSearch",value:function(){this.docsearchOverlay.hide()}},{key:"applySearch",value:function(){this.documentSearchQuery.searchTerms=this.acSearchBuilder.data.searchTerms,this.onDocAdvancedSearchApply.emit(this.documentSearchQuery),this.docsearchOverlay.hide()}},{key:"setOrQuery",value:function(){this.documentSearchQuery.andQuery=!1,this.isDirty=!0}},{key:"setAndQuery",value:function(){this.documentSearchQuery.andQuery=!0,this.isDirty=!0}},{key:"resetSearch",value:function(){this.documentSearchQuery.searchTerms=null,this.documentSearchQuery.status=null,this.documentSearchQuery.andQuery=!0,this.onDocAdvancedSearchReset.emit(this.documentSearchQuery),this.isDirty=!0,this.docsearchOverlay.hide()}},{key:"createDefaultSearchRow",value:function(){return{field:this.config.searchFields.documentName.name,value:null}}},{key:"getSearchField",value:function(e){return this.config.searchFields[e]}},{key:"handleKeydown",value:function(e){27===e.keyCode&&this.docsearchOverlay.hide(),this.isDirty=!0}},{key:"statusEnter",value:function(){var e=document.querySelector("#statusSelect");this.isDirty=!0,e.click()}},{key:"hideSearchOverlay",value:function(){this.isDirty=!1,this._initialDataSetDone=!1}},{key:"makeComponentsAccessible",value:function(){var e=this;setTimeout(function(){var t=document.getElementsByTagName("p-multiSelect")[0];t&&y.J.makeMultiCheckboxAccessible(t,e.translate.instant("common.filters.multiselect.select.options"),e.translate.instant("monitoring.search.deselect.all"),e.translate.instant("monitoring.search.select.all"))},100)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"markDirty",value:function(){this.isDirty=!0}},{key:"ngDoCheck",value:function(){this._isAndQuery!==this.documentSearchQuery.andQuery&&this._initialDataSetDone&&this.markDirty()}}]),e}()).\u0275fac=function(e){return new(e||On)(b.Zb(d.d),b.Zb(y.A))},On.\u0275cmp=b.Tb({type:On,selectors:[["app-document-search"]],viewQuery:function(e,t){var n;1&e&&(b.hd(Dn,1),b.hd(An,1)),2&e&&(b.Oc(n=b.qc())&&(t.docsearchOverlay=n.first),b.Oc(n=b.qc())&&(t.acSearchBuilder=n.first))},hostBindings:function(e,t){1&e&&b.pc("keydown",function(e){return t.handleKeydown(e)},!1,b.Qc)},inputs:{documentSearchQuery:"documentSearchQuery",docStatusList:"docStatusList"},outputs:{onDocAdvancedSearchReset:"onDocAdvancedSearchReset",onDocAdvancedSearchApply:"onDocAdvancedSearchApply"},decls:53,vars:50,consts:[["focusOnShow","true",3,"baseZIndex","appendTo","onShow","onHide"],["docsearchOverlay",""],[1,"filter-top-row"],[1,"isac-overlay-title-wrapper"],[1,"isac-overlay-details-title"],[1,"doc-filter-label-wrapper"],["for","searchConditionSwitchDoc",1,"dlt-form-label","padding-top-5","padding-right-5"],[1,"padding-left-5","dlt-form-label","padding-top-5","toggle-inline",3,"click"],[1,"toggle-btn","toggle-inline"],[1,"dlt-fieldset","sm-switch","fliter-switch-item"],[1,"dlt-switch-item"],["id","searchConditionSwitchDoc","type","checkbox","ngDefaultControl","",1,"dlt-switch-input",3,"ngModel","ngModelChange"],["for","searchConditionSwitchDoc",1,"dlt-switch-text"],[1,"dlt-switch-appearance","dlt-on-off"],[1,"on"],[1,"off"],[1,"dlt-form-label","padding-top-5","toggle-inline",3,"click"],[1,"filter-title-buttons-wrapper"],["tabindex","0","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"pTooltip","click"],[1,"dlt-icon-close","isac-dlg-close-icon-btn","dlg-icon-btn","dlt-icon"],[1,"filter-row"],[1,"dlt-form-label"],[1,"searchArea"],[3,"data","config","markDirty"],["acDocSearchBuilder",""],["tabindex","0","dropdownIcon","dlt-icon-dropdown",3,"options","ngModel","filter","defaultLabel","maxSelectedLabels","baseZIndex","onClick","onChange","ngModelChange","keydown.enter"],["statusFilterRefDoc",""],[1,"filter-row","filter-footer-margin","float-right"],[1,"btn-group","d-flex","justify-content-end"],["tabindex","0",1,"dlt-button","dlt-button-primary","xs-button","margin-right-5",3,"disabled","click"],["tabindex","0",1,"dlt-button","dlt-button-secondary","xs-button",3,"click"]],template:function(e,t){1&e&&(b.fc(0,"p-overlayPanel",0,1),b.pc("onShow",function(){return t.showSearchOverlay()})("onHide",function(){return t.hideSearchOverlay()}),b.fc(2,"div",2),b.fc(3,"div",3),b.fc(4,"div",4),b.bd(5),b.uc(6,"translate"),b.ec(),b.ec(),b.fc(7,"div",5),b.fc(8,"label",6),b.bd(9),b.uc(10,"translate"),b.ec(),b.fc(11,"label",7),b.pc("click",function(){return t.setOrQuery()}),b.bd(12),b.uc(13,"translate"),b.ec(),b.fc(14,"div",8),b.fc(15,"fieldset",9),b.fc(16,"div",10),b.fc(17,"input",11),b.pc("ngModelChange",function(e){return t.documentSearchQuery.andQuery=e}),b.ec(),b.fc(18,"label",12),b.ac(19,"span",13),b.ac(20,"span",14),b.ac(21,"span",15),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(22,"label",16),b.pc("click",function(){return t.setAndQuery()}),b.bd(23),b.uc(24,"translate"),b.ec(),b.ec(),b.fc(25,"div",17),b.fc(26,"button",18),b.pc("click",function(){return t.cancelSearch()}),b.uc(27,"translate"),b.uc(28,"translate"),b.ac(29,"i",19),b.ec(),b.ec(),b.ec(),b.fc(30,"div",20),b.fc(31,"label",21),b.bd(32),b.uc(33,"translate"),b.ec(),b.ec(),b.fc(34,"div",22),b.fc(35,"ac-search-builder",23,24),b.pc("markDirty",function(){return t.markDirty}),b.ec(),b.ec(),b.ac(37,"hr",20),b.fc(38,"div",20),b.fc(39,"label",21),b.bd(40),b.uc(41,"translate"),b.ec(),b.ec(),b.fc(42,"p-multiSelect",25,26),b.pc("onClick",function(){return t.makeComponentsAccessible()})("onChange",function(e){return t.statusChange(e)})("ngModelChange",function(e){return t.documentSearchQuery.status=e})("keydown.enter",function(){return t.statusEnter()}),b.uc(44,"translate"),b.ec(),b.fc(45,"div",27),b.fc(46,"div",28),b.fc(47,"button",29),b.pc("click",function(){return t.applySearch()}),b.bd(48),b.uc(49,"translate"),b.ec(),b.fc(50,"button",30),b.pc("click",function(){return t.resetSearch()}),b.bd(51),b.uc(52,"translate"),b.ec(),b.ec(),b.ec(),b.ec()),2&e&&(b.Wc(b.Fc(48,Rn)),b.Ac("baseZIndex",1)("appendTo","body"),b.Lb(5),b.cd(b.vc(6,26,"common.label.AdvancedSearch")),b.Lb(4),b.cd(b.vc(10,28,"common.labels.SearchCondition")),b.Lb(3),b.cd(b.vc(13,30,"common.labels.or")),b.Lb(5),b.Ac("ngModel",t.documentSearchQuery.andQuery),b.Lb(6),b.cd(b.vc(24,32,"common.labels.and")),b.Lb(3),b.Bc("pTooltip",b.vc(27,34,"common.close.title")),b.Mb("aria-label",b.vc(28,36,"common.close.title")),b.Lb(6),b.cd(b.vc(33,38,"common.labels.searchArea")),b.Lb(3),b.Ac("data",t.query)("config",t.config),b.Lb(5),b.dd(" ",b.vc(41,40,"monitoring.documents.document.type"),""),b.Lb(2),b.Wc(b.Fc(49,En)),b.Bc("defaultLabel",b.vc(44,42,"common.all")),b.Ac("options",t.docStatusList)("ngModel",t.documentSearchQuery.status)("filter",!1)("maxSelectedLabels",4)("baseZIndex",2e3),b.Lb(5),b.Ac("disabled",!t.isDirty),b.Lb(1),b.cd(b.vc(49,44,"common.apply")),b.Lb(3),b.cd(b.vc(52,46,"common.reset")))},directives:[hn.a,le.a,le.c,le.n,le.q,_.a,_n,Pn.a],pipes:[d.c],styles:[".margin-right-5[_ngcontent-%COMP%]{margin-right:5px}.dlt-switch-text[_ngcontent-%COMP%]{margin-top:5px}.toggle-inline[_ngcontent-%COMP%]{float:left}.toggle-btn[_ngcontent-%COMP%]{margin:0 7px}.btn-group[_ngcontent-%COMP%]{padding:.875rem 0 0}.conditionlabel1Width[_ngcontent-%COMP%]{width:16rem;margin-right:21px}.conditionlabel2Width[_ngcontent-%COMP%]{min-width:8rem;padding-right:7px}.searchArea[_ngcontent-%COMP%]{margin-left:-7px!important}p-multiselect[_ngcontent-%COMP%]:focus{outline:3px solid #1776bf}.tb-vert[_ngcontent-%COMP%]{padding-top:.6rem}.filter-row[_ngcontent-%COMP%], .filter-top-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:0;margin-left:0}.filter-top-row[_ngcontent-%COMP%]{margin-top:6px}.footer-buttons-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:0}.fliter-switch-item[_ngcontent-%COMP%]{margin-top:3px}.doc-filter-label-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-left:1rem;margin-top:-5px}"]}),On),Bn=["isMonDocTable"],Nn=["tablePrefs"],Hn=["tablePrefsOverlay"];function Vn(e,t){if(1&e){var n=b.gc();b.fc(0,"div",7),b.fc(1,"div",20),b.fc(2,"d3-donut-chart",21),b.pc("pieItemClicked",function(e){return b.Rc(n),b.tc(2).pieItemClicked(e)}),b.ec(),b.ec(),b.fc(3,"div",22),b.fc(4,"app-chart-legend",23),b.pc("legendItemClicked",function(e){return b.Rc(n),b.tc(2).pieItemClicked(e)}),b.ec(),b.ec(),b.fc(5,"div",24),b.ac(6,"img",25),b.uc(7,"translate"),b.bd(8),b.uc(9,"translate"),b.ec(),b.ec()}if(2&e){var i=b.tc(2);b.Lb(2),b.Ac("data",i.donutChartData)("heightInput","160px"),b.Lb(2),b.Ac("data",i.legendsData)("heightInput","160px"),b.Lb(2),b.Bc("alt",b.vc(7,6,"common.chart.donut.infolabel")),b.Lb(2),b.dd(" ",b.vc(9,8,"common.chart.donut.infolabel")," ")}}function Zn(e,t){1&e&&b.ac(0,"ac-loader")}function jn(e,t){if(1&e&&b.ac(0,"ac-d3-stacked-bar-chart",26),2&e){var n=b.tc(2);b.Ac("chartno",0)("data",n.barData)("columnKeyColorArray",n.columnKeyColorArray)("heightInput","160px")("chartXAxisTitle",n.chartXAxisTitle)}}function zn(e,t){1&e&&b.ac(0,"ac-loader")}function Un(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"div",53),b.fc(2,"label",54),b.bd(3),b.uc(4,"translate"),b.ec(),b.fc(5,"button",55),b.pc("click",function(e){b.Rc(n);var t=b.Pc(12);return b.tc(3).showBasicFilter(),t.toggle(e)}),b.bd(6),b.uc(7,"translate"),b.ec(),b.fc(8,"button",56),b.pc("click",function(e){b.Rc(n);var t=b.Pc(14);return b.tc(3).showAdvancedSearch(),t.toggle(e)}),b.bd(9),b.uc(10,"translate"),b.ec(),b.fc(11,"isac-lib-filter-overlay-panel",57,58),b.pc("onFiltersReset",function(e){return b.Rc(n),b.tc(3).onBasicFiltersReset(e)})("onFiltersApply",function(e){return b.Rc(n),b.tc(3).onBasicFiltersApply(e)})("onFilterChange",function(e){return b.Rc(n),b.tc(3).onFilterChange(e)}),b.ec(),b.fc(13,"app-document-search",59,60),b.pc("onDocAdvancedSearchApply",function(e){return b.Rc(n),b.tc(3).onAdvancedSearchApply(e)})("onDocAdvancedSearchReset",function(e){return b.Rc(n),b.tc(3).onAdvancedSearchReset(e)}),b.ec(),b.fc(15,"isac-lib-filter-tags",61),b.pc("onClearAll",function(e){return b.Rc(n),b.tc(3).onClearAllFilters(e)})("onClearFilter",function(e){return b.Rc(n),b.tc(3).onClearFilter(e)}),b.ec(),b.ec(),b.cc()}if(2&e){var i=b.tc(3);b.Lb(3),b.cd(b.vc(4,8,"common.table.search")),b.Lb(3),b.cd(b.vc(7,10,"common.basic")),b.Lb(3),b.cd(b.vc(10,12,"common.advanced")),b.Lb(2),b.Ac("styleClass","filter-overlaypanel-content")("tableFilters",i.documentListStateService.basicSearchFilters),b.Lb(2),b.Ac("documentSearchQuery",i.documentListStateService.documentSearchQuery)("docStatusList",i.typeList),b.Lb(2),b.Ac("filterTags",i.filterTags)}}var $n=function(e){return{value1:1e4,value2:e}};function Qn(e,t){if(1&e){var n=b.gc();b.fc(0,"div",62),b.fc(1,"div",63),b.ac(2,"span",64),b.fc(3,"div",65),b.bd(4),b.uc(5,"translate"),b.ec(),b.fc(6,"span",66),b.pc("click",function(){return b.Rc(n),b.tc(3).hideMaxResultWarning()}),b.uc(7,"translate"),b.ec(),b.ec(),b.ec()}if(2&e){var i=b.tc(3);b.Lb(4),b.dd(" ",b.wc(5,2,"monitoring.maxrowsreached",b.Gc(7,$n,i.actualRowCount))," "),b.Lb(2),b.Bc("pTooltip",b.vc(7,5,"common.close.title"))}}function Kn(e,t){if(1&e&&(b.fc(0,"th",72),b.uc(1,"translate"),b.fc(2,"div",73),b.fc(3,"label",74),b.bd(4),b.uc(5,"translate"),b.ac(6,"p-sortIcon",75),b.ec(),b.ec(),b.ec()),2&e){var n=b.tc().$implicit;b.Bc("pTooltip",b.vc(1,4,n.header)),b.Ac("pSortableColumn",n.field),b.Lb(4),b.dd("",b.vc(5,6,n.header)," "),b.Lb(2),b.Ac("field",n.field)}}function Wn(e,t){if(1&e&&(b.dc(0),b.Zc(1,Kn,7,8,"th",71),b.cc()),2&e){var n=t.$implicit;b.Lb(1),b.Ac("ngIf",!n.hide)}}function qn(e,t){if(1&e&&(b.fc(0,"tr"),b.fc(1,"td",76),b.ac(2,"ac-loader"),b.ec(),b.ec()),2&e){var n=b.tc(4);b.Lb(1),b.Mb("colspan",n.tableInfo.tableColumnInfo.length)}}function Xn(e,t){if(1&e&&(b.fc(0,"tr"),b.fc(1,"td",67),b.ac(2,"p-tableHeaderCheckbox",68,69),b.ec(),b.Zc(4,Wn,2,1,"ng-container",70),b.ec(),b.Zc(5,qn,3,1,"tr",17)),2&e){var n=b.tc(3);b.Lb(4),b.Ac("ngForOf",n.tableInfo.tableColumnInfo),b.Lb(1),b.Ac("ngIf",n.fetchingTableData)}}function Jn(e,t){if(1&e&&(b.fc(0,"div",82),b.uc(1,"preferredDateTime"),b.fc(2,"span",83),b.bd(3),b.uc(4,"preferredDateTime"),b.ec(),b.ec()),2&e){var n=b.tc(2).$implicit,i=b.tc().$implicit,a=b.tc(3);b.Bc("pTooltip",b.xc(1,2,i[n.field],a.preferencesService,a.dateTimePreferenceService)),b.Lb(3),b.cd(b.xc(4,6,i[n.field],a.preferencesService,a.dateTimePreferenceService))}}function Gn(e,t){if(1&e&&(b.fc(0,"a",84),b.fc(1,"span",85),b.bd(2),b.uc(3,"smartTruncatePart1Pipe"),b.ec(),b.fc(4,"span",86),b.bd(5),b.uc(6,"smartTruncatePart2Pipe"),b.ec(),b.ec()),2&e){var n=b.tc(2).$implicit,i=b.tc().$implicit;b.Bc("pTooltip",i[n.field]),b.Cc("routerLink","/monitoring/document/",i.DOCUMENTID,""),b.Mb("aria-label",i[n.field]),b.Lb(2),b.cd(b.wc(3,5,i[n.field],3)),b.Lb(3),b.cd(b.wc(6,8,i[n.field],3))}}function Yn(e,t){if(1&e&&(b.fc(0,"div",82),b.fc(1,"span",83),b.bd(2),b.uc(3,"smartTruncatePart1Pipe"),b.ec(),b.fc(4,"span",87),b.bd(5),b.uc(6,"smartTruncatePart2Pipe"),b.ec(),b.ec()),2&e){var n=b.tc(2).$implicit,i=b.tc().$implicit;b.Bc("pTooltip",i[n.field]),b.Lb(2),b.cd(b.wc(3,3,i[n.field],3)),b.Lb(3),b.cd(b.wc(6,6,i[n.field],3))}}function ei(e,t){if(1&e&&(b.fc(0,"td"),b.fc(1,"span"),b.fc(2,"div"),b.Zc(3,Jn,5,10,"div",80),b.Zc(4,Gn,7,11,"a",81),b.Zc(5,Yn,7,9,"div",80),b.ec(),b.ec(),b.ec()),2&e){var n=b.tc().index;b.Lb(3),b.Ac("ngIf",0==n),b.Lb(1),b.Ac("ngIf",1==n),b.Lb(1),b.Ac("ngIf",n>1)}}function ti(e,t){if(1&e&&(b.dc(0),b.Zc(1,ei,6,3,"td",17),b.cc()),2&e){var n=t.$implicit;b.Lb(1),b.Ac("ngIf",!n.hide)}}function ni(e,t){if(1&e){var n=b.gc();b.fc(0,"tr",77),b.pc("keydown.enter",function(){b.Rc(n);var e=t.$implicit;return b.tc(3).onKeydownEnter(e.DOCUMENTID)}),b.fc(1,"td",78),b.ac(2,"p-tableCheckbox",79),b.ec(),b.Zc(3,ti,2,1,"ng-container",70),b.ec()}if(2&e){var i=t.$implicit,a=b.tc(3);b.Ac("pSelectableRow",i),b.Lb(2),b.Ac("value",i),b.Lb(1),b.Ac("ngForOf",a.tableInfo.tableColumnInfo)}}function ii(e,t){if(1&e&&(b.fc(0,"tr",89),b.fc(1,"td",90),b.bd(2),b.uc(3,"translate"),b.ec(),b.ec()),2&e){var n=b.tc(4);b.Lb(1),b.Mb("colspan",n.tableInfo.tableColumnInfo.length),b.Lb(1),b.dd(" ",b.vc(3,2,"common.table.no.items")," ")}}function ai(e,t){if(1&e&&b.Zc(0,ii,4,4,"tr",88),2&e){var n=b.tc(3);b.Ac("ngIf",null!=n.documentList)}}var ci=function(e,t,n){return{first:e,rows:t,totalRecords:n}};function ri(e,t){if(1&e&&(b.fc(0,"div"),b.bd(1),b.uc(2,"translate"),b.ec()),2&e){var n=b.tc(4);b.Lb(1),b.dd(" ",b.wc(2,1,"common.table.items.page.info",b.Ic(4,ci,n.first,n.rows,n.totalRecords))," ")}}function oi(e,t){1&e&&(b.fc(0,"div"),b.bd(1),b.uc(2,"translate"),b.ec()),2&e&&(b.Lb(1),b.cd(b.vc(2,1,"common.table.zero.items")))}function si(e,t){if(1&e&&(b.Zc(0,ri,3,8,"div",4),b.Zc(1,oi,3,3,"ng-template",null,91,b.ad)),2&e){var n=b.Pc(2),i=b.tc(3);b.Ac("ngIf",i.totalRecords>0)("ngIfElse",n)}}var li=function(e){return{zebrastripes:e}},di=function(){return[20,40,60]};function ui(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"p-overlayPanel",27,28),b.ac(3,"isac-lib-table-preferences",null,29),b.ec(),b.fc(5,"div",30),b.fc(6,"table",31),b.fc(7,"tr"),b.fc(8,"td"),b.Zc(9,Un,16,14,"ng-container",17),b.ec(),b.fc(10,"td",32),b.fc(11,"section",33),b.fc(12,"div",34),b.fc(13,"section",35),b.fc(14,"div",36),b.fc(15,"div",37),b.fc(16,"div",38),b.fc(17,"button",39),b.pc("click",function(e){b.Rc(n);var t=b.Pc(2),i=b.tc(2);return t.toggle(e),i.showTablePrefs(e)}),b.uc(18,"translate"),b.uc(19,"translate"),b.ac(20,"i",40),b.ec(),b.ec(),b.fc(21,"div",38),b.fc(22,"button",41),b.pc("click",function(){b.Rc(n);var e=b.Pc(26);return b.tc(2).toggleFullScreen(e)}),b.uc(23,"translate"),b.uc(24,"translate"),b.ac(25,"i",42,43),b.ec(),b.ec(),b.ec(),b.fc(27,"button",44),b.pc("click",function(){return b.Rc(n),b.tc(2).resubmitDocuments()}),b.uc(28,"translate"),b.bd(29),b.uc(30,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(31,"div",45),b.Zc(32,Qn,8,9,"div",46),b.fc(33,"p-table",47,48),b.pc("onLazyLoad",function(e){return b.Rc(n),b.tc(2).lazyLoadDocumentTableResults(e)})("selectionChange",function(e){return b.Rc(n),b.tc(2).selectedDocuments=e})("onRowUnselect",function(e){return b.Rc(n),b.tc(2).onRowUnselect(e)})("onRowSelect",function(e){return b.Rc(n),b.tc(2).onRowSelect(e)})("onHeaderCheckboxToggle",function(e){return b.Rc(n),b.tc(2).onHeaderCheckboxToggle(e)})("firstChange",function(e){return b.Rc(n),b.tc(2).first=e}),b.Zc(35,Xn,6,2,"ng-template",49),b.Zc(36,ni,4,3,"ng-template",50),b.Zc(37,ai,1,1,"ng-template",51),b.Zc(38,si,3,2,"ng-template",52),b.ec(),b.ec(),b.ec(),b.cc()}if(2&e){var i=b.tc(2);b.Lb(1),b.Ac("showTransitionOptions","0ms")("hideTransitionOptions","0ms"),b.Lb(8),b.Ac("ngIf",i.isLocalizationResourcesLoaded),b.Lb(8),b.Bc("pTooltip",b.vc(18,24,"common.table.settings")),b.Mb("aria-label",b.vc(19,26,"common.table.settings")),b.Lb(5),b.Bc("pTooltip",b.vc(23,28,"common.showFullScreen")),b.Mb("aria-label",b.vc(24,30,"common.showFullScreen")),b.Lb(5),b.Ac("disabled",!(i.selectedDocuments&&i.selectedDocuments.length>0)),b.Mb("aria-label",b.vc(28,32,"common.table.resubmit")),b.Lb(2),b.dd("",b.vc(30,34,"common.table.resubmit")," "),b.Lb(3),b.Ac("ngIf",i.showMaxRowsReachedMsg),b.Lb(1),b.Ac("ngClass",b.Gc(36,li,i.tableInfo.showZebraStripes))("columns",i.tableInfo.tableColumnInfo)("value",i.documentList)("paginator",!0)("rows",i.tableInfo.pageSize)("totalRecords",i.totalRecords)("rowsPerPageOptions",b.Fc(38,di))("paginatorDropdownAppendTo","body")("lazy",!0)("selection",i.selectedDocuments)("first",i.first)("showPageLinks",!1)("showJumpToPageDropdown",!0)}}var hi=function(e){return{hidden:e}};function fi(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"div",6),b.fc(2,"div",7),b.fc(3,"div",8),b.fc(4,"h1"),b.bd(5),b.uc(6,"translate"),b.ec(),b.ec(),b.fc(7,"div",9),b.fc(8,"isac-lib-date-timerange-panel",10),b.pc("onSelectTimeRange",function(e){return b.Rc(n),b.tc().processSelectedTimeRange(e)})("onRefreshContent",function(e){return b.Rc(n),b.tc().refreshDocumentListContent(e)})("onRefreshIntervalChanged",function(e){return b.Rc(n),b.tc().refreshIntervalChanged(e)}),b.ec(),b.ec(),b.ec(),b.fc(9,"div",11),b.fc(10,"div",12),b.fc(11,"div",13),b.fc(12,"div",14),b.fc(13,"span"),b.bd(14),b.uc(15,"translate"),b.ec(),b.fc(16,"span",15),b.bd(17),b.ec(),b.ec(),b.Zc(18,Vn,10,10,"div",16),b.Zc(19,Zn,1,0,"ac-loader",17),b.ec(),b.fc(20,"div",18),b.fc(21,"div",14),b.bd(22),b.uc(23,"translate"),b.ec(),b.Zc(24,jn,1,5,"ac-d3-stacked-bar-chart",19),b.Zc(25,zn,1,0,"ac-loader",17),b.ec(),b.ec(),b.ec(),b.Zc(26,ui,39,39,"ng-container",4),b.ec(),b.cc()}if(2&e){var i=b.tc(),a=b.Pc(12);b.Lb(5),b.cd(b.vc(6,17,i.tableInfo.tableId)),b.Lb(3),b.Ac("timeRange",i.documentListStateService.timeRange)("refreshInterval",i.documentListStateService.refreshInterval)("isCustomTimeRange",!0)("alignSelector","right")("showRefresh",!0)("showAutoRefresh",!0),b.Lb(1),b.Ac("ngClass",b.Gc(23,hi,i.documentListStateService.fullScreenTable)),b.Lb(5),b.cd(b.vc(15,19,"monitoring.documents.list.tableTitle")),b.Lb(3),b.cd(i.totalExecutions),b.Lb(1),b.Ac("ngIf",i.chartDataFetched),b.Lb(1),b.Ac("ngIf",i.fetchingChartData),b.Lb(3),b.dd(" ",b.vc(23,21,"monitoring.barchart.history"),""),b.Lb(2),b.Ac("ngIf",i.chartDataFetched),b.Lb(1),b.Ac("ngIf",i.fetchingChartData),b.Lb(1),b.Ac("ngIf",i.isTableDataAvailable)("ngIfElse",a)}}function gi(e,t){1&e&&(b.fc(0,"div",96),b.bd(1),b.uc(2,"translate"),b.ec()),2&e&&(b.Lb(1),b.cd(b.vc(2,1,"monitoring.error.information")))}function pi(e,t){if(1&e&&(b.fc(0,"div",97),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.cd(n.monitoringErrorInformation)}}function vi(e,t){if(1&e&&(b.fc(0,"div",97),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.cd(n.monitoringErrorMessage1)}}function mi(e,t){if(1&e&&(b.fc(0,"div",97),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.cd(n.monitoringErrorMessage2)}}function bi(e,t){if(1&e&&(b.fc(0,"div",97),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.cd(n.monitoringErrorMessage3)}}function yi(e,t){if(1&e&&(b.fc(0,"div",92),b.bd(1),b.uc(2,"translate"),b.ec(),b.fc(3,"ul"),b.fc(4,"li",93),b.bd(5),b.uc(6,"translate"),b.ec(),b.fc(7,"li",93),b.bd(8),b.uc(9,"translate"),b.ec(),b.fc(10,"li",93),b.bd(11),b.uc(12,"translate"),b.ec(),b.fc(13,"li",93),b.bd(14),b.uc(15,"translate"),b.ec(),b.ec(),b.Zc(16,gi,3,3,"div",94),b.Zc(17,pi,2,1,"div",95),b.Zc(18,vi,2,1,"div",95),b.Zc(19,mi,2,1,"div",95),b.Zc(20,bi,2,1,"div",95)),2&e){var n=b.tc();b.Lb(1),b.dd(" ",b.vc(2,10,"monitoring.documents.unavailable.message")," "),b.Lb(4),b.dd(" ",b.vc(6,12,"monitoring.documents.unavailable.ensure1")," "),b.Lb(3),b.dd(" ",b.vc(9,14,"monitoring.documents.unavailable.ensure2")," "),b.Lb(3),b.dd(" ",b.vc(12,16,"monitoring.documents.unavailable.ensure3")," "),b.Lb(3),b.dd(" ",b.vc(15,18,"monitoring.documents.unavailable.ensure4")," "),b.Lb(2),b.Ac("ngIf",n.monitoringErrorInformation||n.monitoringErrorMessage1||n.monitoringErrorMessage2||n.monitoringErrorMessage3),b.Lb(1),b.Ac("ngIf",n.monitoringErrorInformation),b.Lb(1),b.Ac("ngIf",n.monitoringErrorMessage1),b.Lb(1),b.Ac("ngIf",n.monitoringErrorMessage2),b.Lb(1),b.Ac("ngIf",n.monitoringErrorMessage3)}}var Ci,Si=((Ci=function(){function t(e,i,a,c,r,o,s,l,d,u){var h=this;n(this,t),this.translate=a,this.sharedMessageService=c,this.documentListStateService=r,this.router=o,this.toastr=s,this.dateTimeService=l,this.cd=d,this.preferencesService=u,this.destroyed$=new Wt.a,this.homeLink="#/integration/dashboard/overview",this.isChartDataAvailable=!0,this.isTableDataAvailable=!0,this.subs=[],this.rows=20,this.first=1,this.pageCount=0,this.tableInfo=new y.I("",[]),this.filterTags=[],this.showMaxRowsReachedMsg=!1,this.actualRowCount=0,this.fetchingTableData=!1,this.selectedDocumentIDs=new Array,this.documentAPIService=e,this.tableSettingsService=i,this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=this.getDefaultTableFilters()),this.documentListStateService.timeRange||(this.documentListStateService.timeRange=f.TimerangePickerService.getDefaultTimerange()),this.documentListStateService.refreshInterval||(this.documentListStateService.refreshInterval=0),this.translate.setDefaultLang("en"),this.subs.push(this.sharedMessageService.getMessage().subscribe(function(e){e&&"change-locale"===e.data.action&&h.translate.use(e.data.data.locale)}))}return a(t,[{key:"ngOnInit",value:function(){this.checkMonitorStatus()}},{key:"initializeDocumentsList",value:function(){var e=this;this.setDefault(),this.loading=!0,this.chartDataFetched=!1,this.fetchingChartData=!1,this.fetchingTableData=!1,this.subs.push(this.tableSettingsService.getTableInfo("monitoring.documents.list.tableTitle").subscribe(function(t){e.tableInfo=t,e.tableInfo.pageSize||(e.tableInfo.pageSize=20),e.tableSettingsService.changeShowHideInfo(e.tableInfo)})),this.subs.push(this.translate.get("monitoring.documents.document.type.InDoubt").subscribe(function(){e.isLocalizationResourcesLoaded=!0,e.typeList=[{label:e.translate.instant("monitoring.documents.document.type.broker"),value:"Broker"},{label:e.translate.instant("monitoring.documents.document.type.InDoubt"),value:"In Doubt"},{label:e.translate.instant("monitoring.documents.document.type.RetriesExceeded"),value:"Retries Exceeded"},{label:e.translate.instant("monitoring.documents.document.type.Failed"),value:"Failed"}],e.initTableFilters(),e.updateFilterTags()})),this.documentListStateService.timeRange||(this.documentListStateService.timeRange=f.TimerangePickerService.getDefaultTimerange()),this.documentListStateService.refreshInterval||(this.documentListStateService.refreshInterval=0),this.initSearchQuery(),this.setChartData(),this.pageCount=0,this.getFilteredDocumentList(this.documentListStateService.tableFilters)}},{key:"refresh",value:function(){this.setChartData(),this.refreshDocumentList()}},{key:"checkMonitorStatus",value:function(){var e=this;this.subs.push(this.documentAPIService.getMonitorStatus().pipe(Object(qt.a)(this.destroyed$)).subscribe(function(t){t&&t.hasOwnProperty("name")&&t.hasOwnProperty("status")&&"WmMonitor"===t.name&&"enabled"===t.status?(e.isTableDataAvailable=!0,e.initializeDocumentsList()):t&&t.hasOwnProperty("name")&&t.hasOwnProperty("status")&&"WmMonitor"===t.name&&"disabled"===t.status?(e.monitoringErrorMessage2=e.translate.instant("monitoring.wmmonitor.disabled"),e.isTableDataAvailable=!1):e.isTableDataAvailable=!1},function(t){e.isTableDataAvailable=!1,e.monitoringErrorMessage2=Object(y.K)(t,e.translate)}))}},{key:"setChartData",value:function(){var e=this;this.chartDataFetched=!1,this.fetchingChartData=!0,this.donutChartData=null,this.barData=null;var t=null,n=null,i=null,a=this;this.documentListStateService.timeRange.durationInHours?t=this.documentListStateService.timeRange.durationInHours:(n=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.documentListStateService.timeRange.startTime),i=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.documentListStateService.timeRange.endTime)),this.subs.push(this.documentAPIService.getDocumentChartData(t,n,i).pipe(Object(qt.a)(this.destroyed$)).subscribe(function(c){if(c&&c.hasOwnProperty("documentArray")){var r=a.documentAPIService.summarizedChartData(c,t,n,i);a.barData=r.get("barData"),a.chartXAxisTitle=r.get("barChartLabel"),a.donutChartData=r.get("donutData"),a.legendsData=r.get("columnKeyColorArray"),a.columnKeyColorArray=r.get("columnKeyColorArray"),a.totalExecutions=c.total,a.showMaxRowsReachedMsg=!!c.rowCount,a.actualRowCount=c.rowCount}else e.donutChartData=null,e.barData=null,e.chartXAxisTitle=null,e.totalExecutions=0,e.showMaxRowsReachedMsg=!1,e.actualRowCount=0;a.chartDataFetched=!0,a.fetchingChartData=!1,e.isChartDataAvailable=!0},function(t){e.chartDataFetched=!0,e.fetchingChartData=!1,e.donutChartData=null,e.barData=null,e.chartXAxisTitle=null,e.totalExecutions=0,e.isChartDataAvailable=!1,e.monitoringErrorInformation=Object(y.K)(t,e.translate),t.message&&(e.monitoringErrorMessage1=t.message),e.showMaxRowsReachedMsg=!1,e.actualRowCount=0}))}},{key:"setDefault",value:function(){this.loading=!1,this.tableInfo.sortField=this.tableInfo.defaultSortField,this.tableInfo.sortOrder=this.tableInfo.defaultSortOrder,this.rows=this.tableInfo.pageSize,this.resetPager()}},{key:"resetPager",value:function(){this.first=1,this.pageCount=0,this.totalRecords=0,this.tableInfo.pageSize||(this.tableInfo.pageSize=20),this.rows=this.tableInfo.pageSize}},{key:"lazyLoadDocumentTableResults",value:function(e){this.renderDocumentTableResults(e);var t=e.filters,n=[];Object.keys(t).forEach(function(e){n.push({filterBy:e,filterValue:t[e].value})}),this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=[]),this.getFilteredDocumentList(n.length>0?n:this.documentListStateService.tableFilters)}},{key:"getFilteredDocumentList",value:function(e){var t=this;this.fetchingTableData=!0,this.documentList=void 0;var n=null,i=null,a=[];e.map(function(e){return a.push(Object.assign({},e))}),this.documentListStateService.timeRange.durationInHours?a.push({filterBy:"durationInHours",filterValue:this.documentListStateService.timeRange.durationInHours}):(n=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.documentListStateService.timeRange.startTime),i=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.documentListStateService.timeRange.endTime)),this.subs.push(this.documentAPIService.getDocumentList(this.pageCount,this.tableInfo.pageSize,this.tableInfo.sortField,"asc"===this.tableInfo.sortOrder?"TRUE":"FALSE",n,i,a).pipe(Object(qt.a)(this.destroyed$)).subscribe(function(e){e&&(t.totalRecords=e.totalCounts?e.totalCounts:0,t.documentList=e.documents?e.documents:[],t.loading=!1,t.showMaxRowsReachedMsg=!!e.rowCount,t.actualRowCount=e.rowCount),t.fetchingTableData=!1,t.isTableDataAvailable=!0,t.makeComponentsAccessible()},function(e){t.loading=!1,t.documentList=[],t.totalRecords=null,t.showMaxRowsReachedMsg=!1,t.actualRowCount=0,t.fetchingTableData=!1,t.isTableDataAvailable=!1,e.message&&(t.monitoringErrorMessage2=e.message),e.error&&e.error.message&&(t.monitoringErrorMessage3=e.error.message)}))}},{key:"makeComponentsAccessible",value:function(){var e=this;setTimeout(function(){var t=document.getElementById("headerCheckbox");t&&y.J.makeTableCheckboxAccessible(t,e.translate.instant("common.table.header.checkbox.title"));var n=document.getElementsByTagName("p-tableCheckbox"),i=0;if(n&&n.length>0)for(i=0;i<n.length;i++)y.J.makeTableCheckboxAccessible(n[i],e.translate.instant("common.table.row.checkbox.title"));var a=document.getElementsByTagName("p-paginator");if(a&&a.length>0)for(i=0;i<a.length;i++)y.J.makePaginatorAccessible(a[i],e.translate.instant("common.table.pagination.go.back.first.page"),e.translate.instant("common.table.pagination.advance.last.page"),e.translate.instant("common.table.pagination.go.back.previous.page"),e.translate.instant("common.table.pagination.advance.next.page"),e.translate.instant("common.table.pagination.select.page"),e.translate.instant("common.table.pagination.select.number.rows"))},100)}},{key:"hideMaxResultWarning",value:function(){this.showMaxRowsReachedMsg=!1}},{key:"refreshDocumentListContent",value:function(e){this.refresh()}},{key:"refreshDocumentList",value:function(){this.getFilteredDocumentList(this.documentListStateService.tableFilters)}},{key:"refreshIntervalChanged",value:function(e){this.documentListStateService.refreshInterval=e.value?e.value:0}},{key:"renderDocumentTableResults",value:function(e){e?(this.tableInfo.sortField=e.sortField,this.tableInfo.sortOrder="desc",1===e.sortOrder&&(this.tableInfo.sortOrder="asc"),this.first=e.first+1,e.rows&&(this.pageCount=Math.floor(e.first/e.rows),this.tableInfo.pageSize=e.rows)):this.setDefault(),this.getRowCount(),this.cd.detectChanges()}},{key:"getRowCount",value:function(){this.tableInfo.pageSize||(this.tableInfo.pageSize=20),this.rows=(this.pageCount+1)*this.tableInfo.pageSize,this.totalRecords>0&&this.totalRecords<this.rows&&(this.rows=this.totalRecords)}},{key:"onFilterChange",value:function(e){if(this.documentListStateService.tableFilters&&0!==this.documentListStateService.tableFilters.length){for(var t=0;t<this.documentListStateService.tableFilters.length;t++)if(this.documentListStateService.tableFilters[t].filterBy===e.filterBy){this.documentListStateService.tableFilters[t]=e;break}}else this.documentListStateService.tableFilters=[],this.documentListStateService.tableFilters.push(e);this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}},{key:"onClearAll",value:function(){this.documentListStateService.tableFilters=[],this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}},{key:"toggleFullScreen",value:function(e){this.documentListStateService.fullScreenTable?(e.classList.remove("dlt-icon-fullscreen-exit"),e.classList.add("dlt-icon-fullscreen"),e.parentElement.title=this.translate.instant("common.showFullScreen")):(e.classList.remove("dlt-icon-fullscreen"),e.classList.add("dlt-icon-fullscreen-exit"),e.parentElement.title=this.translate.instant("common.exitFullScreen")),this.documentListStateService.fullScreenTable=!this.documentListStateService.fullScreenTable}},{key:"processSelectedTimeRange",value:function(e){this.documentListStateService.timeRange=e,this.resetPager(),this.setChartData(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}},{key:"updateFilterTags",value:function(){this.resetPager();var e=[];this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=[]);for(var t=0;t<this.documentListStateService.tableFilters.length;t++){var n=this.documentListStateService.tableFilters[t];"typeSet"===n.filterBy&&n.filterValue?(this.updateDisplayvalueForStatus(n).forEach(function(t){e.push(t)}),this.filterTags=e):null==n.filterDisplayValue&&(n.filterDisplayValue=n.filterValue),null!==n.filterValue&&"typeSet"!==n.filterBy&&e.push(n)}this.filterTags=e}},{key:"onBasicFiltersReset",value:function(){for(var e=this.documentListStateService.tableFilters.length-1;e>=0;--e){var t=this.documentListStateService.tableFilters[e];t.filterBy==t.filterBy&&this.documentListStateService.tableFilters.splice(e,1)}this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}},{key:"onClearFilter",value:function(e){for(var t=0;t<this.documentListStateService.tableFilters.length;t++)if(this.documentListStateService.tableFilters[t].filterBy===e.filterBy){if("typeSet"!==e.filterBy){this.documentListStateService.tableFilters.splice(t,1);break}if(this.filterTags&&this.filterTags.length>0){for(var n=0,i=0;i<this.filterTags.length;i++)if("typeSet"===this.filterTags[i].filterBy&&this.filterTags[i].filterValue===e.filterValue){n=i;break}if(n>-1&&this.filterTags.splice(n,1),this.documentListStateService.tableFilters&&this.documentListStateService.tableFilters.length>0)for(var a=0;a<this.documentListStateService.tableFilters.length;a++)if("typeSet"===this.documentListStateService.tableFilters[a].filterBy){if(this.documentListStateService.tableFilters[a].filterValue&&this.documentListStateService.tableFilters[a].filterValue.length>0){for(var c=-1,r=0;r<this.documentListStateService.tableFilters[a].filterValue.length;r++)if(this.documentListStateService.tableFilters[a].filterValue[r]===e.filterValue){c=r;break}c>-1&&this.documentListStateService.tableFilters[a].filterValue.splice(c,1)}break}return void this.getFilteredDocumentList(this.documentListStateService.tableFilters)}}this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}},{key:"onClearAllFilters",value:function(){this.documentListStateService.tableFilters=[],this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}},{key:"onBasicFiltersApply",value:function(e){this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=[]);for(var t=0;t<e.length;t++){for(var n=e[t],i=!1,a=0;a<this.documentListStateService.tableFilters.length;a++)if(this.documentListStateService.tableFilters[a].filterBy===n.filterBy){this.documentListStateService.tableFilters[a]=n,i=!0;break}i||this.documentListStateService.tableFilters.push(f.CommonUtil.cloneObject(n))}this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}},{key:"updateDisplayvalueForStatus",value:function(e){for(var t=[],n=0;n<e.filterValue.length;n++)for(var i=e.filterValue[n],a=0;a<this.typeList.length;a++){var c=this.typeList[a];if(c.value===i){t.push({filterBy:"typeSet",filterValue:c.value,label:e.label,type:"text",filterDisplayValue:c.label});break}}return t}},{key:"getDefaultTableFilters",value:function(){return Jt.getDefaultBasicSearchTableFilters(this.typeList)}},{key:"initTableFilters",value:function(){this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=[])}},{key:"initSearchQuery",value:function(){this.documentListStateService.documentSearchQuery||(this.documentListStateService.documentSearchQuery=this.getDefaultDocumentSearchQuery())}},{key:"getDefaultDocumentSearchQuery",value:function(){return this.documentListStateService.tableFilters||(this.documentListStateService.tableFilters=[]),{searchTerms:null,tableFilters:this.documentListStateService.tableFilters,status:null,andQuery:!0}}},{key:"onAdvancedSearchApply",value:function(e){this.documentListStateService.documentSearchQuery=e;for(var t=this.documentListStateService.documentSearchQuery.searchTerms,n=[],i=0;i<t.length;i++){var a=t[i];if(a.value){var c=Jt.getSearchField(a.field),r={filterBy:c.name,filterValue:a.value,label:c.label,type:c.type,options:this.typeList,filterDisplayValue:c.value};r.filterValue&&n.push(r)}}n.push({filterBy:"typeSet",filterValue:this.documentListStateService.documentSearchQuery.status,label:"monitoring.services.service.status",type:"multiSelect",options:this.typeList}),this.documentListStateService.documentSearchQuery.andQuery||n.push({filterBy:"isAnd",filterValue:this.documentListStateService.documentSearchQuery.andQuery,label:"common.labels.SearchCondition",filterDisplayValue:this.translate.instant("common.labels.or"),type:"boolean"}),this.documentListStateService.tableFilters=n,this.updateFilterTags(),this.getFilteredDocumentList(n)}},{key:"onAdvancedSearchReset",value:function(e){this.documentListStateService.documentSearchQuery=e,this.documentListStateService.tableFilters=[],this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}},{key:"showBasicFilter",value:function(){this.documentListStateService.basicSearchFilters=this.getDefaultTableFilters();for(var e=0;e<this.documentListStateService.tableFilters.length;e++){var t=this.documentListStateService.tableFilters[e];"typeSet"===t.filterBy&&t.filterValue?this.documentListStateService.basicSearchFilters[0].filterValue=t.filterValue:"documentName"===t.filterBy&&t.filterValue&&(this.documentListStateService.basicSearchFilters[1].filterValue=t.filterValue)}}},{key:"showAdvancedSearch",value:function(){this.documentListStateService.documentSearchQuery=this.getDefaultDocumentSearchQuery()}},{key:"onKeydownEnter",value:function(e){this.router.navigateByUrl("/monitoring/document/"+e)}},{key:"ngOnDestroy",value:function(){this.subs.forEach(function(e){return e.unsubscribe()}),this.destroyed$.next(!0),this.destroyed$.complete()}},{key:"handleKeydown",value:function(e){27===e.keyCode?this.tablePrefsOverlay&&this.tablePrefsOverlay.hide():13===e.keyCode&&e.target&&"showColumns"===e.target.id&&this.tablePrefsOverlay&&this.tablePrefsOverlay.hide()}},{key:"showTablePrefs",value:function(e){var t=this;setTimeout(function(){t.tablePrefs.setFocus()},10)}},{key:"pieItemClicked",value:function(e){var t=e.label;if(this.documentListStateService.tableFilters&&0!==this.documentListStateService.tableFilters.length){for(var n=0;n<this.documentListStateService.tableFilters.length;n++)if("typeSet"===this.documentListStateService.tableFilters[n].filterBy){this.documentListStateService.tableFilters[n].filterValue=[t];break}}else this.documentListStateService.tableFilters=[],this.documentListStateService.tableFilters.push({filterBy:"typeSet",filterValue:[t],label:"monitoring.services.service.status",type:"multiSelect",options:this.statusList});this.updateFilterTags(),this.getFilteredDocumentList(this.documentListStateService.tableFilters)}},{key:"onRowUnselect",value:function(e){e&&"checkbox"===e.type&&e.data&&e.data.DOCUMENTID&&(this.selectedDocumentIDs=this.selectedDocumentIDs.filter(function(t){return t!==e.data.DOCUMENTID}))}},{key:"onRowSelect",value:function(e){e&&"checkbox"===e.type&&e.data&&e.data.DOCUMENTID&&this.selectedDocumentIDs.push(e.data.DOCUMENTID)}},{key:"onHeaderCheckboxToggle",value:function(t){if(t&&(this.selectedDocumentIDs=new Array,t.checked)){var n,i=e(this.documentList);try{for(i.s();!(n=i.n()).done;){var a=n.value;this.selectedDocumentIDs.push(a.DOCUMENTID)}}catch(c){i.e(c)}finally{i.f()}}}},{key:"resubmitDocuments",value:function(){var e=this;this.subs.push(this.documentAPIService.resubmitDocuments(this.selectedDocumentIDs).subscribe(function(t){t&&t.message&&t.message.length>0&&e.toastr.success(e.translate.instant("monitoring.documents.multiple.document.resubmit.success.msg",{msg:t.message}),e.translate.instant("monitoring.documents.multiple.document.resubmit.success.title"),{enableHtml:!0}),e.refreshDocumentList()},function(t){var n=Object(y.K)(t,e.translate);e.toastr.error(e.translate.instant("monitoring.documents.multiple.document.resubmit.failed.msg",{errMsg:n}),e.translate.instant("monitoring.documents.multiple.document.resubmit.failed.title")),e.refreshDocumentList()}))}},{key:"showHelp",value:function(){}},{key:"goToHomePage",value:function(){this.router.navigateByUrl(this.homeLink)}}]),t}()).\u0275fac=function(e){return new(e||Ci)(b.Zb(T),b.Zb(f.TableSettingsService),b.Zb(d.d),b.Zb(y.A),b.Zb(Xt),b.Zb(m.e),b.Zb(O.b),b.Zb(f.DateTimeService),b.Zb(b.h),b.Zb(f.PreferencesService))},Ci.\u0275cmp=b.Tb({type:Ci,selectors:[["app-document-list"]],viewQuery:function(e,t){var n;1&e&&(b.hd(Bn,1),b.hd(Nn,1),b.hd(Hn,1)),2&e&&(b.Oc(n=b.qc())&&(t.isMonDocTable=n.first),b.Oc(n=b.qc())&&(t.tablePrefs=n.first),b.Oc(n=b.qc())&&(t.tablePrefsOverlay=n.first))},hostBindings:function(e,t){1&e&&b.pc("keydown",function(e){return t.handleKeydown(e)},!1,b.Qc)},decls:13,vars:8,consts:[[1,"breadcrumbs-container"],["aria-label","breadcrumb",1,"dlt-breadcrumbs"],["routerLink","/integration/dashboard/overview","tabindex","0",1,"dlt-links"],["aria-current","page",1,"dlt-links"],[4,"ngIf","ngIfElse"],["monitorUnavailableTemplate",""],[1,"doclistcontainer"],[1,"row"],[1,"col","page-title"],[1,"d-flex","col","justify-content-end",2,"min-width","615px"],[1,"col-12","right-align",3,"timeRange","refreshInterval","isCustomTimeRange","alignSelector","showRefresh","showAutoRefresh","onSelectTimeRange","onRefreshContent","onRefreshIntervalChanged"],[1,"chartContainerDoc",3,"ngClass"],[1,"row","chart-row"],[1,"col-4"],[1,"header"],[2,"padding-left","10px"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"col-8"],[3,"chartno","data","columnKeyColorArray","heightInput","chartXAxisTitle",4,"ngIf"],[1,"col-5"],[3,"data","heightInput","pieItemClicked"],[1,"col-7","border-right"],[3,"data","heightInput","legendItemClicked"],[1,"donutInfo"],["src","assets/images/svgs/Chart-info-icon.svg",2,"width","16px","height","16px",3,"alt"],[3,"chartno","data","columnKeyColorArray","heightInput","chartXAxisTitle"],["appendTo","body",3,"showTransitionOptions","hideTransitionOptions"],["tablePrefsOverlay",""],["tablePrefs",""],[1,"dlt-data-table-container"],["width","100%"],[2,"vertical-align","top","margin-top","0.0rem","margin-bottom","0.0rem"],[1,"dlt-table-header"],[1,"dlt-data-table-title"],[1,"dlt-table-toolbar"],[1,"dlt-toolbar-content"],[2,"display","inline-flex"],[1,"dlt-dropdown"],["showDelay","250","tooltipPosition","left","tabindex","0",1,"dlt-button","dlt-button-icon","btn-1","tb-vert",3,"pTooltip","click"],[1,"dlt-icon-settings","dlg-icon-btn","dlt-icon"],["showDelay","250","tabindex","0","tooltipPosition","left",1,"dlt-button","dlt-button-icon","btn-1","tb-vert",3,"pTooltip","click"],[1,"dlt-icon-fullscreen","dlg-icon-btn","dlt-icon"],["expandTable",""],["tabindex","0",1,"dlt-button","dlt-button-primary","xs-button",3,"disabled","click"],[1,"dlt-table-wrapper"],["class","dlt-inline warn-border",4,"ngIf"],["lazyLoadOnInit","false","sortMode","single","sortOrder","-1","dataKey","DOCUMENTID",3,"ngClass","columns","value","paginator","rows","totalRecords","rowsPerPageOptions","paginatorDropdownAppendTo","lazy","selection","first","showPageLinks","showJumpToPageDropdown","onLazyLoad","selectionChange","onRowUnselect","onRowSelect","onHeaderCheckboxToggle","firstChange"],["isMonDocTable",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorleft"],[1,"filterCell"],[2,"margin-right","10px"],["tabindex","0",1,"dlt-button","dlt-button-primary","xs-button","searchButton",3,"click"],["tabindex","0",1,"dlt-button","dlt-button-secondary","xs-button","searchButton",3,"click"],[3,"styleClass","tableFilters","onFiltersReset","onFiltersApply","onFilterChange"],["filterOverlayPanel",""],[3,"documentSearchQuery","docStatusList","onDocAdvancedSearchApply","onDocAdvancedSearchReset"],["advancedSearchOverlayPanel",""],[3,"filterTags","onClearAll","onClearFilter"],[1,"dlt-inline","warn-border"],[1,"dlg-title-wrapper"],[1,"dlt-icon-warning","warn-icon"],[1,"inline-message"],["showDelay","250",1,"dlt-icon-close","close-icon","closeWarning",3,"pTooltip","click"],[1,"tableHeaderSelectAll"],["id","headerCheckbox"],["headerCheckbox",""],[4,"ngFor","ngForOf"],["tooltipPosition","top",3,"pSortableColumn","pTooltip",4,"ngIf"],["tooltipPosition","top",3,"pSortableColumn","pTooltip"],[1,"table-header-title","width-100-percentage"],[1,"width-55-percentage","m-pull-top-point-7"],["ariaLabel","'common.table.column.sort'|translate","ariaLabelDesc","'common.table.column.sort.descending'|translate","ariaLabelAsc","'common.table.column.sort.ascending'|translate",3,"field"],[1,"table-data","centerAlignText"],[3,"pSelectableRow","keydown.enter"],[1,"selection-checkbox",2,"color","#000"],[3,"value"],["showDelay","250","tooltipPosition","top",3,"pTooltip",4,"ngIf"],["showDelay","250","tooltipPosition","top",3,"pTooltip","routerLink",4,"ngIf"],["showDelay","250","tooltipPosition","top",3,"pTooltip"],[1,"firstPart","firstPart0"],["showDelay","250","tooltipPosition","top",3,"pTooltip","routerLink"],[1,"firstPart"],[1,"lastPart"],[1,"lastPart","lastPart0"],["class","no-items-todisplay",4,"ngIf"],[1,"no-items-todisplay"],[1,"table-data"],["noItemsTemplate",""],[1,"monitoringUnavailable"],[1,"monitoringUnavailableEnsure"],["class","monitoringErrorInfoLabel",4,"ngIf"],["class","monitoringErrorInfoMsg",4,"ngIf"],[1,"monitoringErrorInfoLabel"],[1,"monitoringErrorInfoMsg"]],template:function(e,t){if(1&e&&(b.fc(0,"div",0),b.fc(1,"ol",1),b.fc(2,"li"),b.fc(3,"a",2),b.bd(4),b.uc(5,"translate"),b.ec(),b.ec(),b.fc(6,"li"),b.fc(7,"a",3),b.bd(8),b.uc(9,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.Zc(10,fi,27,25,"ng-container",4),b.Zc(11,yi,21,20,"ng-template",null,5,b.ad)),2&e){var n=b.Pc(12);b.Lb(4),b.cd(b.vc(5,4,"masthead.administration")),b.Lb(4),b.cd(b.vc(9,6,"monitoring.documents.tab")),b.Lb(2),b.Ac("ngIf",t.isChartDataAvailable)("ngIfElse",n)}},directives:[m.h,g.n,f.DateTimerangePanelComponent,g.l,cn,sn,un,hn.a,f.TablePreferencesComponent,_.a,fn.h,D.j,f.FilterOverlayPanelComponent,Fn,f.FilterTagsComponent,fn.j,g.m,fn.g,fn.f,fn.e,fn.i],pipes:[d.c,y.t,y.E,y.F],styles:[".documentList-table[_ngcontent-%COMP%]{margin:10px}.breadcrumbs-container[_ngcontent-%COMP%]{padding-top:.8rem;margin-left:2px}.rightSideFixedcontainer[_ngcontent-%COMP%]{padding-top:.8rem;margin-right:25px}.doclistcontainer[_ngcontent-%COMP%]{width:100%;height:100%;padding:1rem 1rem 1rem 1.26rem;overflow:auto}.page-title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-left:-.36rem;font-family:Roboto,Helvetica,Arial,sans-serif;white-space:nowrap;overflow:none;min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content}.page-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.service-table-wrapper[_ngcontent-%COMP%]{padding:5px}.data-table-title[_ngcontent-%COMP%]{font-weight:500;font-size:1.25rem;color:#333;position:relative;display:flex;line-height:2rem;white-space:nowrap}.documentList-table[_ngcontent-%COMP%]   .table-toolbar[_ngcontent-%COMP%]{display:flex;width:100%;height:2rem;align-items:flex-end;justify-content:flex-end}.documentList-table[_ngcontent-%COMP%]   .dlt-form-group[_ngcontent-%COMP%]{max-width:300px}.documentList-table[_ngcontent-%COMP%]   .xs-button[_ngcontent-%COMP%]{line-height:1.75rem;margin:2px 10px 2px 0}.documentList-table[_ngcontent-%COMP%]   .dlt-dropdown[_ngcontent-%COMP%]{line-height:2rem;margin:0 10px 0 0}.documentList-table[_ngcontent-%COMP%]   .dlt-button-icon[_ngcontent-%COMP%]{height:1.75rem!important;width:1.75rem!important}.hidden[_ngcontent-%COMP%]{display:none}.tableHeaderSelectAll[_ngcontent-%COMP%]{width:3em;padding-left:.9em}.padding-top-30[_ngcontent-%COMP%]{padding-top:30px}.legend-panel[_ngcontent-%COMP%]{background:#fff none repeat scroll 0 0;height:auto;position:absolute;right:20px;top:60px}.panel[_ngcontent-%COMP%]{margin-top:27px!important;border:1px solid #cccccb;padding:0 10px}.chartContainerDoc[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.row.chart-row[_ngcontent-%COMP%]{box-shadow:0 2px 8px 0 rgba(0,0,0,.15);border:1px solid #dadada;background-color:#fff;margin-bottom:20px;margin-top:10px}.header[_ngcontent-%COMP%]{color:#666;padding-left:2px;padding-right:2px;margin-bottom:0;padding-top:10px}.margin-bottom[_ngcontent-%COMP%]{margin-bottom:20px}.donutInfo[_ngcontent-%COMP%]{color:#666;padding-top:0;padding-bottom:10px;padding-left:10px;font-size:.7rem}.dlt-icon-fullscreen[_ngcontent-%COMP%]:before{content:url(Expand-dialog-vec18.4ec93a215fa9f4638f8b.svg)}.dlt-icon-fullscreen-exit[_ngcontent-%COMP%]:before{content:url(Collapse-dialog-vec18.c764bb320fbb6335e037.svg)}.dlt-inline[_ngcontent-%COMP%]{width:100%;margin-top:10px}.monitoringUnavailable[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-top:2rem}.monitoringUnavailable[_ngcontent-%COMP%], .monitoringUnavailableEnsure[_ngcontent-%COMP%]{width:100%;margin-left:2rem;margin-right:2rem;padding-right:2rem;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringUnavailableEnsure[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;font-weight:400}.monitoringErrorInfoLabel[_ngcontent-%COMP%]{font-weight:500;margin-top:1rem;margin-left:3rem;margin-right:3rem;padding-right:3rem}.monitoringErrorInfoLabel[_ngcontent-%COMP%], .monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;width:100%;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-weight:400;margin-left:4rem;margin-right:4rem;padding-right:4rem}.firstPart0[_ngcontent-%COMP%], .lastPart0[_ngcontent-%COMP%]{color:#000}firstPart[_ngcontent-%COMP%], lastPart[_ngcontent-%COMP%]{color:#34d!important}.dlt-icon-tbl[_ngcontent-%COMP%]{width:40px}.filterCell[_ngcontent-%COMP%]{margin-top:0}.closeWarning[_ngcontent-%COMP%]{cursor:pointer}.searchButton[_ngcontent-%COMP%]{display:inline!important}.tb-vert[_ngcontent-%COMP%]{width:2rem!important;height:2rem!important}"]}),Ci),xi=c("rK5H"),Ti=function(e){return[e]},wi=function(e){return{"dlt-tab-link-selected":e}},Li=function(){return["dlt-tab-link-selected"]},ki=function(){return{exact:!0}};function Ii(e,t){if(1&e&&(b.dc(0),b.fc(1,"div",2),b.fc(2,"ul",3),b.fc(3,"li",4),b.fc(4,"a",5),b.bd(5),b.uc(6,"translate"),b.ec(),b.ec(),b.fc(7,"li",4),b.fc(8,"a",5),b.bd(9),b.uc(10,"translate"),b.ec(),b.ec(),b.fc(11,"li",4),b.fc(12,"a",6),b.bd(13),b.uc(14,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(15,"div",7),b.fc(16,"div",8),b.ac(17,"router-outlet"),b.ec(),b.ec(),b.cc()),2&e){var n=b.tc();b.Lb(4),b.Ac("id",n.subNavItems[0].id)("routerLink",b.Gc(19,Ti,null==n.subNavItems[0]?null:n.subNavItems[0].link))("ngClass",b.Gc(21,wi,n.isServiceLinkActive())),b.Lb(1),b.dd(" ",b.vc(6,13,null==n.subNavItems[0]?null:n.subNavItems[0].displayText)," "),b.Lb(3),b.Ac("id",null==n.subNavItems[1]?null:n.subNavItems[1].id)("routerLink",b.Gc(23,Ti,null==n.subNavItems[1]?null:n.subNavItems[1].link))("ngClass",b.Gc(25,wi,n.isDocumentLinkActive())),b.Lb(1),b.dd(" ",b.vc(10,15,null==n.subNavItems[1]?null:n.subNavItems[1].displayText)," "),b.Lb(3),b.Ac("id",null==n.subNavItems[2]?null:n.subNavItems[2].id)("routerLink",b.Gc(27,Ti,null==n.subNavItems[2]?null:n.subNavItems[2].link))("routerLinkActive",b.Fc(29,Li))("routerLinkActiveOptions",b.Fc(30,ki)),b.Lb(1),b.dd(" ",b.vc(14,17,null==n.subNavItems[2]?null:n.subNavItems[2].displayText)," ")}}function Mi(e,t){1&e&&(b.fc(0,"div",13),b.bd(1),b.uc(2,"translate"),b.ec()),2&e&&(b.Lb(1),b.cd(b.vc(2,1,"monitoring.error.information")))}function Oi(e,t){if(1&e&&(b.fc(0,"div",14),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.cd(n.monitoringErrorInformation)}}function _i(e,t){if(1&e&&(b.fc(0,"div",14),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.cd(n.monitoringErrorMessage1)}}function Pi(e,t){if(1&e&&(b.fc(0,"div",14),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.cd(n.monitoringErrorMessage2)}}function Di(e,t){if(1&e&&(b.fc(0,"div",14),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.cd(n.monitoringErrorMessage3)}}function Ai(e,t){if(1&e&&(b.fc(0,"div",9),b.bd(1),b.uc(2,"translate"),b.ec(),b.fc(3,"ul"),b.fc(4,"li",10),b.bd(5),b.uc(6,"translate"),b.ec(),b.fc(7,"li",10),b.bd(8),b.uc(9,"translate"),b.ec(),b.fc(10,"li",10),b.bd(11),b.uc(12,"translate"),b.ec(),b.fc(13,"li",10),b.bd(14),b.uc(15,"translate"),b.ec(),b.ec(),b.Zc(16,Mi,3,3,"div",11),b.Zc(17,Oi,2,1,"div",12),b.Zc(18,_i,2,1,"div",12),b.Zc(19,Pi,2,1,"div",12),b.Zc(20,Di,2,1,"div",12)),2&e){var n=b.tc();b.Lb(1),b.dd(" ",b.vc(2,10,"monitoring.unavailable.message")," "),b.Lb(4),b.dd(" ",b.vc(6,12,"monitoring.services.unavailable.ensure1")," "),b.Lb(3),b.dd(" ",b.vc(9,14,"monitoring.services.unavailable.ensure2")," "),b.Lb(3),b.dd(" ",b.vc(12,16,"monitoring.services.unavailable.ensure3")," "),b.Lb(3),b.dd(" ",b.vc(15,18,"monitoring.services.unavailable.ensure4")," "),b.Lb(2),b.Ac("ngIf",n.monitoringErrorInformation||n.monitoringErrorMessage1||n.monitoringErrorMessage2||n.monitoringErrorMessage3),b.Lb(1),b.Ac("ngIf",n.monitoringErrorInformation),b.Lb(1),b.Ac("ngIf",n.monitoringErrorMessage1),b.Lb(1),b.Ac("ngIf",n.monitoringErrorMessage2),b.Lb(1),b.Ac("ngIf",n.monitoringErrorMessage3)}}var Ri,Ei=((Ri=function(){function e(t,i,a,c){n(this,e),this.router=t,this.translate=i,this.monitoringLayoutService=c,this.destroyed$=new Wt.a,this.monitoring="/monitoring/",this.services=this.monitoring+"services",this.service=this.monitoring+"service",this.documents=this.monitoring+"documents",this.document=this.monitoring+"document",this.dataManagement=this.monitoring+"data-management",this.subscriptions=[],this.isWmMonitorAvailable=!0,this.subNavItems=y.j.getMonitorNavItems,this.isPackageService=a,this.checkMonitorStatus()}return a(e,[{key:"checkMonitorStatus",value:function(){var e=this;this.subscriptions.push(this.isPackageService.getISPackageInfo("WmMonitor").pipe(Object(qt.a)(this.destroyed$)).subscribe(function(t){if(t&&"WmMonitor"===t.packageName&&"true"===t.enabled)return e.isWmMonitorAvailable=!0,void e.subscriptions.push(e.monitoringLayoutService.navLink.subscribe(function(t){e.activeRouteLink=t.startsWith(e.service)?e.services:t.startsWith(e.document)?e.documents:e.dataManagement}));e.monitoringErrorMessage2=e.translate.instant(t&&"WmMonitor"===t.packageName&&"false"===t.enabled?"monitoring.wmmonitor.disabled":"monitoring.wmmonitor.not.installed"),e.isWmMonitorAvailable=!1},function(t){e.isWmMonitorAvailable=!1,e.monitoringErrorMessage2=e.translate.instant("monitoring.wmmonitor.not.installed"),e.monitoringErrorMessage3=Object(y.K)(t,e.translate)}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.destroyed$.next(!0),this.destroyed$.complete()}},{key:"isServiceLinkActive",value:function(){return(this.router.url&&this.router.url.indexOf("/service"))>-1}},{key:"isDocumentLinkActive",value:function(){return(this.router.url&&this.router.url.indexOf("/document"))>-1}},{key:"ngOnInit",value:function(){!this.activeRouteLink&&this.subNavItems&&this.subNavItems.length>0&&(this.activeRouteLink=this.subNavItems[0].link)}},{key:"onNavItemClick",value:function(e,t){this.activeRouteLink=t.link,e.stopPropagation(),e.preventDefault(),this.activeRouteLink=t.link,this.router.navigateByUrl(t.link)}},{key:"getClassForServicesTab",value:function(){return this.activeRouteLink===this.services?"selected-navigation-link":"navigation-link"}},{key:"getClassForDocumentsTab",value:function(){return this.activeRouteLink===this.documents?"selected-navigation-link":"navigation-link"}},{key:"getClassForDataManagementTab",value:function(){return this.activeRouteLink===this.dataManagement?"selected-navigation-link":"navigation-link"}}]),e}()).\u0275fac=function(e){return new(e||Ri)(b.Zb(m.e),b.Zb(d.d),b.Zb(xi.a),b.Zb(M))},Ri.\u0275cmp=b.Tb({type:Ri,selectors:[["app-monitoring-layout"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["monitorUnavailableTemplate",""],[1,"monitoring","dlt-tab-bar"],["role","tablist",1,"dlt-tab-nav"],["role","presentation"],["role","tab",1,"dlt-tab-link",3,"id","routerLink","ngClass"],["role","tab",1,"dlt-tab-link",3,"id","routerLink","routerLinkActive","routerLinkActiveOptions"],[1,"monitoring-container"],[1,"monitoring-area"],[1,"monitoringUnavailable"],[1,"monitoringUnavailableEnsure"],["class","monitoringErrorInfoLabel",4,"ngIf"],["class","monitoringErrorInfoMsg",4,"ngIf"],[1,"monitoringErrorInfoLabel"],[1,"monitoringErrorInfoMsg"]],template:function(e,t){if(1&e&&(b.Zc(0,Ii,18,31,"ng-container",0),b.Zc(1,Ai,21,20,"ng-template",null,1,b.ad)),2&e){var n=b.Pc(2);b.Ac("ngIf",t.isWmMonitorAvailable)("ngIfElse",n)}},directives:[g.n,m.h,g.l,m.g,m.j],pipes:[d.c],styles:[".sub-nav[_ngcontent-%COMP%]{position:relative;padding:0 30px;height:56px;border-radius:0;background-color:#fff;box-shadow:0 1px 0 0 rgba(0,0,0,.15);border:none}.sub-nav[_ngcontent-%COMP%], .sub-nav__container[_ngcontent-%COMP%]{list-style-type:none;margin:0}.sub-nav__container[_ngcontent-%COMP%]{position:absolute;bottom:0;padding:0}.sub-nav__container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;margin-right:32px;padding:7px 16px}.sub-nav__container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;display:block;text-decoration:none}.sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]{padding-bottom:7px;border:2px solid transparent}.sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]:focus, .sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]:hover{padding-bottom:7px;border:2px solid #14629f}.sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;text-decoration:none;font-size:14px}.sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:#1776bf;text-decoration:none}.sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .sub-nav[_ngcontent-%COMP%]   .navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}.sub-nav[_ngcontent-%COMP%]   .selected-navigation-link[_ngcontent-%COMP%]{font-weight:700;padding-bottom:7px;border-style:solid;color:transparent;border-bottom:solid #14629f;border-width:2px}.sub-nav[_ngcontent-%COMP%]   .selected-navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1776bf}.sub-nav[_ngcontent-%COMP%]   .selected-navigation-link[_ngcontent-%COMP%]:focus, .sub-nav[_ngcontent-%COMP%]   .selected-navigation-link[_ngcontent-%COMP%]:hover{border-color:#14629f}.navigation-link[_ngcontent-%COMP%]:hover, .navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .selected-navigation-link[_ngcontent-%COMP%]{border-bottom-color:#14629f}.navigation-link[_ngcontent-%COMP%]:focus, .navigation-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{border-color:#14629f}.monitoring-container[_ngcontent-%COMP%]{height:calc(100vh - 64px - 56px - 15px);width:100%;margin-bottom:1rem}.monitoring-area[_ngcontent-%COMP%]{height:100%;width:100%}.monitoring[_ngcontent-%COMP%]{margin-top:5px}  .dlt-tab-bar{box-shadow:0 1px 0 0 #e5e5e5}  .dlt-tab-bar ul.dlt-tab-nav li{width:auto!important} .dlt-tab-bar ul.dlt-tab-nav li a.dlt-tab-link{border-bottom:2px solid transparent;color:#333!important}.monitoringUnavailable[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-top:2rem}.monitoringUnavailable[_ngcontent-%COMP%], .monitoringUnavailableEnsure[_ngcontent-%COMP%]{width:100%;margin-left:2rem;margin-right:2rem;padding-right:2rem;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringUnavailableEnsure[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;font-weight:400}.monitoringErrorInfoLabel[_ngcontent-%COMP%]{font-weight:500;margin-top:1rem;margin-left:3rem;margin-right:3rem;padding-right:3rem}.monitoringErrorInfoLabel[_ngcontent-%COMP%], .monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;width:100%;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-weight:400;margin-left:4rem;margin-right:4rem;padding-right:4rem}"]}),Ri),Fi=c("lJxs");new p.e({"Content-Type":"application/json"});var Bi,Ni=((Bi=function(){function t(e,i,a,c){n(this,t),this.http=e,this.translateService=i,this.dateTimeService=a,this.toastr=c,this.servicesUrl="/admin/monitor"}return a(t,[{key:"getServices",value:function(){return this.http.get(this.servicesUrl+"/service").pipe(Object(Fi.a)(function(e){if(e&&e.services)return e.services;throw new Error("Invalid response format received while getting service list")}),Object(C.a)(this.handleError("getServices",[])))}},{key:"getServiceDetails",value:function(e){return this.http.get(this.servicesUrl+"/service/"+e).pipe(Object(C.a)(this.handleError("getServiceDetails")))}},{key:"getServiceHistory",value:function(e){return this.http.get(this.servicesUrl+"/service/"+e+"/history").pipe(Object(C.a)(this.handleError("getServiceHistory")))}},{key:"getServiceActivityMessages",value:function(e){return this.http.get(this.servicesUrl+"/service/"+e+"/activity_logs").pipe(Object(C.a)(this.handleError("getServiceActivityMessages")))}},{key:"getControlActions",value:function(e){return this.http.get(this.servicesUrl+"/service/"+e+"/control_actions").pipe(Object(C.a)(this.handleError("getControlActions")))}},{key:"getLoggedFields",value:function(e){return this.http.get(this.servicesUrl+"/service/"+e+"/custom_data").pipe(Object(C.a)(this.handleError("getLoggedFields")))}},{key:"getServiceErrors",value:function(e){return this.http.get(this.servicesUrl+"/service/"+e+"/errors").pipe(Object(C.a)(this.handleError("getServiceErrors")))}},{key:"getMonitorStatus",value:function(){return this.http.get(this.servicesUrl+"/status")}},{key:"resubmitService",value:function(e,t,n){return this.http.post(this.servicesUrl+"/service/"+e+"?action=resubmit&name="+t,n).pipe(Object(C.a)(this.handleResubmitError))}},{key:"resubmitServices",value:function(t){var n,i=this.servicesUrl+"/service?action=resubmit",a=e(t);try{for(a.s();!(n=a.n()).done;)i+="&contextIDs[]="+n.value}catch(c){a.e(c)}finally{a.f()}return this.http.post(i,null)}},{key:"handleError",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"operation",n=arguments.length>1?arguments[1]:void 0;return function(i){return console.error(i),e.log("".concat(t," failed: ").concat(i.message)),Object(S.a)(n)}}},{key:"handleResubmitError",value:function(e){var t;return t=e instanceof Response?"".concat(e.status," - ").concat(e.statusText||""," ").concat(e||""):e.message?e.message:e.toString(),console.error(t),Object(S.a)(t)}},{key:"log",value:function(e){b.fb&&console.log("ServiceApiService: ".concat(e))}},{key:"getServiceExecutionList",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"LASTTIMESTRING",i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0,o=(new p.f).set("pageNumber",e).set("pageSize",t).set("sortColumn",n).set("sortAscending",i);if(r&&r.length>0)for(var s=0;s<r.length;s++)if("durationInHours"===r[s].filterBy){var l=this.setStartAndFromDateWithoutSeconds(r[s].filterValue,a,c);a=l.startTime,c=l.endTime,r.splice(s,1);break}return a&&(o=o.append("fromDate",a)),c&&(o=o.append("toDate",c)),this.hasIsAnd(r)||(o=o.append("isAnd","TRUE")),o=y.J.getFliterToQueryParam(r,o),this.http.get(this.servicesUrl+"/service",{params:o})}},{key:"hasIsAnd",value:function(e){if(!e||0===e.length)return!1;for(var t=0;t<e.length;t++)if("isAnd"===e[t].filterBy)return!0;return!1}},{key:"setStartAndFromDateWithoutSeconds",value:function(e,t,n){return{startTime:(n=x.utc().startOf("minute")).clone().subtract(e,"hours").valueOf(),endTime:n=n.valueOf()}}},{key:"getServiceExecutionChartData",value:function(e,t,n){var i=new p.f;if(t||n||e||(e=1),e){var a=this.setStartAndFromDateWithoutSeconds(e,t,n);t=a.startTime,n=a.endTime}return t&&(i=i.append("fromDate",t)),n&&(i=i.append("toDate",n)),i=(i=i.append("isAnd","TRUE")).append("customIntervals","20"),this.http.get(this.servicesUrl+"/service/summary",{params:i})}},{key:"summarizedChartData",value:function(t,n,i,a){if(t){var c,r=[],o=[],s=[],l=[],d=[];c=this.getLabelForBarChartXAxis(n,i,a);var u,h=e(t.serviceArray);try{for(h.s();!(u=h.n()).done;){var f=u.value,g=f.startTimestamp,p=f.endTimestamp,v=void 0;0===r.length&&(v=v);var m="0",b="0",y="0",C="0";if(f.statusDetails.length>0){var S,x=e(f.statusDetails);try{for(x.s();!(S=x.n()).done;){var T=S.value;"failed"===T.status?y=T.numberOfExecutions.toString():"completed"===T.status?b=T.numberOfExecutions.toString():"resubmitted"===T.status?C=T.numberOfExecutions.toString():"started"===T.status&&(m=T.numberOfExecutions.toString())}}catch(B){x.e(B)}finally{x.f()}}var w={completed:b,completedOriginal:b,failed:y,failedOriginal:y,resubmitted:C,resubmittedOriginal:C,started:m,startedOriginal:m,startTime:this.dateTimeService.converUTCTimeStampToLocalJsDate(g),endTime:this.dateTimeService.converUTCTimeStampToLocalJsDate(p)};r.push(w)}}catch(B){h.e(B)}finally{h.f()}for(var L=0;L<r.length;L++)o.push(r[L].completed),s.push(r[L].failed),l.push(r[L].started),d.push(r[L].resubmitted);var k=o.reduce(function(e,t){return Math.max(e,t)}),I=s.reduce(function(e,t){return Math.max(e,t)}),M=l.reduce(function(e,t){return Math.max(e,t)}),O=d.reduce(function(e,t){return Math.max(e,t)}),_=Math.max(k,I,M,O);if(_>0)for(var P=0;P<r.length;P++){if("0"!==r[P].completed)for(var D=Number(r[P].completed)/Number(_)*100;D<6;)r[P].completed=(Number(r[P].completed)+1).toString(),D=Number(r[P].completed)/Number(_)*100;if("0"!==r[P].failed)for(var A=Number(r[P].failed)/Number(_)*100;A<6;)r[P].failed=(Number(r[P].failed)+1).toString(),A=Number(r[P].failed)/Number(_)*100;if("0"!==r[P].started)for(var R=Number(r[P].started)/Number(_)*100;R<6;)r[P].started=(Number(r[P].started)+1).toString(),R=Number(r[P].started)/Number(_)*100;if("0"!==r[P].resubmitted)for(var E=Number(r[P].resubmitted)/Number(_)*100;E<6;)r[P].resubmitted=(Number(r[P].resubmitted)+1).toString(),E=Number(r[P].resubmitted)/Number(_)*100}var F=new Map;return F.set("barData",r),F.set("barChartLabel",c),F.set("totalCompleted",t.totalCompleted),F.set("totalFailed",t.totalFailed),F.set("totalStarted",t.totalStarted),F.set("totalResubmitted",t.totalResubmitted),F.set("donutData",this.getDonutData(t)),F.set("columnKeyColorArray",this.getServiceBarColumnKeyColorArray(t.totalStarted,t.totalCompleted,t.totalFailed,t.totalResubmitted)),F}throw new Error("Invalid response format for integration serivce execution chart")}},{key:"getLabelForBarChartXAxis",value:function(e,t,n){var i="";return e&&e<=24?i=this.translateService.instant(1===e?"common.chart.label.time.duration.hour":"common.chart.label.time.duration.hours",{value:e}):e&&48===e?i=this.translateService.instant("common.chart.label.time.duration.days",{value:e/24}):e&&e>48?i=this.translateService.instant(168===e?"common.chart.label.time.duration.week":"common.chart.label.time.duration.weeks",{value:e/168}):t&&n&&(i=this.translateService.instant("common.chart.label.time.duration.custom",{value1:this.dateTimeService.converUTCTimeStampToLocalDateFormatString(t),value2:this.dateTimeService.converUTCTimeStampToLocalDateFormatString(n)})),i}},{key:"getServiceBarColumnKeyColorArray",value:function(e,t,n,i){return[{key:"started",color:f.COLOR_HEX.STARTED,displayValue:"monitoring.services.service.status.started",count:e},{key:"completed",color:f.COLOR_HEX.COMPLETED,displayValue:"monitoring.services.service.status.completed",count:t},{key:"failed",color:f.COLOR_HEX.FAILED,displayValue:"monitoring.services.service.status.failed",count:n},{key:"resubmitted",color:f.COLOR_HEX.RESUBMITTED,displayValue:"monitoring.services.service.status.resubmitted",count:i}]}},{key:"getDonutData",value:function(e){return[{label:"started",displayLabel:"monitoring.services.service.status.started",value:e.totalStarted,color:f.COLOR_HEX.STARTED},{label:"completed",displayLabel:"monitoring.services.service.status.completed",value:e.totalCompleted,color:f.COLOR_HEX.COMPLETED},{label:"failed",displayLabel:"monitoring.services.service.status.failed",value:e.totalFailed,color:f.COLOR_HEX.FAILED},{label:"resubmitted",displayLabel:"monitoring.services.service.status.resubmitted",value:e.totalResubmitted,color:f.COLOR_HEX.RESUBMITTED}]}}]),t}()).\u0275fac=function(e){return new(e||Bi)(b.mc(p.b),b.mc(d.d),b.mc(f.DateTimeService),b.mc(O.b))},Bi.\u0275prov=b.Vb({token:Bi,factory:Bi.\u0275fac,providedIn:"root"}),Bi),Hi=c("TFiL"),Vi=c("KnEf"),Zi=["runTreeRef"],ji=["op"],zi=["pipelineInput"];function Ui(e,t){if(1&e&&(b.fc(0,"div",92),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Bc("pTooltip",n.serviceDetails.details.ERRORMESSAGE),b.Lb(1),b.dd("",n.serviceDetails.details.ERRORMESSAGE," ")}}function $i(e,t){1&e&&(b.fc(0,"div",92),b.uc(1,"translate"),b.bd(2),b.uc(3,"translate"),b.ec()),2&e&&(b.Bc("pTooltip",b.vc(1,2,"monitoring.services.service.errors.none")),b.Lb(2),b.dd(" ",b.vc(3,4,"monitoring.services.service.errors.none")," "))}function Qi(e,t){if(1&e&&(b.dc(0),b.ac(1,"hr",34),b.fc(2,"div",53),b.fc(3,"div",93),b.bd(4),b.uc(5,"translate"),b.ec(),b.ec(),b.ac(6,"hr",94),b.fc(7,"div",53),b.fc(8,"div",95),b.fc(9,"div",96),b.fc(10,"a",97),b.bd(11),b.ec(),b.ec(),b.ec(),b.ec(),b.cc()),2&e){var n=b.tc(2);b.Lb(4),b.dd(" ",b.vc(5,4,"monitoring.services.root.service")," "),b.Lb(6),b.Bc("pTooltip",n.serviceDetails.details.root.SERVICENAME),b.Bc("routerLink",n.getRootServiceLink()),b.Lb(1),b.dd(" ",n.serviceDetails.details.root.SERVICENAME," ")}}function Ki(e,t){if(1&e&&(b.dc(0),b.ac(1,"hr",34),b.fc(2,"div",53),b.fc(3,"div",93),b.bd(4),b.uc(5,"translate"),b.ec(),b.ec(),b.ac(6,"hr",94),b.fc(7,"div",53),b.fc(8,"div",95),b.fc(9,"div",96),b.fc(10,"a",97),b.bd(11),b.ec(),b.ec(),b.ec(),b.ec(),b.cc()),2&e){var n=b.tc(2);b.Lb(4),b.dd(" ",b.vc(5,4,"monitoring.services.parent.service")," "),b.Lb(6),b.Bc("pTooltip",n.serviceDetails.details.parent.SERVICENAME),b.Bc("routerLink",n.getParentServiceLink()),b.Lb(1),b.dd(" ",n.serviceDetails.details.parent.SERVICENAME," ")}}function Wi(e,t){if(1&e&&(b.dc(0),b.ac(1,"hr",34),b.fc(2,"div",53),b.fc(3,"div",93),b.bd(4),b.uc(5,"translate"),b.ec(),b.ec(),b.ac(6,"hr",94),b.fc(7,"div",53),b.fc(8,"div",95),b.fc(9,"div",96),b.fc(10,"a",97),b.bd(11),b.ec(),b.ec(),b.ec(),b.ec(),b.cc()),2&e){var n=b.tc(2);b.Lb(4),b.dd(" ",b.vc(5,4,"monitoring.services.last.audited.parent.service")," "),b.Lb(6),b.Bc("pTooltip",n.serviceDetails.details.auditparent.SERVICENAME),b.Bc("routerLink",n.getLastAuditedParentServiceLink()),b.Lb(1),b.dd(" ",n.serviceDetails.details.auditparent.SERVICENAME," ")}}function qi(e,t){if(1&e&&(b.fc(0,"div",96),b.fc(1,"a",97),b.bd(2),b.ec(),b.ec()),2&e){var n=t.index,i=b.tc(3);b.Lb(1),b.Bc("pTooltip",i.serviceDetails.details.children[n].SERVICENAME),b.Bc("routerLink",i.getChildServiceLink(n)),b.Lb(1),b.dd(" ",i.serviceDetails.details.children[n].SERVICENAME," ")}}function Xi(e,t){if(1&e&&(b.dc(0),b.ac(1,"hr",34),b.fc(2,"div",53),b.fc(3,"div",93),b.bd(4),b.uc(5,"translate"),b.ec(),b.ec(),b.ac(6,"hr",94),b.fc(7,"div",53),b.fc(8,"div",98),b.Zc(9,qi,3,3,"div",99),b.ec(),b.ec(),b.cc()),2&e){var n=b.tc(2);b.Lb(4),b.dd(" ",b.vc(5,2,"monitoring.services.child.services")," "),b.Lb(5),b.Ac("ngForOf",n.serviceDetails.details.children)}}function Ji(e,t){if(1&e&&(b.fc(0,"span"),b.bd(1),b.uc(2,"translate"),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.ed(" ",b.vc(2,2,"monitoring.services.service.history.section")," (",n.serviceHistory.history.length,") ")}}function Gi(e,t){1&e&&(b.fc(0,"span"),b.bd(1),b.uc(2,"translate"),b.ec()),2&e&&(b.Lb(1),b.dd(" ",b.vc(2,1,"monitoring.services.service.history.section")," "))}function Yi(e,t){if(1&e){var n=b.gc();b.fc(0,"span",100),b.fc(1,"a",101),b.pc("click",function(e){return b.Rc(n),b.tc(2).toggleServiceHistoryHeight(e)}),b.bd(2),b.ec(),b.ec()}if(2&e){var i=b.tc(2);b.Lb(2),b.cd(i.serviceHistoryScrollHeightTxt)}}function ea(e,t){if(1&e&&(b.dc(0,106),b.fc(1,"th",107),b.uc(2,"translate"),b.bd(3),b.ac(4,"p-sortIcon",108),b.ec(),b.cc()),2&e){var n=t.$implicit;b.Lb(1),b.Ob(n.class),b.Bc("pTooltip",b.vc(2,7,n.header)),b.Ac("pSortableColumn",n.field),b.Lb(2),b.dd(" ",n.header," "),b.Lb(1),b.Ac("field",n.field)}}function ta(e,t){if(1&e&&(b.fc(0,"tr"),b.Zc(1,ea,5,9,"ng-container",105),b.ec()),2&e){var n=t.$implicit;b.Lb(1),b.Ac("ngForOf",n)}}function na(e,t){if(1&e&&(b.fc(0,"tr"),b.fc(1,"td",109),b.uc(2,"preferredDateTime"),b.bd(3),b.uc(4,"preferredDateTime"),b.ec(),b.fc(5,"td",110),b.bd(6),b.ec(),b.ec()),2&e){var n=t.$implicit,i=b.tc(3);b.Lb(1),b.Bc("pTooltip",b.xc(2,4,n.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)),b.Lb(2),b.dd(" ",b.xc(4,8,n.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)," "),b.Lb(2),b.Bc("pTooltip",n.STATUSDECODE),b.Lb(1),b.cd(n.STATUSDECODE)}}function ia(e,t){if(1&e&&(b.dc(0),b.fc(1,"p-table",102),b.Zc(2,ta,2,1,"ng-template",103),b.Zc(3,na,7,12,"ng-template",104),b.ec(),b.cc()),2&e){var n=b.tc(2);b.Lb(1),b.Bc("scrollHeight",n.serviceHistoryScrollHeight),b.Ac("columns",n.histCols)("value",n.serviceHistory.history)("scrollable",!0)}}function aa(e,t){1&e&&(b.fc(0,"tr"),b.fc(1,"td"),b.bd(2),b.uc(3,"translate"),b.ec(),b.ec()),2&e&&(b.Lb(2),b.cd(b.vc(3,1,"common.table.zero.items")))}function ca(e,t){if(1&e&&(b.fc(0,"span"),b.bd(1),b.uc(2,"translate"),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.ed(" ",b.vc(2,2,"monitoring.services.service.activity.messages.section")," (",n.activityMessages.activityLogs.length,") ")}}function ra(e,t){1&e&&(b.fc(0,"span"),b.bd(1),b.uc(2,"translate"),b.ec()),2&e&&(b.Lb(1),b.dd(" ",b.vc(2,1,"monitoring.services.service.activity.messages.section")," "))}function oa(e,t){if(1&e){var n=b.gc();b.fc(0,"span",100),b.fc(1,"a",101),b.pc("click",function(e){return b.Rc(n),b.tc(2).toggleActivityMessagesHeight(e)}),b.bd(2),b.ec(),b.ec()}if(2&e){var i=b.tc(2);b.Lb(2),b.cd(i.activityMessagesScrollHeightTxt)}}function sa(e,t){if(1&e&&(b.dc(0,106),b.fc(1,"th",107),b.uc(2,"translate"),b.bd(3),b.ac(4,"p-sortIcon",108),b.ec(),b.cc()),2&e){var n=t.$implicit;b.Lb(1),b.Ob(n.class),b.Bc("pTooltip",b.vc(2,7,n.header)),b.Ac("pSortableColumn",n.field),b.Lb(2),b.dd(" ",n.header," "),b.Lb(1),b.Ac("field",n.field)}}function la(e,t){if(1&e&&(b.fc(0,"tr"),b.Zc(1,sa,5,9,"ng-container",105),b.ec()),2&e){var n=t.$implicit;b.Lb(1),b.Ac("ngForOf",n)}}function da(e,t){if(1&e&&(b.fc(0,"tr"),b.fc(1,"td",109),b.uc(2,"preferredDateTime"),b.bd(3),b.uc(4,"preferredDateTime"),b.ec(),b.fc(5,"td",111),b.bd(6),b.ec(),b.fc(7,"td",111),b.bd(8),b.ec(),b.fc(9,"td",112),b.bd(10),b.ec(),b.ec()),2&e){var n=t.$implicit,i=b.tc(3);b.Lb(1),b.Bc("pTooltip",b.xc(2,8,n.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)),b.Lb(2),b.dd(" ",b.xc(4,12,n.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)," "),b.Lb(2),b.Bc("pTooltip",n.ENTRYTYPE),b.Lb(1),b.cd(n.ENTRYTYPE),b.Lb(1),b.Bc("pTooltip",n.BRIEFMESSAGE),b.Lb(1),b.cd(n.BRIEFMESSAGE),b.Lb(1),b.Bc("pTooltip",n.FULLMESSAGE),b.Lb(1),b.cd(n.FULLMESSAGE)}}function ua(e,t){if(1&e&&(b.dc(0),b.fc(1,"p-table",102),b.Zc(2,la,2,1,"ng-template",103),b.Zc(3,da,11,16,"ng-template",104),b.ec(),b.cc()),2&e){var n=b.tc(2);b.Lb(1),b.Bc("scrollHeight",n.activityMessagesScrollHeight),b.Ac("columns",n.actMsgCols)("value",n.activityMessages.activityLogs)("scrollable",!0)}}function ha(e,t){1&e&&(b.fc(0,"tr"),b.fc(1,"td"),b.bd(2),b.uc(3,"translate"),b.ec(),b.ec()),2&e&&(b.Lb(2),b.cd(b.vc(3,1,"common.table.zero.items")))}function fa(e,t){if(1&e&&(b.fc(0,"span"),b.bd(1),b.uc(2,"translate"),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.ed(" ",b.vc(2,2,"monitoring.services.service.control.actions.section")," (",n.controlActions.actions.length,") ")}}function ga(e,t){1&e&&(b.fc(0,"span"),b.bd(1),b.uc(2,"translate"),b.ec()),2&e&&(b.Lb(1),b.dd(" ",b.vc(2,1,"monitoring.services.service.control.actions.section")," "))}function pa(e,t){if(1&e){var n=b.gc();b.fc(0,"span",100),b.fc(1,"a",101),b.pc("click",function(e){return b.Rc(n),b.tc(2).toggleControlActionsHeight(e)}),b.bd(2),b.ec(),b.ec()}if(2&e){var i=b.tc(2);b.Lb(2),b.cd(i.controlActionsScrollHeightTxt)}}function va(e,t){if(1&e&&(b.dc(0,106),b.fc(1,"th",107),b.uc(2,"translate"),b.bd(3),b.ac(4,"p-sortIcon",108),b.ec(),b.cc()),2&e){var n=t.$implicit;b.Lb(1),b.Ob(n.class),b.Bc("pTooltip",b.vc(2,7,n.header)),b.Ac("pSortableColumn",n.field),b.Lb(2),b.dd(" ",n.header," "),b.Lb(1),b.Ac("field",n.field)}}function ma(e,t){if(1&e&&(b.fc(0,"tr"),b.Zc(1,va,5,9,"ng-container",105),b.ec()),2&e){var n=t.$implicit;b.Lb(1),b.Ac("ngForOf",n)}}function ba(e,t){if(1&e&&(b.fc(0,"tr"),b.fc(1,"td",109),b.uc(2,"preferredDateTime"),b.bd(3),b.uc(4,"preferredDateTime"),b.ec(),b.fc(5,"td",111),b.bd(6),b.ec(),b.fc(7,"td",111),b.bd(8),b.ec(),b.fc(9,"td",112),b.bd(10),b.ec(),b.ec()),2&e){var n=t.$implicit,i=b.tc(3);b.Lb(1),b.Bc("pTooltip",b.xc(2,8,n.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)),b.Lb(2),b.dd(" ",b.xc(4,12,n.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)," "),b.Lb(2),b.Bc("pTooltip",n.ACTIONDECODE),b.Lb(1),b.cd(n.ACTIONDECODE),b.Lb(1),b.Bc("pTooltip",n.USERNAME),b.Lb(1),b.cd(n.USERNAME),b.Lb(1),b.Bc("pTooltip",n.SERVERID),b.Lb(1),b.cd(n.SERVERID)}}function ya(e,t){if(1&e&&(b.dc(0),b.fc(1,"p-table",102),b.Zc(2,ma,2,1,"ng-template",103),b.Zc(3,ba,11,16,"ng-template",104),b.ec(),b.cc()),2&e){var n=b.tc(2);b.Lb(1),b.Bc("scrollHeight",n.controlActionsScrollHeight),b.Ac("columns",n.ctlActCols)("value",n.controlActions.actions)("scrollable",!0)}}function Ca(e,t){1&e&&(b.fc(0,"tr"),b.fc(1,"td"),b.bd(2),b.uc(3,"translate"),b.ec(),b.ec()),2&e&&(b.Lb(2),b.cd(b.vc(3,1,"common.table.zero.items")))}function Sa(e,t){if(1&e&&(b.fc(0,"span"),b.bd(1),b.uc(2,"translate"),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.ed(" ",b.vc(2,2,"monitoring.services.service.logged.fields.section")," (",n.loggedFields.customFieldList.length,") ")}}function xa(e,t){1&e&&(b.fc(0,"span"),b.bd(1),b.uc(2,"translate"),b.ec()),2&e&&(b.Lb(1),b.dd(" ",b.vc(2,1,"monitoring.services.service.logged.fields.section")," "))}function Ta(e,t){if(1&e){var n=b.gc();b.fc(0,"span",100),b.fc(1,"a",101),b.pc("click",function(e){return b.Rc(n),b.tc(2).toggleLoggedFieldsHeight(e)}),b.bd(2),b.ec(),b.ec()}if(2&e){var i=b.tc(2);b.Lb(2),b.cd(i.loggedFieldsScrollHeightTxt)}}function wa(e,t){if(1&e&&(b.dc(0,106),b.fc(1,"th",107),b.uc(2,"translate"),b.bd(3),b.ac(4,"p-sortIcon",108),b.ec(),b.cc()),2&e){var n=t.$implicit;b.Lb(1),b.Ob(n.class),b.Bc("pTooltip",b.vc(2,7,n.header)),b.Ac("pSortableColumn",n.field),b.Lb(2),b.dd(" ",n.header," "),b.Lb(1),b.Ac("field",n.field)}}function La(e,t){if(1&e&&(b.fc(0,"tr"),b.Zc(1,wa,5,9,"ng-container",105),b.ec()),2&e){var n=t.$implicit;b.Lb(1),b.Ac("ngForOf",n)}}function ka(e,t){if(1&e&&(b.fc(0,"tr"),b.fc(1,"td",109),b.uc(2,"preferredDateTime"),b.bd(3),b.uc(4,"preferredDateTime"),b.ec(),b.fc(5,"td",109),b.uc(6,"serviceIO"),b.bd(7),b.uc(8,"serviceIO"),b.ec(),b.fc(9,"td",113),b.bd(10),b.ec(),b.fc(11,"td",113),b.bd(12),b.ec(),b.ec()),2&e){var n=t.$implicit,i=b.tc(3);b.Lb(1),b.Bc("pTooltip",b.xc(2,8,n.time,i.preferencesService,i.dateTimePreferenceService)),b.Lb(2),b.dd(" ",b.xc(4,12,n.time,i.preferencesService,i.dateTimePreferenceService)," "),b.Lb(2),b.Bc("pTooltip",b.vc(6,16,"dataRow.inputField")),b.Lb(2),b.cd(b.vc(8,18,n.inputField)),b.Lb(2),b.Bc("pTooltip",n.fieldName),b.Lb(1),b.cd(n.fieldName),b.Lb(1),b.Bc("pTooltip",n.fieldValue),b.Lb(1),b.cd(n.fieldValue)}}function Ia(e,t){if(1&e&&(b.dc(0),b.fc(1,"p-table",102),b.Zc(2,La,2,1,"ng-template",103),b.Zc(3,ka,13,20,"ng-template",104),b.ec(),b.cc()),2&e){var n=b.tc(2);b.Lb(1),b.Bc("scrollHeight",n.loggedFieldsScrollHeight),b.Ac("columns",n.logFldCols)("value",n.loggedFields.customFieldList)("scrollable",!0)}}function Ma(e,t){1&e&&(b.fc(0,"tr"),b.fc(1,"td"),b.bd(2),b.uc(3,"translate"),b.ec(),b.ec()),2&e&&(b.Lb(2),b.cd(b.vc(3,1,"common.table.zero.items")))}function Oa(e,t){if(1&e&&(b.fc(0,"span"),b.bd(1),b.uc(2,"translate"),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.ed(" ",b.vc(2,2,"monitoring.services.service.errors.section")," (",n.serviceErrors.errors.length,") ")}}function _a(e,t){1&e&&(b.fc(0,"span"),b.bd(1),b.uc(2,"translate"),b.ec()),2&e&&(b.Lb(1),b.dd(" ",b.vc(2,1,"monitoring.services.service.errors.section")," "))}function Pa(e,t){if(1&e){var n=b.gc();b.fc(0,"span",100),b.fc(1,"a",101),b.pc("click",function(e){return b.Rc(n),b.tc(2).toggleServiceErrorsHeight(e)}),b.bd(2),b.ec(),b.ec()}if(2&e){var i=b.tc(2);b.Lb(2),b.cd(i.serviceErrorsScrollHeightTxt)}}function Da(e,t){if(1&e&&(b.dc(0,106),b.fc(1,"th",107),b.uc(2,"translate"),b.bd(3),b.ac(4,"p-sortIcon",108),b.ec(),b.cc()),2&e){var n=t.$implicit;b.Lb(1),b.Ob(n.class),b.Bc("pTooltip",b.vc(2,7,n.header)),b.Ac("pSortableColumn",n.field),b.Lb(2),b.dd(" ",n.header," "),b.Lb(1),b.Ac("field",n.field)}}function Aa(e,t){if(1&e&&(b.fc(0,"tr"),b.Zc(1,Da,5,9,"ng-container",105),b.ec()),2&e){var n=t.$implicit;b.Lb(1),b.Ac("ngForOf",n)}}function Ra(e,t){if(1&e&&(b.fc(0,"tr"),b.fc(1,"td",109),b.uc(2,"preferredDateTime"),b.bd(3),b.uc(4,"preferredDateTime"),b.ec(),b.fc(5,"td",110),b.bd(6),b.ec(),b.ec()),2&e){var n=t.$implicit,i=b.tc(3);b.Lb(1),b.Bc("pTooltip",b.xc(2,4,n.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)),b.Lb(2),b.dd(" ",b.xc(4,8,n.AUDITTIMESTAMP,i.preferencesService,i.dateTimePreferenceService)," "),b.Lb(2),b.Bc("pTooltip",n.ERRORMESSAGE),b.Lb(1),b.cd(n.ERRORMESSAGE)}}function Ea(e,t){if(1&e&&(b.dc(0),b.fc(1,"p-table",102),b.Zc(2,Aa,2,1,"ng-template",103),b.Zc(3,Ra,7,12,"ng-template",104),b.ec(),b.cc()),2&e){var n=b.tc(2);b.Lb(1),b.Bc("scrollHeight",n.serviceErrorsScrollHeight),b.Ac("columns",n.svcErrCols)("value",n.serviceErrors.errors)("scrollable",!0)}}function Fa(e,t){1&e&&(b.fc(0,"tr"),b.fc(1,"td"),b.bd(2),b.uc(3,"translate"),b.ec(),b.ec()),2&e&&(b.Lb(2),b.cd(b.vc(3,1,"common.table.zero.items")))}var Ba=function(e){return{svcName:e}},Na=function(e){return{width:e}},Ha=function(){return{height:"calc(100vh - 301px)",overflow:"scroll",display:"block"}},Va=function(){return{width:"100%"}},Za=function(){return{width:"70vw"}},ja=function(){return{"overflow-x":"auto","overflow-y":"auto"}};function za(e,t){if(1&e){var n=b.gc();b.fc(0,"div",6),b.fc(1,"div",7),b.fc(2,"div",8),b.fc(3,"div",9),b.fc(4,"div",10),b.fc(5,"h1"),b.bd(6),b.uc(7,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(8,"div",11),b.fc(9,"div",9),b.fc(10,"div",12),b.fc(11,"button",13),b.pc("click",function(){return b.Rc(n),b.tc().returnToList()}),b.ac(12,"img",14),b.uc(13,"translate"),b.fc(14,"label",15),b.bd(15),b.uc(16,"translate"),b.ec(),b.ec(),b.fc(17,"div",16),b.fc(18,"button",17),b.pc("click",function(){return b.Rc(n),b.tc().refreshServiceDetails()}),b.uc(19,"translate"),b.uc(20,"translate"),b.ac(21,"i",18),b.ec(),b.ec(),b.fc(22,"div",19),b.fc(23,"button",20,21),b.pc("click",function(){return b.Rc(n),b.tc().onShowOverlayPanel()}),b.uc(25,"translate"),b.uc(26,"translate"),b.ac(27,"i",22),b.ec(),b.fc(28,"div",23),b.fc(29,"button",24),b.pc("click",function(){return b.Rc(n),b.tc().editPipeline()})("focusout",function(e){return b.Rc(n),b.tc().opFocusLost(e)})("keydown.enter",function(){return b.Rc(n),b.tc().editPipeline()}),b.uc(30,"translate"),b.bd(31),b.uc(32,"translate"),b.ec(),b.fc(33,"button",25),b.pc("click",function(){return b.Rc(n),b.tc().resubmitService(!1)})("focusout",function(e){return b.Rc(n),b.tc().opFocusLost(e)})("keydown.enter",function(){return b.Rc(n),b.tc().resubmitService(!1)}),b.uc(34,"translate"),b.bd(35),b.uc(36,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ac(37,"hr"),b.fc(38,"table",26),b.ac(39,"col",27),b.ac(40,"col",28),b.fc(41,"tr"),b.fc(42,"td",29),b.fc(43,"div",30),b.fc(44,"div",31),b.fc(45,"div",7),b.fc(46,"div",32),b.fc(47,"isac-lib-simple-card",33),b.uc(48,"translate"),b.ac(49,"hr",34),b.fc(50,"table",35),b.fc(51,"tr"),b.fc(52,"td",36),b.ac(53,"img",37),b.fc(54,"span",38),b.bd(55),b.ec(),b.ec(),b.fc(56,"td",39),b.fc(57,"span",40),b.bd(58),b.uc(59,"translate"),b.ec(),b.fc(60,"span",41),b.bd(61),b.uc(62,"durationFormatTrimmed"),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(63,"div",42),b.fc(64,"div",43),b.fc(65,"isac-lib-simple-card",44),b.uc(66,"translate"),b.fc(67,"table",45),b.ac(68,"col",46),b.ac(69,"col",47),b.fc(70,"tr"),b.fc(71,"td",48),b.uc(72,"translate"),b.bd(73),b.uc(74,"translate"),b.ec(),b.fc(75,"td",49),b.bd(76),b.ec(),b.ec(),b.fc(77,"tr"),b.fc(78,"td",48),b.uc(79,"translate"),b.bd(80),b.uc(81,"translate"),b.ec(),b.fc(82,"td",49),b.bd(83),b.ec(),b.ec(),b.fc(84,"tr"),b.fc(85,"td",48),b.uc(86,"translate"),b.bd(87),b.uc(88,"translate"),b.ec(),b.fc(89,"td",49),b.bd(90),b.ec(),b.ec(),b.fc(91,"tr"),b.fc(92,"td",48),b.uc(93,"translate"),b.bd(94),b.uc(95,"translate"),b.ec(),b.fc(96,"td",49),b.bd(97),b.ec(),b.ec(),b.fc(98,"tr"),b.fc(99,"td",48),b.uc(100,"translate"),b.bd(101),b.uc(102,"translate"),b.ec(),b.fc(103,"td",49),b.bd(104),b.ec(),b.ec(),b.fc(105,"tr"),b.fc(106,"td",48),b.uc(107,"translate"),b.bd(108),b.uc(109,"translate"),b.ec(),b.fc(110,"td",49),b.bd(111),b.ec(),b.ec(),b.fc(112,"tr"),b.fc(113,"td",48),b.uc(114,"translate"),b.bd(115),b.uc(116,"translate"),b.ec(),b.fc(117,"td",49),b.uc(118,"preferredDateTime"),b.bd(119),b.uc(120,"preferredDateTime"),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(121,"div",42),b.fc(122,"div",50),b.fc(123,"isac-lib-simple-card",33),b.uc(124,"translate"),b.ac(125,"hr",34),b.fc(126,"div",51),b.ac(127,"div",52),b.ec(),b.fc(128,"div",53),b.fc(129,"div",52),b.Zc(130,Ui,2,2,"div",54),b.Zc(131,$i,4,6,"ng-template",null,55,b.ad),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(133,"div",56),b.fc(134,"div",57),b.fc(135,"div",58),b.fc(136,"isac-lib-simple-card",33),b.uc(137,"translate"),b.ac(138,"hr",34),b.fc(139,"div",53),b.fc(140,"div",59),b.fc(141,"div",60),b.bd(142),b.uc(143,"preferredDateTime"),b.ec(),b.ec(),b.ec(),b.Zc(144,Qi,12,6,"ng-container",61),b.Zc(145,Ki,12,6,"ng-container",61),b.Zc(146,Wi,12,6,"ng-container",61),b.Zc(147,Xi,10,4,"ng-container",61),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(148,"td",62),b.fc(149,"div",62),b.fc(150,"p-sidebar",63),b.pc("visibleChange",function(e){return b.Rc(n),b.tc().display=e}),b.fc(151,"button",64),b.pc("click",function(){return b.Rc(n),b.tc().toggleAdvancedFullScreen()}),b.ac(152,"img",65),b.ec(),b.fc(153,"button",66),b.pc("click",function(){return b.Rc(n),b.tc().display=!1}),b.uc(154,"translate"),b.ac(155,"img",67),b.uc(156,"translate"),b.ec(),b.fc(157,"button",68),b.pc("click",function(){return b.Rc(n),b.tc().collapseAllTables()}),b.uc(158,"translate"),b.ac(159,"img",69),b.uc(160,"translate"),b.ec(),b.fc(161,"button",70),b.pc("click",function(){return b.Rc(n),b.tc().expandAllTables()}),b.uc(162,"translate"),b.ac(163,"img",71),b.uc(164,"translate"),b.ec(),b.fc(165,"p-accordion",72),b.pc("activeIndexChange",function(e){return b.Rc(n),b.tc().indexes=e}),b.fc(166,"p-accordionTab",73),b.pc("click",function(e){return b.Rc(n),b.tc().toggleRevealServiceHistory(e)}),b.fc(167,"p-header"),b.Zc(168,Ji,3,4,"span",61),b.Zc(169,Gi,3,3,"span",61),b.Zc(170,Yi,3,1,"span",74),b.ec(),b.Zc(171,ia,4,4,"ng-container",75),b.Zc(172,aa,4,3,"ng-template",null,76,b.ad),b.ec(),b.fc(174,"p-accordionTab",73),b.pc("click",function(e){return b.Rc(n),b.tc().toggleRevealActivityMessages(e)}),b.fc(175,"p-header"),b.Zc(176,ca,3,4,"span",61),b.Zc(177,ra,3,3,"span",61),b.Zc(178,oa,3,1,"span",74),b.ec(),b.Zc(179,ua,4,4,"ng-container",75),b.Zc(180,ha,4,3,"ng-template",null,77,b.ad),b.ec(),b.fc(182,"p-accordionTab",73),b.pc("click",function(e){return b.Rc(n),b.tc().toggleRevealControlActions(e)}),b.fc(183,"p-header"),b.Zc(184,fa,3,4,"span",61),b.Zc(185,ga,3,3,"span",61),b.Zc(186,pa,3,1,"span",74),b.ec(),b.Zc(187,ya,4,4,"ng-container",75),b.Zc(188,Ca,4,3,"ng-template",null,78,b.ad),b.ec(),b.fc(190,"p-accordionTab",73),b.pc("click",function(e){return b.Rc(n),b.tc().toggleRevealLoggedFields(e)}),b.fc(191,"p-header"),b.Zc(192,Sa,3,4,"span",61),b.Zc(193,xa,3,3,"span",61),b.Zc(194,Ta,3,1,"span",74),b.ec(),b.Zc(195,Ia,4,4,"ng-container",75),b.Zc(196,Ma,4,3,"ng-template",null,79,b.ad),b.ec(),b.fc(198,"p-accordionTab",73),b.pc("click",function(e){return b.Rc(n),b.tc().toggleRevealServiceErrors(e)}),b.fc(199,"p-header"),b.Zc(200,Oa,3,4,"span",61),b.Zc(201,_a,3,3,"span",61),b.Zc(202,Pa,3,1,"span",74),b.ec(),b.Zc(203,Ea,4,4,"ng-container",75),b.Zc(204,Fa,4,3,"ng-template",null,80,b.ad),b.ec(),b.ec(),b.ec(),b.fc(206,"button",81),b.pc("click",function(){return b.Rc(n),b.tc().display=!0}),b.uc(207,"translate"),b.ac(208,"img",67),b.uc(209,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(210,"p-dialog",82,83),b.pc("visibleChange",function(e){return b.Rc(n),b.tc().displayEditPipeline=e})("onHide",function(){return b.Rc(n),b.tc().cancelPipelineEdit()}),b.fc(212,"p-header"),b.fc(213,"div",84),b.fc(214,"div",85),b.bd(215),b.uc(216,"translate"),b.ec(),b.ec(),b.ec(),b.fc(217,"service-run-input",86,87),b.pc("svcInputLoaded",function(){return b.Rc(n),b.tc().serviceInputLoaded()}),b.ec(),b.fc(219,"p-footer"),b.fc(220,"div",88),b.fc(221,"button",89),b.pc("click",function(){return b.Rc(n),b.tc().cancelPipelineEdit()}),b.uc(222,"translate"),b.uc(223,"translate"),b.bd(224),b.uc(225,"translate"),b.ec(),b.fc(226,"button",90),b.pc("click",function(){return b.Rc(n),b.tc().resubmitService(!0)}),b.uc(227,"translate"),b.uc(228,"translate"),b.bd(229),b.uc(230,"translate"),b.ec(),b.fc(231,"button",91),b.pc("click",function(){return b.Rc(n),b.tc().saveAndClosePipelineEdit()}),b.uc(232,"translate"),b.uc(233,"translate"),b.bd(234),b.uc(235,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.ec()}if(2&e){var i=b.Pc(132),a=b.Pc(173),c=b.Pc(181),r=b.Pc(189),o=b.Pc(197),s=b.Pc(205),l=b.tc();b.Lb(6),b.cd(b.wc(7,138,"monitoring.services.service.name",b.Gc(249,Ba,l.serviceDetails.details.SERVICENAME))),b.Lb(6),b.Bc("alt",b.vc(13,141,"monitoring.services.return.to.list")),b.Lb(3),b.cd(b.vc(16,143,"monitoring.services.return.to.list")),b.Lb(3),b.Bc("pTooltip",b.vc(19,145,"monitoring.services.refresh.service.detail")),b.Mb("aria-label",b.vc(20,147,"monitoring.services.refresh.service.detail")),b.Lb(5),b.Bc("pTooltip",b.vc(25,149,"monitoring.services.service.actions")),b.Mb("aria-label",b.vc(26,151,"monitoring.services.service.actions")),b.Lb(6),b.Mb("aria-label",b.vc(30,153,"monitoring.services.service.edit.pipeline.button")),b.Lb(2),b.dd(" ",b.vc(32,155,"monitoring.services.service.edit.pipeline.button")," "),b.Lb(2),b.Mb("aria-label",b.vc(34,157,"monitoring.services.service.resubmit.button")),b.Lb(2),b.dd(" ",b.vc(36,159,"monitoring.services.service.resubmit.button")," "),b.Lb(12),b.Bc("label",b.vc(48,161,"monitoring.services.service.status")),b.Lb(6),b.Bc("src",l.getStatusImage(),b.Uc),b.Bc("alt",l.getStatusText()),b.Lb(2),b.cd(l.getStatusText()),b.Lb(3),b.cd(b.vc(59,163,"monitoring.services.service.duration")),b.Lb(3),b.cd(b.vc(62,165,l.serviceDetails.details.DURATION)),b.Lb(4),b.Bc("label",b.vc(66,167,"monitoring.services.service.information.section")),b.Lb(6),b.Bc("pTooltip",b.vc(72,169,"monitoring.services.service.name1")),b.Lb(2),b.dd(" ",b.vc(74,171,"monitoring.services.service.name1")," "),b.Lb(2),b.Bc("pTooltip",l.serviceDetails.details.SERVICENAME),b.Lb(1),b.dd(" ",l.serviceDetails.details.SERVICENAME," "),b.Lb(2),b.Bc("pTooltip",b.vc(79,173,"monitoring.services.service.custom.context.id")),b.Lb(2),b.dd(" ",b.vc(81,175,"monitoring.services.service.custom.context.id")," "),b.Lb(2),b.Bc("pTooltip",l.serviceDetails.details.CUSTOMCONTEXTID),b.Lb(1),b.dd(" ",l.serviceDetails.details.CUSTOMCONTEXTID," "),b.Lb(2),b.Bc("pTooltip",b.vc(86,177,"monitoring.services.service.root.context.id")),b.Lb(2),b.dd(" ",b.vc(88,179,"monitoring.services.service.root.context.id")," "),b.Lb(2),b.Bc("pTooltip",l.serviceDetails.details.ROOTCONTEXTID),b.Lb(1),b.dd(" ",l.serviceDetails.details.ROOTCONTEXTID," "),b.Lb(2),b.Bc("pTooltip",b.vc(93,181,"monitoring.services.service.parent.context.id")),b.Lb(2),b.dd(" ",b.vc(95,183,"monitoring.services.service.parent.context.id")," "),b.Lb(2),b.Bc("pTooltip",l.serviceDetails.details.PARENTCONTEXTID),b.Lb(1),b.dd(" ",l.serviceDetails.details.PARENTCONTEXTID," "),b.Lb(2),b.Bc("pTooltip",b.vc(100,185,"monitoring.services.service.context.id")),b.Lb(2),b.dd(" ",b.vc(102,187,"monitoring.services.service.context.id")," "),b.Lb(2),b.Bc("pTooltip",l.serviceDetails.details.CONTEXTID),b.Lb(1),b.dd(" ",l.serviceDetails.details.CONTEXTID," "),b.Lb(2),b.Bc("pTooltip",b.vc(107,189,"monitoring.services.service.server.id")),b.Lb(2),b.dd(" ",b.vc(109,191,"monitoring.services.service.server.id")," "),b.Lb(2),b.Bc("pTooltip",l.serviceDetails.details.SERVERID),b.Lb(1),b.dd(" ",l.serviceDetails.details.SERVERID," "),b.Lb(2),b.Bc("pTooltip",b.vc(114,193,"monitoring.services.service.timestamp")),b.Lb(2),b.dd(" ",b.vc(116,195,"monitoring.services.service.timestamp")," "),b.Lb(2),b.Bc("pTooltip",b.xc(118,197,l.serviceDetails.details.AUDITTIMESTAMP,l.preferencesService,l.dateTimePreferenceService)),b.Lb(2),b.dd(" ",b.xc(120,201,l.serviceDetails.details.AUDITTIMESTAMP,l.preferencesService,l.dateTimePreferenceService)," "),b.Lb(4),b.Bc("label",b.vc(124,205,"monitoring.error.messages")),b.Lb(7),b.Ac("ngIf",l.serviceDetails.details&&l.serviceDetails.details.ERRORMESSAGE)("ngIfElse",i),b.Lb(6),b.Bc("label",b.vc(137,207,"monitoring.services.service.last.updated")),b.Lb(6),b.dd(" ",b.xc(143,209,l.serviceDetails.details.AUDITTIMESTAMP,l.preferencesService,l.dateTimePreferenceService)," "),b.Lb(2),b.Ac("ngIf",l.serviceDetails.details.root&&l.serviceDetails.details.root.CONTEXTID),b.Lb(1),b.Ac("ngIf",l.serviceDetails.details.parent&&l.serviceDetails.details.parent.CONTEXTID),b.Lb(1),b.Ac("ngIf",l.serviceDetails.details.auditparent&&l.serviceDetails.details.auditparent.CONTEXTID),b.Lb(1),b.Ac("ngIf",l.serviceDetails.details.children&&l.serviceDetails.details.children.length>0),b.Lb(3),b.Wc(b.Gc(251,Na,l.advancedPartialScreenWidth)),b.Ac("visible",l.display)("fullScreen",l.isAdvancedFullScreen),b.Lb(1),b.Bc("pTooltip",l.sidebarScreenSize),b.Lb(1),b.Bc("src",l.advancedScreenImage,b.Uc),b.Bc("alt",l.sidebarScreenSize),b.Lb(1),b.Bc("pTooltip",b.vc(154,213,"monitoring.services.hide.details.button")),b.Lb(2),b.Bc("alt",b.vc(156,215,"monitoring.services.hide.details.button")),b.Lb(2),b.Bc("pTooltip",b.vc(158,217,"common.collapse.all")),b.Lb(2),b.Bc("alt",b.vc(160,219,"common.collapse.all")),b.Lb(2),b.Bc("pTooltip",b.vc(162,221,"common.expand.all")),b.Lb(2),b.Bc("alt",b.vc(164,223,"common.expand.all")),b.Lb(2),b.Wc(b.Fc(253,Ha)),b.Ac("activeIndex",l.indexes)("multiple",!0)("expandIcon","dlt-accordion-arrow dlt-icon-chevron-down")("collapseIcon","dlt-accordion-arrow dlt-icon-chevron-up"),b.Lb(2),b.Wc(b.Fc(254,Va)),b.Lb(1),b.Ac("ngIf",l.serviceHistory&&l.serviceHistory.history&&l.serviceHistory.history.length>0),b.Lb(1),b.Ac("ngIf",!l.serviceHistory||!l.serviceHistory.history||l.serviceHistory.history.length<1),b.Lb(1),b.Ac("ngIf",l.revealServiceHistory),b.Lb(1),b.Ac("ngIf",l.serviceHistory&&l.serviceHistory.history&&l.serviceHistory.history.length>0)("ngIfElse",a),b.Lb(4),b.Wc(b.Fc(255,Va)),b.Lb(1),b.Ac("ngIf",l.activityMessages&&l.activityMessages.activityLogs&&l.activityMessages.activityLogs.length>0),b.Lb(1),b.Ac("ngIf",!l.activityMessages||!l.activityMessages.activityLogs||l.activityMessages.activityLogs.length<1),b.Lb(1),b.Ac("ngIf",l.revealActivityMessages),b.Lb(1),b.Ac("ngIf",l.activityMessages&&l.activityMessages.activityLogs&&l.activityMessages.activityLogs.length>0)("ngIfElse",c),b.Lb(4),b.Wc(b.Fc(256,Va)),b.Lb(1),b.Ac("ngIf",l.controlActions&&l.controlActions.actions&&l.controlActions.actions.length>0),b.Lb(1),b.Ac("ngIf",!l.controlActions||!l.controlActions.actions||l.controlActions.actions.length<1),b.Lb(1),b.Ac("ngIf",l.revealControlActions),b.Lb(1),b.Ac("ngIf",l.controlActions&&l.controlActions.actions&&l.controlActions.actions.length>0)("ngIfElse",r),b.Lb(4),b.Wc(b.Fc(257,Va)),b.Lb(1),b.Ac("ngIf",l.loggedFields&&l.loggedFields.customFieldList&&l.loggedFields.customFieldList.length>0),b.Lb(1),b.Ac("ngIf",!l.loggedFields||!l.loggedFields.customFieldList||l.loggedFields.customFieldList.length<1),b.Lb(1),b.Ac("ngIf",l.revealLoggedFields),b.Lb(1),b.Ac("ngIf",l.loggedFields&&l.loggedFields.customFieldList&&l.loggedFields.customFieldList.length>0)("ngIfElse",o),b.Lb(4),b.Wc(b.Fc(258,Va)),b.Lb(1),b.Ac("ngIf",l.serviceErrors&&l.serviceErrors.errors&&l.serviceErrors.errors.length>0),b.Lb(1),b.Ac("ngIf",!l.serviceErrors||!l.serviceErrors.errors||l.serviceErrors.errors.length<1),b.Lb(1),b.Ac("ngIf",l.revealServiceErrors),b.Lb(1),b.Ac("ngIf",l.serviceErrors&&l.serviceErrors.errors&&l.serviceErrors.errors.length>0)("ngIfElse",s),b.Lb(3),b.Bc("pTooltip",b.vc(207,225,"monitoring.services.show.details.button")),b.Lb(2),b.Bc("alt",b.vc(209,227,"monitoring.services.show.details.button")),b.Lb(2),b.Wc(b.Fc(259,Za)),b.Ac("closeOnEscape",!0)("visible",l.displayEditPipeline)("showHeader",!0)("draggable",!0)("resizable",!0)("modal",!0)("contentStyle",b.Fc(260,ja))("focusTrap",!0)("maximizeIcon","dlt-icon-fullscreen")("minimizeIcon","dlt-icon-fullscreen-exit")("closeIcon","dlt-icon-close")("baseZIndex",1)("maximizable",!0)("blockScroll",!0)("closable",!0),b.Lb(5),b.cd(b.vc(216,229,"monitoring.services.service.edit.pipeline.button")),b.Lb(6),b.Bc("value",b.vc(223,233,"common.cancel.button.text")),b.Mb("aria-label",b.vc(222,231,"common.cancel.button.text")),b.Lb(3),b.dd(" ",b.vc(225,235,"common.cancel.button.text")," "),b.Lb(2),b.Bc("value",b.vc(228,239,"monitoring.services.service.resubmit.button")),b.Mb("aria-label",b.vc(227,237,"monitoring.services.service.resubmit.button")),b.Lb(3),b.dd(" ",b.vc(230,241,"monitoring.services.service.resubmit.button")," "),b.Lb(2),b.Bc("value",b.vc(233,245,"common.save.button.text")),b.Mb("aria-label",b.vc(232,243,"common.save.button.text")),b.Lb(3),b.dd(" ",b.vc(235,247,"common.save.button.text")," ")}}var Ua,$a,Qa=(($a=function(){function e(t,i,a,c,r,o,s,l,d,u){var h=this;n(this,e),this.route=t,this.location=i,this.translate=a,this.sharedMessageService=c,this.serviceAPIService=r,this.monitoringLayoutService=o,this.serviceExecutionService=s,this.router=l,this.toastr=d,this.preferencesService=u,this.homeLink="#/integration/dashboard/overview",this.servicesLink="../../monitoring/services",this.isAdvancedFullScreen=!1,this.advancedPartialScreenWidth="50em",this.advancedScreenImage="assets/images/enlarge.png",this.revealServiceHistory=!1,this.revealActivityMessages=!1,this.revealControlActions=!1,this.revealLoggedFields=!1,this.revealServiceErrors=!1,this.svcDetailLink="/monitoring/service/",this.subscriptions=[],this.defaultScrollHeight="200px",this.fullScrollHeight="100vh",this.serviceHistoryScrollHeight=this.defaultScrollHeight,this.activityMessagesScrollHeight=this.defaultScrollHeight,this.controlActionsScrollHeight=this.defaultScrollHeight,this.loggedFieldsScrollHeight=this.defaultScrollHeight,this.serviceErrorsScrollHeight=this.defaultScrollHeight,this.indexes=[],this.displayEditPipeline=!1,this.subscriptions.push(t.params.subscribe(function(e){h.translate.setDefaultLang("en"),h.subscriptions.push(h.sharedMessageService.getMessage().subscribe(function(e){e&&"change-locale"===e.data.action&&h.translate.use(e.data.data.locale)})),h.refreshServiceDetails()}))}return a(e,[{key:"ngOnInit",value:function(){this.showAllText=this.translate.instant("monitoring.services.service.table.show.all"),this.makeComponentsAccessible()}},{key:"makeComponentsAccessible",value:function(){var e=this;setTimeout(function(){var t=document.getElementById("serviceSidebar");y.J.makeSidebarAccessible(t,e.translate.instant("common.close.title"))},500)}},{key:"refreshServiceDetails",value:function(){this.contextId=this.route.snapshot.paramMap.get("id"),this.monitoringLayoutService.changeNavItem(this.router.url),this.getServiceDetails()}},{key:"getServiceDetails",value:function(){var e=this;this.subscriptions.push(this.serviceAPIService.getServiceDetails(this.contextId).subscribe(function(t){e.serviceDetails=t,e.serviceExecutionService.setCurrentServiceInfo(e.serviceDetails.details.SERVICENAME,e.contextId),e.getServiceHistory(),e.getServiceActivityMessages(),e.getControlActions(),e.getLoggedFields(),e.getServiceErrors(),e.sidebarScreenSize=e.translate.instant("monitoring.services.fullscreen.details.button"),e.serviceHistoryScrollHeightTxt=e.activityMessagesScrollHeightTxt=e.controlActionsScrollHeightTxt=e.loggedFieldsScrollHeightTxt=e.serviceErrorsScrollHeightTxt=e.serviceErrorsScrollHeightTxt=e.showAllText}))}},{key:"configTableColumns",value:function(){this.histCols=[{field:"AUDITTIMESTRING",header:this.translate.instant("monitoring.services.service.timestamp.column"),class:"t200px"},{field:"STATUSDECODE",header:this.translate.instant("monitoring.services.service.status.column"),class:"t100pct"}],this.actMsgCols=[{field:"AUDITTIMESTRING",header:this.translate.instant("monitoring.services.service.timestamp.column"),class:"t200px"},{field:"ENTRYTYPE",header:this.translate.instant("monitoring.services.service.entry.type.column"),class:"t33pct"},{field:"BRIEFMESSAGE",header:this.translate.instant("monitoring.services.service.brief.message.column"),class:"t33pct"},{field:"FULLMESSAGE",header:this.translate.instant("monitoring.services.service.full.message.column"),class:"t34pct"}],this.ctlActCols=[{field:"AUDITTIMESTRING",header:this.translate.instant("monitoring.services.service.timestamp.column"),class:"t200px"},{field:"ACTIONDECODE",header:this.translate.instant("monitoring.services.service.action.column"),class:"t33pct"},{field:"USERNAME",header:this.translate.instant("monitoring.services.service.user.column"),class:"t33pct"},{field:"SERVERID",header:this.translate.instant("monitoring.services.service.server.id.column"),class:"t34pct"}],this.logFldCols=[{field:"FIELDNAME",header:this.translate.instant("monitoring.services.service.timestamp.column"),class:"t200px"},{field:"FIELDNAME",header:this.translate.instant("monitoring.services.service.input.output.column"),class:"t200px"},{field:"FIELDNAME",header:this.translate.instant("monitoring.services.service.field.name.column"),class:"t50pct"},{field:"DISPVALUE",header:this.translate.instant("monitoring.services.service.field.value.column"),class:"t50pct"}],this.svcErrCols=[{field:"AUDITTIMESTRING",header:this.translate.instant("monitoring.services.service.timestamp.column"),class:"t200px"},{field:"ERRORMESSAGE",header:this.translate.instant("monitoring.services.service.error.message.column"),class:"t100pct"}]}},{key:"getServiceHistory",value:function(){var e=this;this.subscriptions.push(this.serviceAPIService.getServiceHistory(this.contextId).subscribe(function(t){e.serviceHistory=t}))}},{key:"getServiceActivityMessages",value:function(){var e=this;this.subscriptions.push(this.serviceAPIService.getServiceActivityMessages(this.contextId).subscribe(function(t){e.activityMessages=t}))}},{key:"getControlActions",value:function(){var e=this;this.subscriptions.push(this.serviceAPIService.getControlActions(this.contextId).subscribe(function(t){e.controlActions=t}))}},{key:"getLoggedFields",value:function(){var e=this;this.subscriptions.push(this.serviceAPIService.getLoggedFields(this.contextId).subscribe(function(t){e.loggedFields=t}))}},{key:"getServiceErrors",value:function(){var e=this;this.subscriptions.push(this.serviceAPIService.getServiceErrors(this.contextId).subscribe(function(t){e.serviceErrors=t})),this.configTableColumns()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"getStatusImage",value:function(){switch(this.serviceDetails.details.STATUS){case 1:return"assets/images/monitoring/started.svg";case 2:return"assets/images/monitoring/completed.svg";case 4:return"assets/images/monitoring/failed.svg";default:return"assets/images/monitoring/resubmitted.svg"}}},{key:"getStatusText",value:function(){switch(this.serviceDetails.details.STATUS){case 1:return this.translate.instant("monitoring.status.started");case 2:return this.translate.instant("monitoring.status.completed");case 4:return this.translate.instant("monitoring.status.failed");default:return this.translate.instant("monitoring.status.resubmitted")}}},{key:"getLastUpdatedText",value:function(){return null!=this.serviceDetails.details.AUDITTIMESTAMP?new Date(this.serviceDetails.details.AUDITTIMESTAMP).toLocaleString():""}},{key:"getRootServiceLink",value:function(){return this.svcDetailLink+this.serviceDetails.details.root.CONTEXTID}},{key:"getParentServiceLink",value:function(){return this.svcDetailLink+this.serviceDetails.details.parent.CONTEXTID}},{key:"getLastAuditedParentServiceLink",value:function(){return this.svcDetailLink+this.serviceDetails.details.auditparent.CONTEXTID}},{key:"getChildServiceLink",value:function(e){return this.svcDetailLink+this.serviceDetails.details.children[e].CONTEXTID}},{key:"toggleAdvancedFullScreen",value:function(){this.isAdvancedFullScreen=!this.isAdvancedFullScreen,this.isAdvancedFullScreen?(this.advancedPartialScreenWidth="",this.advancedScreenImage="assets/images/shrink.png",this.sidebarScreenSize=this.translate.instant("monitoring.services.partialscreen.details.button")):(this.advancedPartialScreenWidth="50em",this.advancedScreenImage="assets/images/enlarge.png",this.sidebarScreenSize=this.translate.instant("monitoring.services.fullscreen.details.button"))}},{key:"toggleRevealServiceHistory",value:function(e){if(e&&e.target&&e.target.parentNode&&e.target.parentNode.id&&e.target.parentNode.id.startsWith("p-accordiontab-"))if("true"===e.target.parentNode.ariaExpanded)this.revealServiceHistory=!0,this.indexes.includes(0)||this.indexes.push(0);else{this.revealServiceHistory=!1;var t=this.indexes.indexOf(0,0);t>-1&&this.indexes.splice(t,1)}}},{key:"toggleRevealActivityMessages",value:function(e){e&&e.target&&e.target.parentNode&&e.target.parentNode.id&&e.target.parentNode.id.startsWith("p-accordiontab-")&&(this.revealActivityMessages=!this.revealActivityMessages)}},{key:"toggleRevealControlActions",value:function(e){e&&e.target&&e.target.parentNode&&e.target.parentNode.id&&e.target.parentNode.id.startsWith("p-accordiontab-")&&(this.revealControlActions=!this.revealControlActions)}},{key:"toggleRevealLoggedFields",value:function(e){e&&e.target&&e.target.parentNode&&e.target.parentNode.id&&e.target.parentNode.id.startsWith("p-accordiontab-")&&(this.revealLoggedFields=!this.revealLoggedFields)}},{key:"toggleRevealServiceErrors",value:function(e){e&&e.target&&e.target.parentNode&&e.target.parentNode.id&&e.target.parentNode.id.startsWith("p-accordiontab-")&&(this.revealServiceErrors=!this.revealServiceErrors)}},{key:"toggleServiceHistoryHeight",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.serviceHistoryScrollHeight===this.defaultScrollHeight?(this.serviceHistoryScrollHeight=this.fullScrollHeight,this.serviceHistoryScrollHeightTxt=this.translate.instant("monitoring.services.service.table.restore"),this.indexes=[0],this.revealServiceHistory=!0,this.revealActivityMessages=!1,this.revealControlActions=!1,this.revealLoggedFields=!1,this.revealServiceErrors=!1):(this.serviceHistoryScrollHeight=this.defaultScrollHeight,this.serviceHistoryScrollHeightTxt=this.showAllText)}},{key:"toggleActivityMessagesHeight",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.activityMessagesScrollHeight===this.defaultScrollHeight?(this.activityMessagesScrollHeight=this.fullScrollHeight,this.activityMessagesScrollHeightTxt=this.translate.instant("monitoring.services.service.table.restore"),this.indexes=[1],this.revealServiceHistory=!1,this.revealActivityMessages=!0,this.revealControlActions=!1,this.revealLoggedFields=!1,this.revealServiceErrors=!1):(this.activityMessagesScrollHeight=this.defaultScrollHeight,this.activityMessagesScrollHeightTxt=this.showAllText)}},{key:"toggleControlActionsHeight",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.controlActionsScrollHeight===this.defaultScrollHeight?(this.controlActionsScrollHeight=this.fullScrollHeight,this.controlActionsScrollHeightTxt=this.translate.instant("monitoring.services.service.table.restore"),this.indexes=[2],this.revealServiceHistory=!1,this.revealActivityMessages=!1,this.revealControlActions=!0,this.revealLoggedFields=!1,this.revealServiceErrors=!1):(this.controlActionsScrollHeight=this.defaultScrollHeight,this.controlActionsScrollHeightTxt=this.showAllText)}},{key:"toggleLoggedFieldsHeight",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.loggedFieldsScrollHeight===this.defaultScrollHeight?(this.loggedFieldsScrollHeight=this.fullScrollHeight,this.loggedFieldsScrollHeightTxt=this.translate.instant("monitoring.services.service.table.restore"),this.indexes=[3],this.revealServiceHistory=!1,this.revealActivityMessages=!1,this.revealControlActions=!1,this.revealLoggedFields=!0,this.revealServiceErrors=!1):(this.loggedFieldsScrollHeight=this.defaultScrollHeight,this.loggedFieldsScrollHeightTxt=this.showAllText)}},{key:"toggleServiceErrorsHeight",value:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.serviceErrorsScrollHeight===this.defaultScrollHeight?(this.serviceErrorsScrollHeight=this.fullScrollHeight,this.serviceErrorsScrollHeightTxt=this.translate.instant("monitoring.services.service.table.restore"),this.indexes=[4],this.revealServiceHistory=!1,this.revealActivityMessages=!1,this.revealControlActions=!1,this.revealLoggedFields=!1,this.revealServiceErrors=!0):(this.serviceErrorsScrollHeight=this.defaultScrollHeight,this.serviceErrorsScrollHeightTxt=this.showAllText)}},{key:"expandAllTables",value:function(){this.revealServiceHistory=!0,this.revealActivityMessages=!0,this.revealControlActions=!0,this.revealLoggedFields=!0,this.revealServiceErrors=!0,this.indexes=[0,1,2,3,4]}},{key:"collapseAllTables",value:function(){this.indexes=[],this.revealServiceHistory=!1,this.revealActivityMessages=!1,this.revealControlActions=!1,this.revealLoggedFields=!1,this.revealServiceErrors=!1}},{key:"editPipeline",value:function(){this.op&&this.op.nativeElement.click(),this.serviceTreeAndDataLoaded?(this.runTreeRef.reopen(),this.makePipelineDialogAccessible()):this.runTreeRef.populateServiceTreeAndData(),this.displayEditPipeline=!0,this.serviceTreeAndDataLoaded=!0}},{key:"serviceInputLoaded",value:function(){this.makePipelineDialogAccessible()}},{key:"makePipelineDialogAccessible",value:function(){var e=this;setTimeout(function(){var t=document.getElementById("servicePipelineInput");y.J.makeDialogAccessible(t,e.translate.instant("common.restore.title"),e.translate.instant("common.maximize.title"),e.translate.instant("common.close.title"));var n=document.getElementById("minimizeMaximize");n&&(n.focus(),e.minMaxEvt&&n.removeEventListener("click",e.minMaxEvt),e.minMaxEvt=e.makePipelineDialogAccessible.bind(e),n.addEventListener("click",e.minMaxEvt))},200)}},{key:"cancelPipelineEdit",value:function(){this.runTreeRef.setCanceled(),this.displayEditPipeline=!1}},{key:"saveAndClosePipelineEdit",value:function(){this.runTreeRef.savePipeline()&&(this.displayEditPipeline=!1,this.toastr.success(this.translate.instant("monitoring.services.pipeline.save.success.msg"),this.translate.instant("monitoring.services.pipeline.save.success.title")))}},{key:"resubmitService",value:function(e){var t=this;this.op&&!e&&this.op.nativeElement.click(),this.runTreeRef.savePipeline()&&setTimeout(function(){var e=t.runTreeRef.getPipelineForResubmit();t.subscriptions.push(t.serviceAPIService.resubmitService(t.contextId,t.serviceDetails.details.SERVICENAME,e).subscribe(function(e){e&&e.length>0?t.toastr.error(t.translate.instant("monitoring.services.service.resubmit.failure.msg",{errMsg:e}),t.translate.instant("monitoring.services.service.resubmit.failure.title")):(t.runTreeRef.savePipeline(),t.displayEditPipeline=!1,t.toastr.success(t.translate.instant("monitoring.services.service.resubmit.success.msg"),t.translate.instant("monitoring.services.service.resubmit.success.title")))}))},500)}},{key:"returnToList",value:function(){this.location.back()}},{key:"onShowOverlayPanel",value:function(){setTimeout(function(){var e=document.getElementById("editServicePipeline");e&&e.focus()},100)}},{key:"opFocusLost",value:function(e){if(e&&e.target&&"resubmitService"===e.target.id){if(e.relatedTarget&&"editServicePipeline"===e.relatedTarget.id)return}else if(e&&e.target&&"editServicePipeline"===e.target.id&&e.relatedTarget&&"resubmitService"===e.relatedTarget.id)return;this.op.nativeElement.click()}},{key:"goToHomePage",value:function(){this.router.navigateByUrl(this.homeLink)}},{key:"goToServiceListPage",value:function(){this.router.navigateByUrl(this.servicesLink)}}]),e}()).\u0275fac=function(e){return new(e||$a)(b.Zb(m.a),b.Zb(g.j),b.Zb(d.d),b.Zb(y.A),b.Zb(Ni),b.Zb(M),b.Zb(I),b.Zb(m.e),b.Zb(O.b),b.Zb(f.PreferencesService))},$a.\u0275cmp=b.Tb({type:$a,selectors:[["app-service-details"]],viewQuery:function(e,t){var n;1&e&&(b.hd(Zi,1),b.hd(ji,1),b.hd(zi,1)),2&e&&(b.Oc(n=b.qc())&&(t.runTreeRef=n.first),b.Oc(n=b.qc())&&(t.op=n.first),b.Oc(n=b.qc())&&(t.pipelineInput=n.first))},inputs:{serviceDetails:"serviceDetails"},decls:15,vars:10,consts:[[1,"breadcrumbs-container"],["aria-label","breadcrumb",1,"dlt-breadcrumbs"],["routerLink","/integration/dashboard/overview","tabindex","0",1,"dlt-links"],["routerLink","/monitoring/services","tabindex","0",1,"dlt-links"],["aria-current","page",1,"dlt-links"],["class","detailcontainer",4,"ngIf"],[1,"detailcontainer"],[1,"row"],[1,"col-md-6"],[1,"dlg-title-wrapper"],[1,"page-title"],[1,"col-md-6","text-right"],[1,"btn-container"],["id","returnToServicesList",1,"iconButton1",3,"click"],["src","assets/images/return-to-previous-arrow-icon24.svg",3,"alt"],[1,"lbl-return"],[1,"dlt-dropdown"],["showDelay","250",1,"dlt-button","dlt-button-icon","iconButton2",3,"pTooltip","click"],[1,"dlt-icon-refresh","dlg-icon-btn"],["ngbDropdown","","placement","bottom-right",1,"dlt-dropdown","ngbDropdown"],["ngbDropdownToggle","","id","serviceActionsDropDown","showDelay","250","tabindex","0",1,"dlt-button","dlt-button-icon","hide-caret","iconButton2",3,"pTooltip","click"],["op",""],[1,"dlt-icon-more-menu","actions-menu","dlg-icon-btn"],["ngbDropdownMenu","",1,"isac-overflow-menu"],["ngbDropdownItem","","id","editServicePipeline","tabindex","0",3,"click","focusout","keydown.enter"],["ngbDropdownItem","","id","resubmitService","tabindex","0",3,"click","focusout","keydown.enter"],["id","mainTable",1,"main"],["width","100%"],["height","100%"],["valign","top","height","100%"],[1,"row","rowone"],[1,"colone"],[1,"svc-card1"],[3,"label"],[1,"hr1"],[1,"status"],[1,"status-col1"],[2,"width","36px","height","36px",3,"src","alt"],[1,"svc-data1"],["align","center"],[1,"card3a"],["id","serviceDuration",1,"svc-data2b"],[1,"row","row-narrow"],[1,"svc-card2"],["showExpandCollapse","true",3,"label"],[1,"svc-info"],[2,"min-width","30%"],[2,"width","70%"],["showDelay","250","tooltipPosition","top",1,"svc-data3","svc-info",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"svc-data4","svc-info",3,"pTooltip"],[1,"svc-card"],[1,"col-1"],[1,"card2"],[1,"col"],["showDelay","250","tooltipPosition","top","class","svc-data5",3,"pTooltip",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"col","float-left","d-flex","align-items-stretch","coltwo"],[2,"width","100%"],[1,"svc-card3"],[1,"card2a"],["id","lastUpdated",1,"svc-data1a"],[4,"ngIf"],[1,"sidebar"],["id","serviceSidebar","position","right",3,"visible","fullScreen","visibleChange"],["tabindex","0","showDelay","250","tooltipPosition","top",1,"sidebar",3,"pTooltip","click"],["width","22","height","20",3,"src","alt"],["showDelay","250","tooltipPosition","top",1,"sidebar1",3,"pTooltip","click"],["src","assets/images/SvcDoc-details-vec-18.svg","width","22","height","20",3,"alt"],["showDelay","250",1,"sidebar2",3,"pTooltip","click"],["src","assets/isac-assets/images/svgs/Collapse-All-vec17.svg","width","18","height","18",3,"alt"],["showDelay","250","tooltipPosition","top",1,"sidebar3",3,"pTooltip","click"],["src","assets/isac-assets/images/svgs/Expand-All-vec17.svg","width","18","height","18",3,"alt"],[3,"activeIndex","multiple","expandIcon","collapseIcon","activeIndexChange"],[3,"click"],["class","sidebarhdr",4,"ngIf"],[4,"ngIf","ngIfElse"],["noHistoryItemsTemplate",""],["noActivityMsgItemsTemplate",""],["noControlActionItemsTemplate",""],["noLoggedFieldItemsTemplate",""],["noServiceErrorItemsTemplate",""],["showDelay","250","tooltipPosition","top",1,"sidebar",3,"pTooltip","click"],["id","servicePipelineInput","position","center",3,"closeOnEscape","visible","showHeader","draggable","resizable","modal","contentStyle","focusTrap","maximizeIcon","minimizeIcon","closeIcon","baseZIndex","maximizable","blockScroll","closable","visibleChange","onHide"],["pipelineServiceInput",""],[1,"dlg-title-wrapper","svc-title-wrapper"],[1,"dlg-title-row"],[3,"svcInputLoaded"],["runTreeRef",""],[1,"dlg-footer-buttons-wrapper","svc-footer-wrapper"],["id","service_pipeline_cancel",1,"dlt-button","dlt-button-secondary","cancel-modal",3,"value","click"],["id","service_pipeline_resubmit",1,"dlt-button","dlt-button-secondary",3,"value","click"],["id","service_pipeline_save",1,"dlt-button","dlt-button-primary","save-modal","dlg-rt-btn",3,"value","click"],["showDelay","250","tooltipPosition","top",1,"svc-data5",3,"pTooltip"],[1,"card3"],[1,"hr2"],[1,"card4"],[1,"svc-data2a"],["showDelay","250","tooltipPosition","top",1,"dlt-links",3,"pTooltip","routerLink"],[1,"card5"],["class","svc-data2a",4,"ngFor","ngForOf"],[1,"sidebarhdr"],["role","button","href","javascript:void(0);",1,"dlt-links","sidebarhdr",3,"click"],[3,"columns","value","scrollable","scrollHeight"],["pTemplate","header"],["pTemplate","body"],["class","timestamp",4,"ngFor","ngForOf"],[1,"timestamp"],["tooltipPosition","top",3,"pSortableColumn","pTooltip"],["ariaLabel","'common.table.column.sort'|translate","ariaLabelDesc","'common.table.column.sort.descending'|translate","ariaLabelAsc","'common.table.column.sort.ascending'|translate",3,"field"],["showDelay","250","tooltipPosition","top",1,"t200px",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"t100pct",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"t33pct",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"t34pct",3,"pTooltip"],["showDelay","250","tooltipPosition","top",1,"t50pct",3,"pTooltip"]],template:function(e,t){1&e&&(b.fc(0,"div",0),b.fc(1,"ol",1),b.fc(2,"li"),b.fc(3,"a",2),b.bd(4),b.uc(5,"translate"),b.ec(),b.ec(),b.fc(6,"li"),b.fc(7,"a",3),b.bd(8),b.uc(9,"translate"),b.ec(),b.ec(),b.fc(10,"li"),b.fc(11,"a",4),b.bd(12),b.uc(13,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.Zc(14,za,236,261,"div",5)),2&e&&(b.Lb(4),b.cd(b.vc(5,4,"masthead.administration")),b.Lb(4),b.cd(b.vc(9,6,"monitoring.services.tab")),b.Lb(4),b.cd(b.vc(13,8,"monitoring.services.service.detail.pagetitle")),b.Lb(2),b.Ac("ngIf",t.serviceDetails))},directives:[m.h,g.n,_.a,u.b,u.f,u.e,u.d,f.SimpleCardComponent,Hi.a,Vi.a,Vi.c,D.g,P.a,Bt,D.f,g.m,fn.h,D.j,fn.g,fn.f],pipes:[d.c,y.h,y.t,y.x],styles:['.breadcrumbs-container[_ngcontent-%COMP%]{padding-top:.7rem}.rightSideFixedcontainer[_ngcontent-%COMP%]{padding-top:.7rem;margin-right:25px}.detailcontainer[_ngcontent-%COMP%]{width:100%;height:100%;padding:1rem;overflow:auto}.page-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;padding-left:.25rem;font-family:Roboto,Helvetica,Arial,sans-serif}.btn-grp[_ngcontent-%COMP%], .page-title[_ngcontent-%COMP%]{line-height:1.5rem;width:100%}.btn-grp[_ngcontent-%COMP%]{padding-right:1.05rem;padding-top:1rem;display:inline;text-align:right}.svc-data1[_ngcontent-%COMP%]{margin-left:1rem;white-space:nowrap}.svc-data1[_ngcontent-%COMP%], .svc-data1a[_ngcontent-%COMP%]{margin-top:.22rem;font-size:1.25rem;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-data1a[_ngcontent-%COMP%]{margin-left:0;min-width:280px}.svc-data2[_ngcontent-%COMP%], .svc-data2a[_ngcontent-%COMP%]{margin-top:.22rem;margin-left:1rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-data2a[_ngcontent-%COMP%]{word-wrap:break-word;width:100%}.svc-data2b[_ngcontent-%COMP%]{margin-top:.22rem;margin-left:.4rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-data3[_ngcontent-%COMP%]{margin-left:2rem;font-weight:500;white-space:nowrap}.svc-data3[_ngcontent-%COMP%], .svc-data4[_ngcontent-%COMP%]{margin-top:-.6rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-data4[_ngcontent-%COMP%]{margin-left:0;word-wrap:break-word}.svc-data5[_ngcontent-%COMP%]{margin-top:-.6rem;margin-left:-3rem;font-size:.6 0;font-family:Roboto,Helvetica,Arial,sans-serif;white-space:normal;word-wrap:break-word;text-align:left}.svc-card[_ngcontent-%COMP%]{margin-top:1.2rem;padding-bottom:.9rem}.svc-card[_ngcontent-%COMP%], .svc-card1[_ngcontent-%COMP%]{padding-left:1.05rem;padding-right:1.05rem;min-width:500px;width:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-card1[_ngcontent-%COMP%]{padding-bottom:2.12rem}.svc-card2[_ngcontent-%COMP%]{padding-left:1.05rem;padding-right:1.05rem;min-width:500px}.svc-card2[_ngcontent-%COMP%], .svc-card3[_ngcontent-%COMP%]{padding-bottom:.9rem;width:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.svc-card3[_ngcontent-%COMP%]{margin-left:0;padding-left:2px;padding-right:1px;height:100%}.hr1[_ngcontent-%COMP%]{width:100%;margin-left:1.65rem;margin-right:1.65rem;margin-top:.4rem}.hr1a[_ngcontent-%COMP%]{margin-top:.4rem}.hr1a[_ngcontent-%COMP%], .hr1b[_ngcontent-%COMP%]{width:100%;margin-left:1rem;margin-right:1rem}.hr1b[_ngcontent-%COMP%]{margin-top:-1.6rem}.vr1[_ngcontent-%COMP%]{width:10px;size:500;position:absolute;top:0;bottom:0;left:150px}.hr2[_ngcontent-%COMP%]{width:100%;margin-left:1.65rem;margin-right:1.65rem;margin-top:.4rem;border-top:0}.card2[_ngcontent-%COMP%]{margin-bottom:.4rem}.card2[_ngcontent-%COMP%], .card2a[_ngcontent-%COMP%]{border:0 solid;margin-left:.65rem;margin-top:0;font-family:Roboto,Helvetica,Arial,sans-serif}.card2a[_ngcontent-%COMP%]{margin-bottom:.55rem}.card3[_ngcontent-%COMP%]{margin:-.4rem .65rem .4rem}.card3[_ngcontent-%COMP%], .card3a[_ngcontent-%COMP%]{font-size:16px;font-weight:700;border:0 solid}.card3a[_ngcontent-%COMP%]{margin-top:-.4rem;margin-bottom:.4rem}.card4[_ngcontent-%COMP%]{margin-right:2rem}.card4[_ngcontent-%COMP%], .card5[_ngcontent-%COMP%]{border:0 solid;margin-left:.65rem;margin-top:-2rem;font-family:Roboto,Helvetica,Arial,sans-serif}.card5[_ngcontent-%COMP%]{margin-bottom:1rem}table.status[_ngcontent-%COMP%]{table-layout:auto;width:100%;margin:0 1rem 1rem 2rem;border:0;border-collapse:collapse}td.status-col1[_ngcontent-%COMP%]{width:1px;white-space:nowrap}table.svc-info[_ngcontent-%COMP%]{width:100%;margin:.4rem 1.65rem 1.5rem;border:none;border-collapse:collapse}table.svc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px;border:1px solid #e5e5e5;word-wrap:break-word}table.svc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{border-left:none}table.svc-info[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{border-right:none}table.svc-details[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:0 8px}button.sidebar[_ngcontent-%COMP%], button.sidebar1[_ngcontent-%COMP%]{margin-top:.4rem;margin-bottom:1rem;border:none;background:none;width:22px;height:20px}button.sidebar1[_ngcontent-%COMP%]{margin-left:.7rem}button.sidebar2[_ngcontent-%COMP%]{margin-right:2rem}button.sidebar2[_ngcontent-%COMP%], button.sidebar3[_ngcontent-%COMP%]{margin-top:.4rem;margin-bottom:1rem;border:none;background:none;width:22px;height:20px;float:right}button.sidebar1[_ngcontent-%COMP%]:focus, button.sidebar2[_ngcontent-%COMP%]:focus, button.sidebar3[_ngcontent-%COMP%]:focus, button.sidebar[_ngcontent-%COMP%]:focus{outline:0}div.sidebar[_ngcontent-%COMP%]{width:28px;margin-left:-.4rem}div.sidebar[_ngcontent-%COMP%], td.sidebar[_ngcontent-%COMP%]{background-color:#f2f2f2}td.sidebar[_ngcontent-%COMP%]{vertical-align:top;overflow:hidden;height:100%}table.main[_ngcontent-%COMP%]{width:"100%";height:"100%";margin-left:.46rem}.iconButton[_ngcontent-%COMP%]{font-size:1.25rem}.iconButton[_ngcontent-%COMP%], .iconButton1[_ngcontent-%COMP%]{font-weight:400;vertical-align:middle;margin-right:5px}.iconButton1[_ngcontent-%COMP%]{font-size:1.46rem;margin-top:0;margin-bottom:0;padding-right:-15px;background:none;padding-top:0;padding-bottom:2px;border:2px solid transparent;outline:none}.iconButton1[_ngcontent-%COMP%]:hover{border:2px solid #1776bf}.iconButton1[_ngcontent-%COMP%]:focus{border-color:#1776bf}.iconButton2[_ngcontent-%COMP%]{font-size:1.46rem;font-weight:400;vertical-align:middle;margin-right:7px;border:2px solid transparent;background:none;outline:none;color:#000}.iconButton2[_ngcontent-%COMP%]:hover{border:2px solid #1776bf}.lbl-return[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-size:1.02rem;vertical-align:middle;padding-top:0;color:#1776bf;margin:0 10px 2px 5px;cursor:pointer}.btn-container[_ngcontent-%COMP%]{width:100%;padding:0}span.sidebarhdr[_ngcontent-%COMP%]{float:right;margin-top:.1rem;font-weight:700;color:#4591ca}a.sidebarhdr[_ngcontent-%COMP%]{color:#4591ca!important;float:right}  .p-sidebar-active{top:233px!important;height:calc(100vh - 237px)!important}td.t33pct[_ngcontent-%COMP%]{width:33%}td.t34pct[_ngcontent-%COMP%]{width:34%}td.t50pct[_ngcontent-%COMP%]{width:50%}td.t100pct[_ngcontent-%COMP%]{width:100%}td.t200px[_ngcontent-%COMP%]{width:200px;white-space:nowrap}th.t33pct[_ngcontent-%COMP%]{width:33%}th.t34pct[_ngcontent-%COMP%]{width:34%}th.t50pct[_ngcontent-%COMP%]{width:50%}th.t100pct[_ngcontent-%COMP%]{width:100%}th.t200px[_ngcontent-%COMP%]{width:200px;white-space:nowrap}.buttons-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:8px}.row-narrow[_ngcontent-%COMP%]{margin-top:-20px}.refresh[_ngcontent-%COMP%]{width:24px;height:24px}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.actions-menu[_ngcontent-%COMP%]:before{font-size:1.31rem!important;font-weight:800!important;line-height:16px;width:18px;height:18px;margin-top:4px;padding-left:2px}.rowone[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;margin-left:0}.colone[_ngcontent-%COMP%]{padding-right:10px}.colone[_ngcontent-%COMP%], .coltwo[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:1;overflow:hidden;margin-right:.6rem}.coltwo[_ngcontent-%COMP%]{padding-right:11px;padding-left:0!important;min-width:500px}.svc-title-wrapper[_ngcontent-%COMP%]{margin-top:4px}.svc-footer-wrapper[_ngcontent-%COMP%]{margin-right:.1rem;margin-top:1rem}  .dlt-icon-fullscreen:before{content:url(Expand-dialog-vec18.4ec93a215fa9f4638f8b.svg)}  .dlt-icon-fullscreen-exit:before{content:url(Collapse-dialog-vec18.c764bb320fbb6335e037.svg)}']}),$a),Ka=((Ua=function(){function e(){n(this,e),this.fullScreenTable=!1,this._serviceSearchQuery=null}return a(e,[{key:"timeRange",get:function(){return this._timeRange},set:function(e){this._timeRange=e}},{key:"basicSearchFilters",get:function(){return this._basicSearchFilters},set:function(e){this._basicSearchFilters=e}},{key:"tableFilters",get:function(){return this._tableFilters},set:function(e){this._tableFilters=e}},{key:"serviceSearchQuery",get:function(){return this._serviceSearchQuery},set:function(e){this._serviceSearchQuery=e}},{key:"refreshInterval",get:function(){return this._refreshInterval},set:function(e){this._refreshInterval=e}}]),e}()).\u0275fac=function(e){return new(e||Ua)},Ua.\u0275prov=b.Vb({token:Ua,factory:Ua.\u0275fac,providedIn:"root"}),Ua),Wa=function(){function e(){n(this,e)}return a(e,null,[{key:"getAdvancedSearchBuilderConfig",value:function(){return{searchFields:{serviceName:{name:"serviceName",label:"monitoring.services.service.name1",type:"text",nullable:!0,isISService:!0},serverID:{name:"serverID",label:"monitoring.services.service.server.id",type:"text",nullable:!0},contextID:{name:"contextID",label:"monitoring.services.service.context.id",type:"text",nullable:!0},rootContextID:{name:"rootContextID",label:"monitoring.services.service.root.context.id",type:"text",nullable:!0},parentContextID:{name:"parentContextID",label:"monitoring.services.service.parent.context.id",type:"text",nullable:!0},username:{name:"username",label:"monitoring.services.service.user.id",type:"text",nullable:!0}}}}},{key:"getAllSearchFields",value:function(){return{serviceName:{name:"serviceName",label:"monitoring.services.service.name1",type:"text",nullable:!0,isISService:!0},serverID:{name:"serverID",label:"monitoring.services.service.server.id",type:"text",nullable:!0},contextID:{name:"contextID",label:"monitoring.services.service.context.id",type:"text",nullable:!0},rootContextID:{name:"rootContextID",label:"monitoring.services.service.root.context.id",type:"text",nullable:!0},parentContextID:{name:"parentContextID",label:"monitoring.services.service.parent.context.id",type:"text",nullable:!0},username:{name:"username",label:"monitoring.services.service.user.id",type:"text",nullable:!0},statusSet:{name:"statusSet",label:"monitoring.services.service.status",type:"multiSelect",options:null,value:null,nullable:!0}}}},{key:"getSearchField",value:function(t){return e.getAllSearchFields()[t]}}]),e}();function qa(e,t){if(1&e&&(b.dc(0),b.fc(1,"td",5),b.bd(2),b.ec(),b.cc()),2&e){var n=t.$implicit;b.Lb(2),b.dd(" ",n," ")}}function Xa(e,t){if(1&e&&(b.dc(0),b.fc(1,"tr"),b.Zc(2,qa,3,1,"ng-container",4),b.ac(3,"td"),b.ac(4,"td"),b.ec(),b.cc()),2&e){var n=b.tc(2);b.Lb(2),b.Ac("ngForOf",n.columnHeaders)}}function Ja(e,t){if(1&e&&(b.fc(0,"option",14),b.bd(1),b.uc(2,"translate"),b.ec()),2&e){var n=t.$implicit;b.Ac("ngValue",n),b.Lb(1),b.dd(" ",b.vc(2,2,n.name)," ")}}function Ga(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"tr"),b.fc(2,"td",6),b.fc(3,"div"),b.fc(4,"input",7),b.pc("ngModelChange",function(e){return t.$implicit.field=e})("ngModelChange",function(e){b.Rc(n);var i=t.$implicit;return b.tc(2).changeField(e,i)}),b.uc(5,"translate"),b.ec(),b.ec(),b.ec(),b.fc(6,"td",6),b.fc(7,"div",8),b.fc(8,"select",9),b.pc("ngModelChange",function(e){return t.$implicit.operator=e})("ngModelChange",function(e){b.Rc(n);var i=t.$implicit;return b.tc(2).changeOperator(i,e)}),b.Zc(9,Ja,3,4,"option",10),b.ec(),b.ec(),b.ec(),b.fc(10,"td",6),b.fc(11,"div"),b.fc(12,"input",7),b.pc("ngModelChange",function(e){return t.$implicit.value=e})("ngModelChange",function(){return b.Rc(n),b.tc(2).changeInput()}),b.ec(),b.ec(),b.ec(),b.fc(13,"td"),b.fc(14,"button",11),b.pc("click",function(){b.Rc(n);var e=t.$implicit;return b.tc(2).addCondition(e)}),b.uc(15,"translate"),b.uc(16,"translate"),b.ac(17,"i",12),b.ec(),b.ec(),b.fc(18,"td"),b.fc(19,"button",11),b.pc("click",function(){b.Rc(n);var e=t.$implicit;return b.tc(2).removeCondition(e)}),b.uc(20,"translate"),b.uc(21,"translate"),b.ac(22,"i",13),b.ec(),b.ec(),b.ec(),b.cc()}if(2&e){var i=t.$implicit,a=b.tc(2);b.Lb(4),b.Ac("ngModel",i.field)("disabled",a.disabled),b.Mb("aria-label",b.vc(5,17,"common.filters.add.condition"))("aria-label",a.columnHeaders[0]),b.Lb(4),b.Ac("ngModel",i.operator)("disabled",a.disabled),b.Mb("aria-label",a.columnHeaders[1]),b.Lb(1),b.Ac("ngForOf",a.getOperators()),b.Lb(3),b.Ac("ngModel",i.value)("disabled",a.disabled),b.Mb("aria-label",a.columnHeaders[2]),b.Lb(2),b.Bc("pTooltip",b.vc(15,19,"common.filters.add.condition")),b.Ac("disabled",a.disabled),b.Mb("aria-label",b.vc(16,21,"common.filters.add.condition")),b.Lb(5),b.Bc("pTooltip",b.vc(20,23,"common.filters.remove.condition")),b.Ac("disabled",a.data.conditions.length<=1),b.Mb("aria-label",b.vc(21,25,"common.filters.remove.condition"))}}function Ya(e,t){if(1&e&&(b.fc(0,"ul",1),b.fc(1,"table",2),b.Zc(2,Xa,5,1,"ng-container",3),b.Zc(3,Ga,23,27,"ng-container",4),b.ec(),b.ec()),2&e){var n=b.tc();b.Lb(2),b.Ac("ngIf",n.columnHeaders),b.Lb(1),b.Ac("ngForOf",n.data.conditions)}}var ec,tc,nc=((ec=function(){function e(t){n(this,e),this.changeDetectorRef=t,this.data={conditions:[]},this.config={fields:{}},this.markDirty=new b.p,this.defaultEmptyList=[]}return a(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){var t=this.config,n=typeof t;if("object"!==n)throw new Error("Expected 'config' must be a valid object, got ".concat(n," instead."));t.fields&&(this.fields=Object.keys(t.fields).map(function(e){var n=t.fields[e];return n.value=n.value||e,n}))}},{key:"addCondition",value:function(){if(!this.disabled){var e="";this.fields&&this.fields.length>0&&(e=this.fields[0].name),this.data.conditions=this.data.conditions.concat([{field:e,value:"",operator:ic[0]}]),this.handleDataChange()}}},{key:"removeCondition",value:function(e){if(!this.disabled){var t=this.data;t.conditions=t.conditions.filter(function(t){return t!==e}),this.handleDataChange()}}},{key:"getDefaultValue",value:function(e){switch(typeof e){case"function":return e();default:return e}}},{key:"getOperators",value:function(){return ic}},{key:"value",get:function(){return this.data},set:function(e){this.data=e||{conditions:[]},this.handleDataChange()}},{key:"handleDataChange",value:function(){this.changeDetectorRef.markForCheck(),this.markDirty.emit("changed")}},{key:"changeOperator",value:function(e,t){this.disabled||(e.operator=t,this.handleDataChange())}},{key:"changeInput",value:function(){this.disabled||this.handleDataChange()}},{key:"changeField",value:function(e,t){this.disabled||this.handleDataChange()}},{key:"getFields",value:function(e){return this.fields}}]),e}()).\u0275fac=function(e){return new(e||ec)(b.Zb(b.h))},ec.\u0275cmp=b.Tb({type:ec,selectors:[["ac-condition-builder"]],inputs:{disabled:"disabled",data:"data",columnHeaders:"columnHeaders",config:"config",value:"value"},outputs:{markDirty:"markDirty"},features:[b.Jb],decls:1,vars:1,consts:[["class","conditionbuilder",4,"ngIf"],[1,"conditionbuilder"],[1,"conditionTable"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"conditionColHdr"],[1,"conditionCell"],["type","text","tabindex","0",3,"ngModel","disabled","ngModelChange"],[1,"select-arrow-icon"],["tabindex","0",3,"ngModel","disabled","ngModelChange"],["tabindex","0",3,"ngValue",4,"ngFor","ngForOf"],["showDelay","250","tabindex","0",1,"plusminus",3,"disabled","pTooltip","click"],[1,"dlt-icon-plus-circle","dlg-icon-btn","dlt-icon"],[1,"dlt-icon-minus-circle","dlg-icon-btn","dlt-icon"],["tabindex","0",3,"ngValue"]],template:function(e,t){1&e&&b.Zc(0,Ya,4,2,"ul",0),2&e&&b.Ac("ngIf",t.data&&t.data.conditions)},directives:[g.n,g.m,le.c,le.n,le.q,le.x,_.a,le.r,le.B],pipes:[d.c],styles:["ul[_ngcontent-%COMP%]{list-style:none;margin:0;overflow:hidden;padding:0}li[_ngcontent-%COMP%]{padding:7px}.row[_ngcontent-%COMP%]{margin-left:0;margin-right:0}.conditionbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-weight:400;font-size:.875rem;display:block;width:100%;line-height:1.5rem;height:1.5rem;padding:0 .5rem;color:#333;background-color:#fff;border-radius:0;border:1px solid gray}.conditionbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus:enabled, .conditionbuilder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover:enabled{border:1px solid #1776bf;outline:1px solid #1776bf;outline-offset:-2px;border-radius:0}.conditionbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;font-weight:400;font-size:.875rem;width:100%;height:1.5rem;line-height:1.5rem;padding:0 5px 0 .5rem;color:#333;border-radius:0;border:1px solid gray;display:block;background-color:#fff;margin:0 20px 0 0;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.conditionbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus:enabled, .conditionbuilder[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover:enabled{border:1px solid #1776bf;outline:1px solid #1776bf;outline-offset:-2px}.select-arrow-icon[_ngcontent-%COMP%]:after{line-height:1.5rem}.conditionbuilder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:400;height:1.5rem;line-height:1.5rem;vertical-align:middle;border:none;outline:none;background-color:#fff}.conditionbuilder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:enabled{color:#1776bf}.plusminus[_ngcontent-%COMP%]{display:inline-block;position:relative}.plusminus[_ngcontent-%COMP%]:focus{border:1px solid #1776bf!important;outline:1px solid #1776bf!important;box-shadow:none!important;outline-offset:-2px}table.conditionTable[_ngcontent-%COMP%]{width:100%;padding-left:0;padding-right:0}.conditionColHdr[_ngcontent-%COMP%]{font-weight:500;font-size:.875rem;line-height:1;color:#333;padding-bottom:.025rem;padding-right:.02rem}.conditionCell[_ngcontent-%COMP%], .conditionColHdr[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,sans-serif;padding-left:.46rem}.conditionCell[_ngcontent-%COMP%]{padding-right:.6rem}"]}),ec),ic=[{value:"=",name:"common.operator.equals"},{value:"Contains",name:"common.operator.contains"},{value:"NotContains",name:"common.operator.notContains"},{value:"!=",name:"common.operator.notEquals"},{value:">",name:"common.operator.greaterThan"},{value:">=",name:"common.operator.greaterThanEqual"},{value:"<",name:"common.operator.lessThan"},{value:"<=",name:"common.operator.lessThanEqual"}],ac=c("Ckfk"),cc=["searchOverlay"],rc=["acConditionBuilder"],oc=["acSearchBuilder"],sc=function(){return{"min-height":"200px","min-width":"620px"}},lc=function(){return{"min-width":"150px",width:"11rem","line-height":"1.5rem",height:"1.5rem"}},dc=((tc=function(){function e(t,i){var a=this;n(this,e),this.translate=t,this.sharedMessageService=i,this.onAdvancedSearchReset=new b.p,this.onAdvancedSearchApply=new b.p,this.config=Wa.getAdvancedSearchBuilderConfig(),this.query=null,this.conditions=null,this.conditionConfig={},this.isDirty=!1,this._isAndQuery=!1,this._initialDataSetDone=!1,this.searchColHdrs=[],this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(function(e){e&&"change-locale"===e.data.action&&a.translate.use(e.data.data.locale)})}return a(e,[{key:"ngOnInit",value:function(){this.searchColHdrs=[this.translate.instant("monitoring.services.logFieldName"),this.translate.instant("common.labels.operator"),this.translate.instant("common.labels.value")]}},{key:"showSearchOverlay",value:function(){var e=this,t=this.serviceSearchQuery.tableFilters,n=this.serviceSearchQuery.searchTerms;n||(n=new Array);for(var i=0;i<t.length;i++){var a=t[i];"topLevelOnly"===a.filterBy?this.serviceSearchQuery.rootLevelServiceOnly=a.filterValue:"isAnd"===a.filterBy?this.serviceSearchQuery.andQuery=a.filterValue:"statusSet"===a.filterBy?this.serviceSearchQuery.status=a.filterValue:"customData"===a.filterBy&&a.filterValue?function(){var t=[];a.filterValue.map(function(e){return t.push(Object.assign({},e))}),e.serviceSearchQuery.logFields=t}():n.push({field:a.filterBy,value:a.filterValue})}0===n.length&&n.push(this.createDefaultSearchRow()),this.serviceSearchQuery.searchTerms=n,this.query={searchTerms:this.serviceSearchQuery.searchTerms};var c=this.serviceSearchQuery.logFields;c&&0!==c.length||(c=new Array).push(this.createDefaultConditionRow()),this.serviceSearchQuery.logFields=c,this.conditions={conditions:this.serviceSearchQuery.logFields};var r=this;setTimeout(function(){r.acSearchBuilder.setFocus(),e._initialDataSetDone=!0},200),this.enableModality(),this._isAndQuery=this.serviceSearchQuery.andQuery,this.makeComponentsAccessible(),this.isDirty=!1}},{key:"toggle",value:function(e){this.searchOverlay&&this.searchOverlay.toggle(e)}},{key:"statusChange",value:function(e){this.serviceSearchQuery.status=e.value,this.isDirty=!0}},{key:"cancelSearch",value:function(){this.searchOverlay.hide()}},{key:"applySearch",value:function(){var e=this.acConditionBuilder.data.conditions;this.serviceSearchQuery.searchTerms=this.acSearchBuilder.data.searchTerms,this.serviceSearchQuery.logFields=e,this.onAdvancedSearchApply.emit(this.serviceSearchQuery),this.searchOverlay.hide()}},{key:"setOrQuery",value:function(){this.serviceSearchQuery.andQuery=!1,this.isDirty=!0}},{key:"setAndQuery",value:function(){this.serviceSearchQuery.andQuery=!0,this.isDirty=!0}},{key:"resetSearch",value:function(){this.serviceSearchQuery.searchTerms=null,this.serviceSearchQuery.logFields=null,this.serviceSearchQuery.status=null,this.serviceSearchQuery.andQuery=!0,this.serviceSearchQuery.rootLevelServiceOnly=!1,this.searchOverlay.hide(),this.isDirty=!0,this.onAdvancedSearchReset.emit(this.serviceSearchQuery)}},{key:"createDefaultSearchRow",value:function(){return{field:this.config.searchFields.serviceName.name,value:null,isISService:!0}}},{key:"createDefaultConditionRow",value:function(){return{field:null,value:null,operator:ic[0]}}},{key:"getSearchField",value:function(e){return this.config.searchFields[e]}},{key:"handleKeydown",value:function(e){this.isDirty=!0,27===e.keyCode&&this.searchOverlay.hide()}},{key:"statusEnter",value:function(){document.querySelector("#statusSelect").click()}},{key:"enableModality",value:function(){var e=this;if(this.searchOverlay&&!this.searchOverlay.mask){this.searchOverlay.mask=document.createElement("div"),this.searchOverlay.mask.style.zIndex=String(parseInt(this.searchOverlay.container.style.zIndex)-1);var t="ui-widget-overlay ui-dialog-mask";this.searchOverlay.blockScroll&&(t+=" ui-dialog-mask-scrollblocker"),ac.b.addMultipleClasses(this.searchOverlay.mask,t),this.searchOverlay.closable&&this.searchOverlay.dismissableMask&&(this.maskClickListener=this.searchOverlay.renderer.listen(this.searchOverlay.mask,"click",function(t){e.searchOverlay.close(t)})),document.body.appendChild(this.searchOverlay.mask),this.searchOverlay.blockScroll&&ac.b.addClass(document.body,"ui-overflow-hidden")}}},{key:"disableModality",value:function(){if(this.searchOverlay&&this.searchOverlay.mask){if(this.unbindMaskClickListener(),document.body.removeChild(this.searchOverlay.mask),this.searchOverlay.blockScroll){for(var e,t=document.body.children,n=0;n<t.length;n++)if(ac.b.hasClass(t[n],"ui-dialog-mask-scrollblocker")){e=!0;break}e||ac.b.removeClass(document.body,"ui-overflow-hidden")}this.searchOverlay.mask=null}}},{key:"unbindMaskClickListener",value:function(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}},{key:"hideSearchOverlay",value:function(){this.disableModality(),this.isDirty=!1,this._initialDataSetDone=!1}},{key:"makeComponentsAccessible",value:function(){var e=this;setTimeout(function(){var t=document.getElementsByTagName("p-multiSelect")[0];t&&y.J.makeMultiCheckboxAccessible(t,e.translate.instant("common.filters.multiselect.select.options"),e.translate.instant("monitoring.search.deselect.all"),e.translate.instant("monitoring.search.select.all"))},100)}},{key:"ngOnDestroy",value:function(){this.disableModality(),this.subscription.unsubscribe()}},{key:"markDirty",value:function(){this.isDirty=!0}},{key:"ngDoCheck",value:function(){this._isAndQuery!==this.serviceSearchQuery.andQuery&&this._initialDataSetDone&&this.markDirty()}}]),e}()).\u0275fac=function(e){return new(e||tc)(b.Zb(d.d),b.Zb(y.A))},tc.\u0275cmp=b.Tb({type:tc,selectors:[["ac-service-search"]],viewQuery:function(e,t){var n;1&e&&(b.hd(cc,1),b.hd(rc,1),b.hd(oc,1)),2&e&&(b.Oc(n=b.qc())&&(t.searchOverlay=n.first),b.Oc(n=b.qc())&&(t.acConditionBuilder=n.first),b.Oc(n=b.qc())&&(t.acSearchBuilder=n.first))},hostBindings:function(e,t){1&e&&b.pc("keydown",function(e){return t.handleKeydown(e)},!1,b.Qc)},inputs:{serviceSearchQuery:"serviceSearchQuery",serviceStatusList:"serviceStatusList"},outputs:{onAdvancedSearchReset:"onAdvancedSearchReset",onAdvancedSearchApply:"onAdvancedSearchApply"},decls:66,vars:57,consts:[["focusOnShow","true",3,"baseZIndex","appendTo","onShow","onHide"],["searchOverlay",""],[1,"filter-top-row"],[1,"isac-overlay-title-wrapper"],[1,"isac-overlay-details-title"],[1,"svc-filter-label-wrapper"],["for","searchConditionSwitchSvc",1,"dlt-form-label","padding-top-5","padding-right-5"],[1,"padding-left-5","dlt-form-label","padding-top-5","toggle-inline",3,"click"],[1,"toggle-btn","toggle-inline"],[1,"dlt-fieldset","sm-switch","fliter-switch-item"],[1,"dlt-switch-item"],["id","searchConditionSwitchSvc","type","checkbox","ngDefaultControl","",1,"dlt-switch-input",3,"ngModel","ngModelChange"],["for","searchConditionSwitchSvc",1,"dlt-switch-text"],[1,"dlt-switch-appearance","dlt-on-off"],[1,"on"],[1,"off"],[1,"dlt-form-label","padding-top-5","toggle-inline",3,"click"],[1,"filter-title-buttons-wrapper"],["tabindex","0","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"pTooltip","click"],[1,"dlt-icon-close","isac-dlg-close-icon-btn","dlg-icon-btn","dlt-icon"],[1,"filter-row"],[1,"dlt-form-label"],[1,"searchArea"],[3,"data","config","markDirty"],["acSearchBuilder",""],["id","statusFilterRefSvcId","tabindex","0","autofocusFilter","true","dropdownIcon","dlt-icon-dropdown",3,"options","ngModel","filter","defaultLabel","maxSelectedLabels","baseZIndex","onPanelShow","onChange","ngModelChange","keydown.enter"],["statusFilterRefSvc",""],[3,"data","config","columnHeaders","markDirty"],["acConditionBuilder",""],[1,"ftr-container"],[1,"ftr-item"],[1,"dlt-checkbox","root-checkbox"],["type","checkbox","id","rootLevelServicesOnlyCheckbox","name","","tabindex","0",3,"ngModel","ngModelChange"],["for","rootLevelServicesOnlyCheckbox"],[1,"ftr-divider"],["tabindex","0",1,"dlt-button","dlt-button-primary",3,"disabled","click"],[1,"footer-btn-divider"],["tabindex","0",1,"dlt-button","dlt-button-secondary","dlg-rt-btn",3,"click"]],template:function(e,t){1&e&&(b.fc(0,"p-overlayPanel",0,1),b.pc("onShow",function(){return t.showSearchOverlay()})("onHide",function(){return t.hideSearchOverlay()}),b.fc(2,"div",2),b.fc(3,"div",3),b.fc(4,"div",4),b.bd(5),b.uc(6,"translate"),b.ec(),b.ec(),b.fc(7,"div",5),b.fc(8,"label",6),b.bd(9),b.uc(10,"translate"),b.ec(),b.fc(11,"label",7),b.pc("click",function(){return t.setOrQuery()}),b.bd(12),b.uc(13,"translate"),b.ec(),b.fc(14,"div",8),b.fc(15,"fieldset",9),b.fc(16,"div",10),b.fc(17,"input",11),b.pc("ngModelChange",function(e){return t.serviceSearchQuery.andQuery=e}),b.ec(),b.fc(18,"label",12),b.ac(19,"span",13),b.ac(20,"span",14),b.ac(21,"span",15),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(22,"label",16),b.pc("click",function(){return t.setAndQuery()}),b.bd(23),b.uc(24,"translate"),b.ec(),b.ec(),b.fc(25,"div",17),b.fc(26,"button",18),b.pc("click",function(){return t.cancelSearch()}),b.uc(27,"translate"),b.uc(28,"translate"),b.ac(29,"i",19),b.ec(),b.ec(),b.ec(),b.fc(30,"div",20),b.fc(31,"label",21),b.bd(32),b.uc(33,"translate"),b.ec(),b.ec(),b.fc(34,"div",22),b.fc(35,"ac-search-builder",23,24),b.pc("markDirty",function(){return t.markDirty}),b.ec(),b.ec(),b.ac(37,"hr",20),b.fc(38,"div",20),b.fc(39,"label",21),b.bd(40),b.uc(41,"translate"),b.ec(),b.ec(),b.fc(42,"p-multiSelect",25,26),b.pc("onPanelShow",function(){return t.makeComponentsAccessible()})("onChange",function(e){return t.statusChange(e)})("ngModelChange",function(e){return t.serviceSearchQuery.status=e})("keydown.enter",function(){return t.statusEnter()}),b.uc(44,"translate"),b.ec(),b.ac(45,"hr",20),b.fc(46,"div",22),b.fc(47,"ac-condition-builder",27,28),b.pc("markDirty",function(){return t.markDirty}),b.ec(),b.ec(),b.fc(49,"p-footer"),b.fc(50,"div",29),b.fc(51,"div",30),b.fc(52,"div",31),b.fc(53,"input",32),b.pc("ngModelChange",function(e){return t.serviceSearchQuery.rootLevelServiceOnly=e})("ngModelChange",function(){return t.markDirty()}),b.ec(),b.fc(54,"label",33),b.bd(55),b.uc(56,"translate"),b.ec(),b.ec(),b.ec(),b.ac(57,"div",34),b.fc(58,"div",30),b.fc(59,"button",35),b.pc("click",function(){return t.applySearch()}),b.bd(60),b.uc(61,"translate"),b.ec(),b.ac(62,"div",36),b.fc(63,"button",37),b.pc("click",function(){return t.resetSearch()}),b.bd(64),b.uc(65,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.ec()),2&e&&(b.Wc(b.Fc(55,sc)),b.Ac("baseZIndex",1)("appendTo","body"),b.Lb(5),b.cd(b.vc(6,31,"common.label.AdvancedSearch")),b.Lb(4),b.cd(b.vc(10,33,"common.labels.SearchCondition")),b.Lb(3),b.cd(b.vc(13,35,"common.labels.or")),b.Lb(5),b.Ac("ngModel",t.serviceSearchQuery.andQuery),b.Lb(6),b.cd(b.vc(24,37,"common.labels.and")),b.Lb(3),b.Bc("pTooltip",b.vc(27,39,"common.close.title")),b.Mb("aria-label",b.vc(28,41,"common.close.title")),b.Lb(6),b.cd(b.vc(33,43,"common.labels.searchArea")),b.Lb(3),b.Ac("data",t.query)("config",t.config),b.Lb(5),b.dd(" ",b.vc(41,45,"monitoring.services.service.status"),""),b.Lb(2),b.Wc(b.Fc(56,lc)),b.Bc("defaultLabel",b.vc(44,47,"common.all")),b.Ac("options",t.serviceStatusList)("ngModel",t.serviceSearchQuery.status)("filter",!1)("maxSelectedLabels",4)("baseZIndex",2e3),b.Lb(5),b.Ac("data",t.conditions)("config",t.conditionConfig)("columnHeaders",t.searchColHdrs),b.Lb(6),b.Ac("ngModel",t.serviceSearchQuery.rootLevelServiceOnly),b.Lb(2),b.cd(b.vc(56,49,"monitoring.services.rootLevelServicesOnly")),b.Lb(4),b.Ac("disabled",!t.isDirty),b.Lb(1),b.cd(b.vc(61,51,"common.apply")),b.Lb(4),b.cd(b.vc(65,53,"common.reset")))},directives:[hn.a,le.a,le.c,le.n,le.q,_.a,_n,Pn.a,nc,D.f],pipes:[d.c],styles:[".margin-right-5[_ngcontent-%COMP%]{margin-right:5px}.dlt-switch-text[_ngcontent-%COMP%]{margin-top:5px}.toggle-inline[_ngcontent-%COMP%]{float:left}.toggle-btn[_ngcontent-%COMP%]{margin:0 7px}.btn-group[_ngcontent-%COMP%]{padding:.875rem 0 0}.conditionlabel1Width[_ngcontent-%COMP%]{width:16rem;margin-right:21px}.conditionlabel2Width[_ngcontent-%COMP%]{min-width:8rem;padding-right:7px}.searchArea[_ngcontent-%COMP%]{margin-left:-7px!important}p-multiselect[_ngcontent-%COMP%]:focus{outline:3px solid #1776bf}.filter-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:0;margin-left:0}.filter-top-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:6px 0 1rem}.footer-buttons-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:0}.root-checkbox[_ngcontent-%COMP%]{margin-right:10rem;padding:0}.ftr-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin-top:1.5rem}.ftr-item[_ngcontent-%COMP%]{display:flex;flex-shrink:0}.ftr-divider[_ngcontent-%COMP%]{display:flex;flex:1}.fliter-switch-item[_ngcontent-%COMP%]{margin-top:3px}.svc-filter-label-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-left:1rem;margin-top:-5px}"]}),tc),uc=["isMonSvcExeTable"],hc=["tablePrefs"],fc=["tablePrefsOverlay"];function gc(e,t){if(1&e){var n=b.gc();b.fc(0,"div",7),b.fc(1,"div",20),b.fc(2,"d3-donut-chart",21),b.pc("pieItemClicked",function(e){return b.Rc(n),b.tc(2).pieItemClicked(e)}),b.ec(),b.ec(),b.fc(3,"div",22),b.fc(4,"app-chart-legend",23),b.pc("legendItemClicked",function(e){return b.Rc(n),b.tc(2).pieItemClicked(e)}),b.ec(),b.ec(),b.fc(5,"div",24),b.ac(6,"img",25),b.uc(7,"translate"),b.bd(8),b.uc(9,"translate"),b.ec(),b.ec()}if(2&e){var i=b.tc(2);b.Lb(2),b.Ac("data",i.donutChartData)("heightInput","160px"),b.Lb(2),b.Ac("data",i.legendsData)("heightInput","160px"),b.Lb(2),b.Bc("alt",b.vc(7,6,"common.chart.donut.infolabel")),b.Lb(2),b.dd(" ",b.vc(9,8,"common.chart.donut.infolabel")," ")}}function pc(e,t){1&e&&b.ac(0,"ac-loader")}function vc(e,t){if(1&e&&b.ac(0,"ac-d3-stacked-bar-chart",26),2&e){var n=b.tc(2);b.Ac("chartno",0)("data",n.barData)("columnKeyColorArray",n.columnKeyColorArray)("heightInput","160px")("chartXAxisTitle",n.chartXAxisTitle)}}function mc(e,t){1&e&&b.ac(0,"ac-loader")}function bc(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"div",53),b.fc(2,"label",54),b.bd(3),b.uc(4,"translate"),b.ec(),b.fc(5,"button",55),b.pc("click",function(e){b.Rc(n);var t=b.Pc(12);return b.tc(3).showBasicFilter(),t.toggle(e)}),b.bd(6),b.uc(7,"translate"),b.ec(),b.fc(8,"button",56),b.pc("click",function(e){b.Rc(n);var t=b.Pc(14);return b.tc(3).showAdvancedSearch(),t.toggle(e)}),b.bd(9),b.uc(10,"translate"),b.ec(),b.fc(11,"isac-lib-filter-overlay-panel",57,58),b.pc("onFiltersReset",function(e){return b.Rc(n),b.tc(3).onBasicFiltersReset(e)})("onFiltersApply",function(e){return b.Rc(n),b.tc(3).onBasicFiltersApply(e)})("onFilterChange",function(e){return b.Rc(n),b.tc(3).onFilterChange(e)}),b.ec(),b.fc(13,"ac-service-search",59,60),b.pc("onAdvancedSearchApply",function(e){return b.Rc(n),b.tc(3).onAdvancedSearchApply(e)})("onAdvancedSearchReset",function(e){return b.Rc(n),b.tc(3).onAdvancedSearchReset(e)}),b.ec(),b.fc(15,"isac-lib-filter-tags",61),b.pc("onClearAll",function(e){return b.Rc(n),b.tc(3).onClearAllFilters(e)})("onClearFilter",function(e){return b.Rc(n),b.tc(3).onClearFilter(e)}),b.ec(),b.ec(),b.cc()}if(2&e){var i=b.tc(3);b.Lb(3),b.cd(b.vc(4,8,"common.table.search")),b.Lb(3),b.cd(b.vc(7,10,"common.basic")),b.Lb(3),b.cd(b.vc(10,12,"common.advanced")),b.Lb(2),b.Ac("styleClass","filter-overlaypanel-content")("tableFilters",i.serviceListStateService.basicSearchFilters),b.Lb(2),b.Ac("serviceSearchQuery",i.serviceListStateService.serviceSearchQuery)("serviceStatusList",i.statusList),b.Lb(2),b.Ac("filterTags",i.filterTags)}}var yc=function(e){return{value1:1e4,value2:e}};function Cc(e,t){if(1&e){var n=b.gc();b.fc(0,"div",62),b.fc(1,"div",63),b.ac(2,"span",64),b.fc(3,"div",65),b.bd(4),b.uc(5,"translate"),b.ec(),b.fc(6,"span",66),b.pc("click",function(){return b.Rc(n),b.tc(3).hideMaxResultWarning()}),b.uc(7,"translate"),b.ec(),b.ec(),b.ec()}if(2&e){var i=b.tc(3);b.Lb(4),b.dd(" ",b.wc(5,2,"monitoring.maxrowsreached",b.Gc(7,yc,i.actualRowCount))," "),b.Lb(2),b.Bc("pTooltip",b.vc(7,5,"common.close.title"))}}var Sc=function(e){return{"text-align":e}};function xc(e,t){if(1&e&&(b.fc(0,"th",72),b.uc(1,"translate"),b.fc(2,"div",73),b.fc(3,"label",74),b.bd(4),b.uc(5,"translate"),b.ac(6,"p-sortIcon",75),b.ec(),b.ec(),b.ec()),2&e){var n=b.tc().$implicit;b.Bc("pTooltip",b.vc(1,5,n.header)),b.Ac("pSortableColumn",n.field)("ngStyle",b.Gc(9,Sc,n.hdrAlign)),b.Lb(4),b.dd(" ",b.vc(5,7,n.header)," "),b.Lb(2),b.Ac("field",n.field)}}function Tc(e,t){if(1&e&&(b.dc(0),b.Zc(1,xc,7,11,"th",71),b.cc()),2&e){var n=t.$implicit;b.Lb(1),b.Ac("ngIf",!n.hide)}}function wc(e,t){if(1&e&&(b.fc(0,"tr"),b.fc(1,"td",76),b.ac(2,"ac-loader"),b.ec(),b.ec()),2&e){var n=b.tc(4);b.Lb(1),b.Mb("colspan",n.tableInfo.tableColumnInfo.length)}}function Lc(e,t){if(1&e&&(b.fc(0,"tr"),b.fc(1,"td",67),b.ac(2,"p-tableHeaderCheckbox",68,69),b.ec(),b.Zc(4,Tc,2,1,"ng-container",70),b.ec(),b.Zc(5,wc,3,1,"tr",17)),2&e){var n=b.tc(3);b.Lb(4),b.Ac("ngForOf",n.tableInfo.tableColumnInfo),b.Lb(1),b.Ac("ngIf",n.fetchingTableData)}}function kc(e,t){if(1&e&&(b.fc(0,"a",84),b.fc(1,"span",85),b.bd(2),b.uc(3,"smartTruncatePart1Pipe"),b.ec(),b.fc(4,"span",86),b.bd(5),b.uc(6,"smartTruncatePart2Pipe"),b.ec(),b.ec()),2&e){var n=b.tc(2).$implicit,i=b.tc().$implicit;b.Bc("pTooltip",i[n.field]),b.Cc("routerLink","/monitoring/service/",i.CONTEXTID,""),b.Mb("aria-label",i[n.field]),b.Lb(2),b.cd(b.wc(3,5,i[n.field],3)),b.Lb(3),b.cd(b.wc(6,8,i[n.field],3))}}function Ic(e,t){if(1&e&&(b.fc(0,"div",87),b.uc(1,"durationFormat"),b.fc(2,"span",88),b.bd(3),b.uc(4,"durationFormatTrimmed"),b.ec(),b.ec()),2&e){var n=b.tc(2).$implicit,i=b.tc().$implicit;b.Bc("pTooltip",b.xc(1,2,i[n.field],"ms","dHHmmssSSS")),b.Lb(3),b.cd(b.vc(4,6,i[n.field]))}}function Mc(e,t){if(1&e&&(b.fc(0,"div",87),b.uc(1,"preferredDateTime"),b.fc(2,"span",88),b.bd(3),b.uc(4,"preferredDateTime"),b.ec(),b.ec()),2&e){var n=b.tc(2).$implicit,i=b.tc().$implicit,a=b.tc(3);b.Bc("pTooltip",b.xc(1,2,i[n.field],a.preferencesService,a.dateTimePreferenceService)),b.Lb(3),b.cd(b.xc(4,6,i[n.field],a.preferencesService,a.dateTimePreferenceService))}}function Oc(e,t){if(1&e&&(b.fc(0,"div",87),b.fc(1,"span",88),b.bd(2),b.uc(3,"smartTruncatePart1Pipe"),b.ec(),b.fc(4,"span",89),b.bd(5),b.uc(6,"smartTruncatePart2Pipe"),b.ec(),b.ec()),2&e){var n=b.tc(2).$implicit,i=b.tc().$implicit;b.Bc("pTooltip",i[n.field]),b.Lb(2),b.cd(b.wc(3,3,i[n.field],3)),b.Lb(3),b.cd(b.wc(6,6,i[n.field],3))}}function _c(e,t){if(1&e&&(b.fc(0,"div",87),b.fc(1,"span",88),b.bd(2),b.uc(3,"smartTruncatePart1Pipe"),b.ec(),b.fc(4,"span",89),b.bd(5),b.uc(6,"smartTruncatePart2Pipe"),b.ec(),b.ec()),2&e){var n=b.tc(2).$implicit,i=b.tc().$implicit,a=b.tc(3);b.Bc("pTooltip",a.getStatus(i[n.field])),b.Lb(2),b.cd(b.wc(3,3,a.getStatus(i[n.field]),3)),b.Lb(3),b.cd(b.wc(6,6,a.getStatus(i[n.field]),3))}}function Pc(e,t){if(1&e&&(b.fc(0,"td",81),b.fc(1,"span"),b.fc(2,"div"),b.Zc(3,kc,7,11,"a",82),b.Zc(4,Ic,5,8,"div",83),b.Zc(5,Mc,5,10,"div",83),b.Zc(6,Oc,7,9,"div",83),b.Zc(7,_c,7,9,"div",83),b.ec(),b.ec(),b.ec()),2&e){var n=b.tc(),i=n.$implicit,a=n.index;b.Ac("ngStyle",b.Gc(6,Sc,i.cellAlign)),b.Lb(3),b.Ac("ngIf",0==a),b.Lb(1),b.Ac("ngIf",0!=a&&"DURATION"==i.field),b.Lb(1),b.Ac("ngIf",0!=a&&("FIRSTTIME"==i.field||"LASTTIME"==i.field)),b.Lb(1),b.Ac("ngIf",0!=a&&"LASTSTATUSDECODE"!=i.field&&"DURATION"!=i.field&&"FIRSTTIME"!=i.field&&"LASTTIME"!=i.field),b.Lb(1),b.Ac("ngIf",0!=a&&"LASTSTATUSDECODE"==i.field)}}function Dc(e,t){if(1&e&&(b.dc(0),b.Zc(1,Pc,8,8,"td",80),b.cc()),2&e){var n=t.$implicit;b.Lb(1),b.Ac("ngIf",!n.hide)}}function Ac(e,t){if(1&e){var n=b.gc();b.fc(0,"tr",77),b.pc("keydown.enter",function(){b.Rc(n);var e=t.$implicit;return b.tc(3).onKeydownEnter(e.CONTEXTID)}),b.fc(1,"td",78),b.ac(2,"p-tableCheckbox",79),b.ec(),b.Zc(3,Dc,2,1,"ng-container",70),b.ec()}if(2&e){var i=t.$implicit,a=b.tc(3);b.Ac("pSelectableRow",i),b.Lb(2),b.Ac("value",i),b.Lb(1),b.Ac("ngForOf",a.tableInfo.tableColumnInfo)}}function Rc(e,t){if(1&e&&(b.fc(0,"tr",91),b.fc(1,"td",92),b.bd(2),b.uc(3,"translate"),b.ec(),b.ec()),2&e){var n=b.tc(4);b.Lb(1),b.Mb("colspan",n.tableInfo.tableColumnInfo.length),b.Lb(1),b.dd(" ",b.vc(3,2,"common.table.no.items")," ")}}function Ec(e,t){if(1&e&&b.Zc(0,Rc,4,4,"tr",90),2&e){var n=b.tc(3);b.Ac("ngIf",null!=n.serviceExecutions)}}var Fc=function(e,t,n){return{first:e,rows:t,totalRecords:n}};function Bc(e,t){if(1&e&&(b.fc(0,"div"),b.bd(1),b.uc(2,"translate"),b.ec()),2&e){var n=b.tc(4);b.Lb(1),b.dd(" ",b.wc(2,1,"common.table.items.page.info",b.Ic(4,Fc,n.first,n.rows,n.totalRecords))," ")}}function Nc(e,t){1&e&&(b.fc(0,"div"),b.bd(1),b.uc(2,"translate"),b.ec()),2&e&&(b.Lb(1),b.cd(b.vc(2,1,"common.table.zero.items")))}function Hc(e,t){if(1&e&&(b.Zc(0,Bc,3,8,"div",4),b.Zc(1,Nc,3,3,"ng-template",null,93,b.ad)),2&e){var n=b.Pc(2),i=b.tc(3);b.Ac("ngIf",i.totalRecords>0)("ngIfElse",n)}}var Vc=function(e){return{zebrastripes:e}},Zc=function(){return[20,40,60]};function jc(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"p-overlayPanel",27,28),b.ac(3,"isac-lib-table-preferences",null,29),b.ec(),b.fc(5,"div",30),b.fc(6,"table",31),b.fc(7,"tr"),b.fc(8,"td"),b.Zc(9,bc,16,14,"ng-container",17),b.ec(),b.fc(10,"td",32),b.fc(11,"section",33),b.fc(12,"div",34),b.fc(13,"section",35),b.fc(14,"div",36),b.fc(15,"div",37),b.fc(16,"div",38),b.fc(17,"button",39),b.pc("click",function(e){b.Rc(n);var t=b.Pc(2),i=b.tc(2);return t.toggle(e),i.showTablePrefs(e)}),b.uc(18,"translate"),b.uc(19,"translate"),b.ac(20,"i",40),b.ec(),b.ec(),b.fc(21,"div",38),b.fc(22,"button",41),b.pc("click",function(){b.Rc(n);var e=b.Pc(26);return b.tc(2).toggleFullScreen(e)}),b.uc(23,"translate"),b.uc(24,"translate"),b.ac(25,"i",42,43),b.ec(),b.ec(),b.ec(),b.fc(27,"button",44),b.pc("click",function(){return b.Rc(n),b.tc(2).resubmitServices()}),b.uc(28,"translate"),b.bd(29),b.uc(30,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(31,"div",45),b.Zc(32,Cc,8,9,"div",46),b.fc(33,"p-table",47,48),b.pc("onLazyLoad",function(e){return b.Rc(n),b.tc(2).lazyLoadServiceTableResults(e)})("selectionChange",function(e){return b.Rc(n),b.tc(2).selectedServices=e})("onRowUnselect",function(e){return b.Rc(n),b.tc(2).onRowUnselect(e)})("onRowSelect",function(e){return b.Rc(n),b.tc(2).onRowSelect(e)})("onHeaderCheckboxToggle",function(e){return b.Rc(n),b.tc(2).onHeaderCheckboxToggle(e)})("firstChange",function(e){return b.Rc(n),b.tc(2).first=e}),b.Zc(35,Lc,6,2,"ng-template",49),b.Zc(36,Ac,4,3,"ng-template",50),b.Zc(37,Ec,1,1,"ng-template",51),b.Zc(38,Hc,3,2,"ng-template",52),b.ec(),b.ec(),b.ec(),b.cc()}if(2&e){var i=b.tc(2);b.Lb(1),b.Ac("showTransitionOptions","0ms")("hideTransitionOptions","0ms"),b.Lb(8),b.Ac("ngIf",i.isLocalizationResourcesLoaded),b.Lb(8),b.Bc("pTooltip",b.vc(18,25,"common.table.settings")),b.Mb("aria-label",b.vc(19,27,"common.table.settings")),b.Lb(5),b.Bc("pTooltip",b.vc(23,29,"common.showFullScreen")),b.Nb("aria-label","",b.vc(24,31,"common.showFullScreen")," "),b.Lb(5),b.Ac("disabled",!(i.selectedServices&&i.selectedServices.length>0)),b.Mb("aria-label",b.vc(28,33,"common.table.resubmit")),b.Lb(2),b.dd("",b.vc(30,35,"common.table.resubmit")," "),b.Lb(3),b.Ac("ngIf",i.showMaxRowsReachedMsg),b.Lb(1),b.Ac("ngClass",b.Gc(37,Vc,i.tableInfo.showZebraStripes))("columns",i.tableInfo.tableColumnInfo)("value",i.serviceExecutions)("paginator",!0)("rows",i.tableInfo.pageSize)("totalRecords",i.totalRecords)("rowsPerPageOptions",b.Fc(39,Zc))("paginatorDropdownAppendTo","body")("lazy",!0)("lazyLoadOnInit",!1)("selection",i.selectedServices)("first",i.first)("showPageLinks",!1)("showJumpToPageDropdown",!0)}}var zc=function(e){return{hidden:e}};function Uc(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"div",6),b.fc(2,"div",7),b.fc(3,"div",8),b.fc(4,"h1"),b.bd(5),b.uc(6,"translate"),b.ec(),b.ec(),b.fc(7,"div",9),b.fc(8,"isac-lib-date-timerange-panel",10),b.pc("onSelectTimeRange",function(e){return b.Rc(n),b.tc().processSelectedTimeRange(e)})("onRefreshContent",function(e){return b.Rc(n),b.tc().refreshServiceListContent(e)})("onRefreshIntervalChanged",function(e){return b.Rc(n),b.tc().refreshIntervalChanged(e)}),b.ec(),b.ec(),b.ec(),b.fc(9,"div",11),b.fc(10,"div",12),b.fc(11,"div",13),b.fc(12,"div",14),b.fc(13,"span"),b.bd(14),b.uc(15,"translate"),b.ec(),b.fc(16,"span",15),b.bd(17),b.ec(),b.ec(),b.Zc(18,gc,10,10,"div",16),b.Zc(19,pc,1,0,"ac-loader",17),b.ec(),b.fc(20,"div",18),b.fc(21,"div",14),b.bd(22),b.uc(23,"translate"),b.ec(),b.Zc(24,vc,1,5,"ac-d3-stacked-bar-chart",19),b.Zc(25,mc,1,0,"ac-loader",17),b.ec(),b.ec(),b.ec(),b.Zc(26,jc,39,40,"ng-container",4),b.ec(),b.cc()}if(2&e){var i=b.tc(),a=b.Pc(12);b.Lb(5),b.cd(b.vc(6,17,i.tableInfo.tableId)),b.Lb(3),b.Ac("timeRange",i.serviceListStateService.timeRange)("refreshInterval",i.serviceListStateService.refreshInterval)("isCustomTimeRange",!0)("alignSelector","right")("showRefresh",!0)("showAutoRefresh",!0),b.Lb(1),b.Ac("ngClass",b.Gc(23,zc,i.serviceListStateService.fullScreenTable)),b.Lb(5),b.cd(b.vc(15,19,"monitoring.services.executions")),b.Lb(3),b.cd(i.totalExecutions),b.Lb(1),b.Ac("ngIf",i.chartDataFetched),b.Lb(1),b.Ac("ngIf",i.fetchingChartData),b.Lb(3),b.dd(" ",b.vc(23,21,"monitoring.barchart.history"),""),b.Lb(2),b.Ac("ngIf",i.chartDataFetched),b.Lb(1),b.Ac("ngIf",i.fetchingChartData),b.Lb(1),b.Ac("ngIf",i.isTableDataAvailable)("ngIfElse",a)}}function $c(e,t){1&e&&(b.fc(0,"div",98),b.bd(1),b.uc(2,"translate"),b.ec()),2&e&&(b.Lb(1),b.cd(b.vc(2,1,"monitoring.error.information")))}function Qc(e,t){if(1&e&&(b.fc(0,"div",99),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.cd(n.monitoringErrorInformation)}}function Kc(e,t){if(1&e&&(b.fc(0,"div",99),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.cd(n.monitoringErrorMessage1)}}function Wc(e,t){if(1&e&&(b.fc(0,"div",99),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.cd(n.monitoringErrorMessage2)}}function qc(e,t){if(1&e&&(b.fc(0,"div",99),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.cd(n.monitoringErrorMessage3)}}function Xc(e,t){if(1&e&&(b.fc(0,"div",94),b.bd(1),b.uc(2,"translate"),b.ec(),b.fc(3,"ul"),b.fc(4,"li",95),b.bd(5),b.uc(6,"translate"),b.ec(),b.fc(7,"li",95),b.bd(8),b.uc(9,"translate"),b.ec(),b.fc(10,"li",95),b.bd(11),b.uc(12,"translate"),b.ec(),b.fc(13,"li",95),b.bd(14),b.uc(15,"translate"),b.ec(),b.ec(),b.Zc(16,$c,3,3,"div",96),b.Zc(17,Qc,2,1,"div",97),b.Zc(18,Kc,2,1,"div",97),b.Zc(19,Wc,2,1,"div",97),b.Zc(20,qc,2,1,"div",97)),2&e){var n=b.tc();b.Lb(1),b.dd(" ",b.vc(2,10,"monitoring.services.unavailable.message")," "),b.Lb(4),b.dd(" ",b.vc(6,12,"monitoring.services.unavailable.ensure1")," "),b.Lb(3),b.dd(" ",b.vc(9,14,"monitoring.services.unavailable.ensure2")," "),b.Lb(3),b.dd(" ",b.vc(12,16,"monitoring.services.unavailable.ensure3")," "),b.Lb(3),b.dd(" ",b.vc(15,18,"monitoring.services.unavailable.ensure4")," "),b.Lb(2),b.Ac("ngIf",n.monitoringErrorInformation||n.monitoringErrorMessage1||n.monitoringErrorMessage2||n.monitoringErrorMessage3),b.Lb(1),b.Ac("ngIf",n.monitoringErrorInformation),b.Lb(1),b.Ac("ngIf",n.monitoringErrorMessage1),b.Lb(1),b.Ac("ngIf",n.monitoringErrorMessage2),b.Lb(1),b.Ac("ngIf",n.monitoringErrorMessage3)}}var Jc,Gc=((Jc=function(){function t(e,i,a,c,r,o,s,l,d,u){var h=this;n(this,t),this.translate=a,this.sharedMessageService=c,this.serviceListStateService=r,this.router=o,this.toastr=s,this.dateTimeService=l,this.cd=d,this.preferencesService=u,this.destroyed$=new Wt.a,this.homeLink="#/integration/dashboard/overview",this.isChartDataAvailable=!0,this.isTableDataAvailable=!0,this.filterTags=[],this.first=1,this.pageCount=0,this.tableInfo=new y.I("",[]),this.subs=[],this.showMaxRowsReachedMsg=!1,this.actualRowCount=0,this.selectedContextIDs=new Array,this.serviceAPIService=e,this.tableSettingsService=i,this.serviceListStateService.timeRange||(this.serviceListStateService.timeRange=f.TimerangePickerService.getDefaultTimerange()),this.serviceListStateService.refreshInterval||(this.serviceListStateService.refreshInterval=0),this.translate.setDefaultLang("en"),this.subs.push(this.sharedMessageService.getMessage().subscribe(function(e){e&&"change-locale"===e.data.action&&h.translate.use(e.data.data.locale)}))}return a(t,[{key:"ngOnInit",value:function(){this.checkMonitorStatus()}},{key:"initializeServicesList",value:function(){var e=this;this.setDefault(),this.chartDataFetched=!1,this.fetchingChartData=!0,this.loading=!0,this.fetchingTableData=!0,this.subs.push(this.tableSettingsService.getTableInfo("monitoring.services.service.executions").subscribe(function(t){e.tableInfo=t,e.tableInfo.pageSize||(e.tableInfo.pageSize=20),e.tableSettingsService.changeShowHideInfo(e.tableInfo)})),this.subs.push(this.translate.get("common.reset").subscribe(function(){e.isLocalizationResourcesLoaded=!0,e.statusList=[{label:e.translate.instant("monitoring.services.service.status.started"),value:"started"},{label:e.translate.instant("monitoring.services.service.status.completed"),value:"completed"},{label:e.translate.instant("monitoring.services.service.status.failed"),value:"failed"},{label:e.translate.instant("monitoring.services.service.status.resubmitted"),value:"resubmitted"}],e.initTableFilters(),e.updateFilterTags()})),this.serviceListStateService.timeRange||(this.serviceListStateService.timeRange=f.TimerangePickerService.getDefaultTimerange()),this.serviceListStateService.refreshInterval||(this.serviceListStateService.refreshInterval=0),this.initSearchQuery(),this.setChartData(),this.pageCount=0,this.getFilteredServiceList(this.serviceListStateService.tableFilters)}},{key:"refresh",value:function(){this.setChartData(),this.refreshServiceList()}},{key:"checkMonitorStatus",value:function(){var e=this;this.subs.push(this.serviceAPIService.getMonitorStatus().pipe(Object(qt.a)(this.destroyed$)).subscribe(function(t){t&&t.hasOwnProperty("name")&&t.hasOwnProperty("status")&&"WmMonitor"===t.name&&"enabled"===t.status?(e.isTableDataAvailable=!0,e.initializeServicesList()):t&&t.hasOwnProperty("name")&&t.hasOwnProperty("status")&&"WmMonitor"===t.name&&"disabled"===t.status?(e.monitoringErrorMessage2=e.translate.instant("monitoring.wmmonitor.disabled"),e.isTableDataAvailable=!1):e.isTableDataAvailable=!1},function(t){e.isTableDataAvailable=!1,e.monitoringErrorMessage2=Object(y.K)(t,e.translate)}))}},{key:"setChartData",value:function(){var e=this;this.chartDataFetched=!1,this.fetchingChartData=!0,this.donutChartData=null,this.totalExecutions=0,this.barData=null;var t=null,n=null,i=null,a=this;this.serviceListStateService.timeRange.durationInHours?(t=this.serviceListStateService.timeRange.durationInHours,this.handleOneandSixHoursDurationAsCustomTime(t,n,i)):(n=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.serviceListStateService.timeRange.startTime),i=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.serviceListStateService.timeRange.endTime)),this.subs.push(this.serviceAPIService.getServiceExecutionChartData(t,n,i).pipe(Object(qt.a)(this.destroyed$)).subscribe(function(c){if(c&&c.hasOwnProperty("serviceArray")){var r=a.serviceAPIService.summarizedChartData(c,t,n,i);a.barData=r.get("barData"),a.chartXAxisTitle=r.get("barChartLabel"),a.donutChartData=r.get("donutData"),a.legendsData=r.get("columnKeyColorArray"),a.columnKeyColorArray=r.get("columnKeyColorArray"),a.totalExecutions=c.totalExecutions}else e.donutChartData=null,e.barData=null,e.chartXAxisTitle=null,e.totalExecutions=0;a.chartDataFetched=!0,a.fetchingChartData=!1,e.isChartDataAvailable=!0},function(t){e.chartDataFetched=!0,e.fetchingChartData=!1,e.donutChartData=null,e.barData=null,e.chartXAxisTitle=null,e.totalExecutions=0,e.isChartDataAvailable=!1,e.monitoringErrorInformation=Object(y.K)(t,e.translate),t.message&&(e.monitoringErrorMessage1=t.message)}))}},{key:"handleOneandSixHoursDurationAsCustomTime",value:function(e,t,n){}},{key:"setDefault",value:function(){this.loading=!1,this.tableInfo.sortField=this.tableInfo.defaultSortField,this.tableInfo.sortOrder=this.tableInfo.defaultSortOrder,this.resetPager()}},{key:"resetPager",value:function(){this.first=1,this.pageCount=0,this.totalRecords=0,this.tableInfo.pageSize||(this.tableInfo.pageSize=20),this.rows=this.tableInfo.pageSize}},{key:"lazyLoadServiceTableResults",value:function(e){var t=this;this.renderServiceTableResults(e);var n=e.filters,i=[];Object.keys(n).forEach(function(e){t.addFilterIfNotInList({filterBy:e,filterValue:n[e].value,type:"text",label:e})}),this.serviceListStateService.tableFilters||(this.serviceListStateService.tableFilters=[]),this.getFilteredServiceList(i.length>0?i:this.serviceListStateService.tableFilters)}},{key:"addFilterIfNotInList",value:function(e){for(var t=0;t<this.serviceListStateService.tableFilters.length;t++)if(this.serviceListStateService.tableFilters[t].filterBy===e.filterBy)return void(this.serviceListStateService.tableFilters[t]=e);this.serviceListStateService.tableFilters.push(e)}},{key:"getFilteredServiceList",value:function(e){var t=this;this.fetchingTableData=!0;var n=[],i=null,a=null;e.map(function(e){return n.push(Object.assign({},e))}),this.truncateLogfieldKeys(n),this.serviceListStateService.timeRange.durationInHours?n.push({filterBy:"durationInHours",filterValue:this.serviceListStateService.timeRange.durationInHours}):(i=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.serviceListStateService.timeRange.startTime),a=this.dateTimeService.converLocalDateandTimeToUtcTimestamp(this.serviceListStateService.timeRange.endTime)),this.serviceExecutions=void 0,this.subs.push(this.serviceAPIService.getServiceExecutionList(this.pageCount,this.tableInfo.pageSize,this.tableInfo.sortField,"asc"===this.tableInfo.sortOrder?"TRUE":"FALSE",i,a,n).pipe(Object(qt.a)(this.destroyed$)).subscribe(function(e){e&&(t.totalRecords=e.totalCounts?e.totalCounts:0,t.serviceExecutions=e.services?e.services:[],t.loading=!1,t.showMaxRowsReachedMsg=!!e.rowCount,t.actualRowCount=e.rowCount),t.fetchingTableData=!1,t.isTableDataAvailable=!0,t.makeComponentsAccessible()},function(e){t.loading=!1,t.serviceExecutions=[],t.totalRecords=null,t.showMaxRowsReachedMsg=!1,t.actualRowCount=0,t.fetchingTableData=!1,t.isTableDataAvailable=!1,e.message&&(t.monitoringErrorMessage2=e.message),e.error&&e.error.message&&(t.monitoringErrorMessage3=e.error.message)}))}},{key:"makeComponentsAccessible",value:function(){var e=this;setTimeout(function(){var t=document.getElementById("headerCheckbox");t&&y.J.makeTableCheckboxAccessible(t,e.translate.instant("common.table.header.checkbox.title"));var n=document.getElementsByTagName("p-tablecheckbox"),i=0;if(n&&n.length>0)for(i=0;i<n.length;i++)y.J.makeTableCheckboxAccessible(n[i],e.translate.instant("common.table.row.checkbox.title"));var a=document.getElementsByTagName("p-paginator");if(a&&a.length>0)for(i=0;i<a.length;i++)y.J.makePaginatorAccessible(a[i],e.translate.instant("common.table.pagination.go.back.first.page"),e.translate.instant("common.table.pagination.advance.last.page"),e.translate.instant("common.table.pagination.go.back.previous.page"),e.translate.instant("common.table.pagination.advance.next.page"),e.translate.instant("common.table.pagination.select.page"),e.translate.instant("common.table.pagination.select.number.rows"))},100)}},{key:"hideMaxResultWarning",value:function(){this.showMaxRowsReachedMsg=!1}},{key:"refreshServiceListContent",value:function(e){this.refresh()}},{key:"refreshServiceList",value:function(){this.getFilteredServiceList(this.serviceListStateService.tableFilters)}},{key:"refreshIntervalChanged",value:function(e){this.serviceListStateService.refreshInterval=e.value?e.value:0}},{key:"renderServiceTableResults",value:function(e){e?(this.tableInfo.sortField=e.sortField,this.tableInfo.sortOrder="desc",1===e.sortOrder&&(this.tableInfo.sortOrder="asc"),this.first=e.first+1,e.rows&&(this.pageCount=Math.floor(e.first/e.rows),this.tableInfo.pageSize=e.rows)):this.setDefault(),this.getRowCount(),this.cd.detectChanges()}},{key:"getRowCount",value:function(){this.tableInfo.pageSize||(this.tableInfo.pageSize=20),this.rows=(this.pageCount+1)*this.tableInfo.pageSize,this.totalRecords>0&&this.totalRecords<this.rows&&(this.rows=this.totalRecords)}},{key:"getTime",value:function(e){return e.getTime()}},{key:"clearSearch",value:function(e,t,n){e.filter("",t,n)}},{key:"processSelectedTimeRange",value:function(e){this.serviceListStateService.timeRange=e,this.resetPager(),this.setChartData(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}},{key:"pieItemClicked",value:function(e){var t=e.label;if(this.serviceListStateService.tableFilters&&0!==this.serviceListStateService.tableFilters.length){for(var n=0;n<this.serviceListStateService.tableFilters.length;n++)if("statusSet"===this.serviceListStateService.tableFilters[n].filterBy){this.serviceListStateService.tableFilters[n].filterValue=[t];break}}else this.serviceListStateService.tableFilters=[],this.serviceListStateService.tableFilters.push({filterBy:"statusSet",filterValue:[t],label:"monitoring.services.service.status",type:"multiSelect",options:this.statusList});this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}},{key:"onFilterChange",value:function(e){if(this.serviceListStateService.tableFilters&&0!==this.serviceListStateService.tableFilters.length){for(var t=0;t<this.serviceListStateService.tableFilters.length;t++)if(this.serviceListStateService.tableFilters[t].filterBy===e.filterBy){this.serviceListStateService.tableFilters[t]=f.CommonUtil.cloneObject(e);break}}else this.serviceListStateService.tableFilters=[],this.serviceListStateService.tableFilters.push(e);this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}},{key:"onBasicFiltersReset",value:function(){for(var e=this.serviceListStateService.tableFilters.length-1;e>=0;--e){var t=this.serviceListStateService.tableFilters[e];t.filterBy==t.filterBy&&this.serviceListStateService.tableFilters.splice(e,1)}this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}},{key:"onClearFilter",value:function(e){for(var t=0;t<this.serviceListStateService.tableFilters.length;t++){var n=this.serviceListStateService.tableFilters[t];if(n.filterBy===e.filterBy){if("customData"===e.filterBy)n=e;else if("statusSet"===e.filterBy){if(this.filterTags&&this.filterTags.length>0){for(var i=0,a=0;a<this.filterTags.length;a++)if("statusSet"===this.filterTags[a].filterBy&&this.filterTags[a].filterValue===e.filterValue){i=a;break}if(i>-1&&this.filterTags.splice(i,1),this.serviceListStateService.tableFilters&&this.serviceListStateService.tableFilters.length>0)for(var c=0;c<this.serviceListStateService.tableFilters.length;c++)if("statusSet"===this.serviceListStateService.tableFilters[c].filterBy){if(this.serviceListStateService.tableFilters[c].filterValue&&this.serviceListStateService.tableFilters[c].filterValue.length>0){for(var r=-1,o=0;o<this.serviceListStateService.tableFilters[c].filterValue.length;o++)if(this.serviceListStateService.tableFilters[c].filterValue[o]===e.filterValue){r=o;break}r>-1&&this.serviceListStateService.tableFilters[c].filterValue.splice(r,1)}break}return void this.getFilteredServiceList(this.serviceListStateService.tableFilters)}}else this.serviceListStateService.tableFilters.splice(t,1);break}}this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}},{key:"onClearAllFilters",value:function(){this.serviceListStateService.tableFilters=[],this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}},{key:"onBasicFiltersApply",value:function(e){this.serviceListStateService.tableFilters||(this.serviceListStateService.tableFilters=[]);for(var t=0;t<e.length;t++){for(var n=e[t],i=!1,a=0;a<this.serviceListStateService.tableFilters.length;a++)if(this.serviceListStateService.tableFilters[a].filterBy===n.filterBy){this.serviceListStateService.tableFilters[a]=n,i=!0;break}i||this.serviceListStateService.tableFilters.push(f.CommonUtil.cloneObject(n))}this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}},{key:"updateFilterTags",value:function(){this.resetPager();var e=[];this.serviceListStateService.tableFilters||(this.serviceListStateService.tableFilters=[]);for(var t=0;t<this.serviceListStateService.tableFilters.length;t++){var n=this.serviceListStateService.tableFilters[t];"statusSet"===n.filterBy&&n.filterValue?(this.updateDisplayvalueForStatus(n).forEach(function(t){e.push(t)}),this.filterTags=e):null==n.filterDisplayValue&&(n.filterDisplayValue=n.filterValue),null!==n.filterValue&&"statusSet"!==n.filterBy&&e.push(n)}this.filterTags=e}},{key:"updateDisplayvalueForStatus",value:function(e){for(var t=[],n=0;n<e.filterValue.length;n++)for(var i=e.filterValue[n],a=0;a<this.statusList.length;a++){var c=this.statusList[a];if(c.value===i){t.push({filterBy:"statusSet",filterValue:c.value,label:e.label,type:"text",filterDisplayValue:c.label});break}}return t}},{key:"getDefaultBasicSearchTableFilters",value:function(){return[{filterBy:"statusSet",filterValue:null,label:"monitoring.services.service.status",type:"multiSelect",options:this.statusList},{filterBy:"serviceName",filterValue:null,label:"monitoring.services.service.name1",type:"text",isISService:!0}]}},{key:"initTableFilters",value:function(){this.serviceListStateService.tableFilters||(this.serviceListStateService.tableFilters=[])}},{key:"initSearchQuery",value:function(){this.serviceListStateService.serviceSearchQuery||(this.serviceListStateService.serviceSearchQuery=this.getDefaultServiceSearchQuery())}},{key:"getDefaultServiceSearchQuery",value:function(){return this.serviceListStateService.tableFilters||(this.serviceListStateService.tableFilters=[]),{searchTerms:null,tableFilters:this.serviceListStateService.tableFilters,logFields:null,status:null,rootLevelServiceOnly:!1,andQuery:!0}}},{key:"onAdvancedSearchApply",value:function(e){this.serviceListStateService.serviceSearchQuery=e;for(var t=this.serviceListStateService.serviceSearchQuery.searchTerms,n=[],i=0;i<t.length;i++){var a=t[i];if(a.value){var c=Wa.getSearchField(a.field),r={filterBy:c.name,filterValue:a.value,label:c.label,type:c.type,options:this.statusList,filterDisplayValue:c.value};r.filterValue&&n.push(r)}}for(var o=new Array,s=0;s<this.serviceListStateService.serviceSearchQuery.logFields.length;s++){var l=this.serviceListStateService.serviceSearchQuery.logFields[s];l.field&&l.operator&&o.push(l)}o.length>0&&n.push({filterBy:"customData",filterValue:o,label:"customData",type:"condition",filterDisplayValue:o}),n.push({filterBy:"statusSet",filterValue:this.serviceListStateService.serviceSearchQuery.status,label:"monitoring.services.service.status",type:"multiSelect",options:this.statusList}),this.serviceListStateService.serviceSearchQuery.rootLevelServiceOnly&&n.push({filterBy:"topLevelOnly",filterValue:this.serviceListStateService.serviceSearchQuery.rootLevelServiceOnly,label:"monitoring.services.rootLevelServicesOnly",type:"boolean"}),this.serviceListStateService.serviceSearchQuery.andQuery||n.push({filterBy:"isAnd",filterValue:this.serviceListStateService.serviceSearchQuery.andQuery,label:"common.labels.SearchCondition",filterDisplayValue:this.translate.instant("common.labels.or"),type:"boolean"}),this.serviceListStateService.tableFilters=n,this.updateFilterTags(),this.getFilteredServiceList(n)}},{key:"onAdvancedSearchReset",value:function(e){this.serviceListStateService.serviceSearchQuery=e,this.serviceListStateService.tableFilters=[],this.updateFilterTags(),this.getFilteredServiceList(this.serviceListStateService.tableFilters)}},{key:"toggleFullScreen",value:function(e){this.serviceListStateService.fullScreenTable?(e.classList.remove("dlt-icon-fullscreen-exit"),e.classList.add("dlt-icon-fullscreen"),e.parentElement.title=this.translate.instant("common.showFullScreen")):(e.classList.remove("dlt-icon-fullscreen"),e.classList.add("dlt-icon-fullscreen-exit"),e.parentElement.title=this.translate.instant("common.exitFullScreen")),this.serviceListStateService.fullScreenTable=!this.serviceListStateService.fullScreenTable}},{key:"showBasicFilter",value:function(){this.serviceListStateService.basicSearchFilters=this.getDefaultBasicSearchTableFilters();for(var e=0;e<this.serviceListStateService.tableFilters.length;e++){var t=this.serviceListStateService.tableFilters[e];"statusSet"===t.filterBy&&t.filterValue?this.serviceListStateService.basicSearchFilters[0].filterValue=t.filterValue:"serviceName"===t.filterBy&&t.filterValue&&(this.serviceListStateService.basicSearchFilters[1].filterValue=t.filterValue)}}},{key:"showAdvancedSearch",value:function(){this.serviceListStateService.serviceSearchQuery=this.getDefaultServiceSearchQuery()}},{key:"truncateLogfieldKeys",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];if("customData"===n.filterBy&&n.filterValue){for(var i=new Array,a=0;a<n.filterValue.length;a++){var c=n.filterValue[a];i.push({n:c.field,o:c.operator.value,v:c.value})}n.filterValue=i}}}},{key:"onKeydownEnter",value:function(e){this.router.navigateByUrl("/monitoring/service/"+e)}},{key:"ngOnDestroy",value:function(){this.subs.forEach(function(e){return e.unsubscribe()}),this.destroyed$.next(!0),this.destroyed$.complete()}},{key:"handleKeydown",value:function(e){27===e.keyCode?this.tablePrefsOverlay&&this.tablePrefsOverlay.hide():13===e.keyCode&&e.target&&"showColumns"===e.target.id&&this.tablePrefsOverlay&&this.tablePrefsOverlay.hide()}},{key:"showTablePrefs",value:function(e){var t=this;setTimeout(function(){t.tablePrefs.setFocus()},10)}},{key:"onRowUnselect",value:function(e){e&&"checkbox"===e.type&&e.data&&e.data.CONTEXTID&&(this.selectedContextIDs=this.selectedContextIDs.filter(function(t){return t!==e.data.CONTEXTID}))}},{key:"onRowSelect",value:function(e){e&&"checkbox"===e.type&&e.data&&e.data.CONTEXTID&&this.selectedContextIDs.push(e.data.CONTEXTID)}},{key:"onHeaderCheckboxToggle",value:function(t){if(t&&(this.selectedContextIDs=new Array,t.checked)){var n,i=e(this.serviceExecutions);try{for(i.s();!(n=i.n()).done;){var a=n.value;this.selectedContextIDs.push(a.CONTEXTID)}}catch(c){i.e(c)}finally{i.f()}}}},{key:"resubmitServices",value:function(){var e=this;this.serviceAPIService.resubmitServices(this.selectedContextIDs).subscribe(function(t){t&&t.message&&t.message.length>0&&t.resubmittedServices&&t.resubmittedServices.length>0&&e.toastr.success(e.translate.instant("monitoring.services.multiple.service.resubmit.success.msg",{msg:t.message}),e.translate.instant("monitoring.services.multiple.service.resubmit.success.title")),e.refreshServiceList()},function(t){var n=Object(y.K)(t,e.translate);e.toastr.error(n,e.translate.instant("monitoring.services.multiple.service.resubmit.failed.title"))})}},{key:"goToHomePage",value:function(){this.router.navigateByUrl(this.homeLink)}},{key:"getStatus",value:function(e){return"Completed"===e?this.translate.instant("monitoring.services.service.status.completed"):"Failed"===e?this.translate.instant("monitoring.services.service.status.failed"):"Started"===e?this.translate.instant("monitoring.services.service.status.started"):"Resubmitted"===e?this.translate.instant("monitoring.services.service.status.resubmitted"):e}},{key:"showHelp",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||Jc)(b.Zb(Ni),b.Zb(f.TableSettingsService),b.Zb(d.d),b.Zb(y.A),b.Zb(Ka),b.Zb(m.e),b.Zb(O.b),b.Zb(f.DateTimeService),b.Zb(b.h),b.Zb(f.PreferencesService))},Jc.\u0275cmp=b.Tb({type:Jc,selectors:[["app-service-list"]],viewQuery:function(e,t){var n;1&e&&(b.hd(uc,1),b.hd(hc,1),b.hd(fc,1)),2&e&&(b.Oc(n=b.qc())&&(t.isMonSvcExeTable=n.first),b.Oc(n=b.qc())&&(t.tablePrefs=n.first),b.Oc(n=b.qc())&&(t.tablePrefsOverlay=n.first))},hostBindings:function(e,t){1&e&&b.pc("keydown",function(e){return t.handleKeydown(e)},!1,b.Qc)},decls:13,vars:8,consts:[[1,"breadcrumbs-container"],["aria-label","breadcrumb",1,"dlt-breadcrumbs"],["routerLink","/integration/dashboard/overview","tabindex","0",1,"dlt-links"],["aria-current","page",1,"dlt-links"],[4,"ngIf","ngIfElse"],["monitorUnavailableTemplate",""],[1,"svclistcontainer"],[1,"row"],[1,"col","page-title"],[1,"d-flex","col","justify-content-end",2,"min-width","615px"],[3,"timeRange","refreshInterval","isCustomTimeRange","alignSelector","showRefresh","showAutoRefresh","onSelectTimeRange","onRefreshContent","onRefreshIntervalChanged"],[1,"chartContainerSvc",3,"ngClass"],[1,"row","chart-row"],[1,"col-4"],[1,"header"],[2,"padding-left","10px"],["class","row",4,"ngIf"],[4,"ngIf"],[1,"col-8"],[3,"chartno","data","columnKeyColorArray","heightInput","chartXAxisTitle",4,"ngIf"],[1,"col-5"],[3,"data","heightInput","pieItemClicked"],[1,"col-7","border-right"],[3,"data","heightInput","legendItemClicked"],[1,"donutInfo"],["src","assets/images/svgs/Chart-info-icon.svg",2,"width","16px","height","16px",3,"alt"],[3,"chartno","data","columnKeyColorArray","heightInput","chartXAxisTitle"],["appendTo","body",3,"showTransitionOptions","hideTransitionOptions"],["tablePrefsOverlay",""],["tablePrefs",""],[1,"dlt-data-table-container"],["width","100%"],[2,"vertical-align","top","margin-top","0.0rem","margin-bottom","0.0rem"],[1,"dlt-table-header"],[1,"dlt-data-table-title"],[1,"dlt-table-toolbar"],[1,"dlt-toolbar-content"],[2,"display","inline-flex"],[1,"dlt-dropdown"],["showDelay","250","tooltipPosition","left","tabindex","0",1,"dlt-button","dlt-button-icon","btn-1","tb-vert",3,"pTooltip","click"],[1,"dlt-icon-settings","dlg-icon-btn","dlt-icon"],["showDelay","250","tabindex","0","tooltipPosition","left",1,"dlt-button","dlt-button-icon","btn-1","tb-vert",3,"pTooltip","click"],[1,"dlt-icon-fullscreen","dlg-icon-btn","dlt-icon"],["expandTable",""],["tabindex","0",1,"dlt-button","dlt-button-primary","xs-button",3,"disabled","click"],[1,"dlt-table-wrapper"],["class","dlt-inline warn-border",4,"ngIf"],["sortMode","single","sortOrder","-1","dataKey","CONTEXTID",3,"ngClass","columns","value","paginator","rows","totalRecords","rowsPerPageOptions","paginatorDropdownAppendTo","lazy","lazyLoadOnInit","selection","first","showPageLinks","showJumpToPageDropdown","onLazyLoad","selectionChange","onRowUnselect","onRowSelect","onHeaderCheckboxToggle","firstChange"],["isMonSvcExeTable",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorleft"],[1,"filterCell"],[2,"margin-right","10px"],["tabindex","0",1,"dlt-button","dlt-button-primary","xs-button","searchButton",3,"click"],["tabindex","0",1,"dlt-button","dlt-button-secondary","xs-button","searchButton",3,"click"],[3,"styleClass","tableFilters","onFiltersReset","onFiltersApply","onFilterChange"],["filterOverlayPanel",""],[3,"serviceSearchQuery","serviceStatusList","onAdvancedSearchApply","onAdvancedSearchReset"],["advancedSearchOverlayPanel",""],[3,"filterTags","onClearAll","onClearFilter"],[1,"dlt-inline","warn-border"],[1,"dlg-title-wrapper"],[1,"dlt-icon-warning","warn-icon"],[1,"inline-message"],["showDelay","250",1,"dlt-icon-close","close-icon","closeWarning",3,"pTooltip","click"],[1,"tableHeaderSelectAll"],["id","headerCheckbox"],["headerCheckbox",""],[4,"ngFor","ngForOf"],["tooltipPosition","top",3,"pSortableColumn","ngStyle","pTooltip",4,"ngIf"],["tooltipPosition","top",3,"pSortableColumn","ngStyle","pTooltip"],[1,"table-header-title","width-100-percentage"],[1,"width-55-percentage","m-pull-top-point-7"],["ariaLabel","'common.table.column.sort'|translate","ariaLabelDesc","'common.table.column.sort.descending'|translate","ariaLabelAsc","'common.table.column.sort.ascending'|translate",3,"field"],[1,"table-data","centerAlignText"],[3,"pSelectableRow","keydown.enter"],[1,"selection-checkbox",2,"color","#000"],[3,"value"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["showDelay","250","tooltipPosition","top",3,"pTooltip","routerLink",4,"ngIf"],["showDelay","250","tooltipPosition","top",3,"pTooltip",4,"ngIf"],["showDelay","250","tooltipPosition","top",3,"pTooltip","routerLink"],[1,"firstPart"],[1,"lastPart"],["showDelay","250","tooltipPosition","top",3,"pTooltip"],[1,"firstPart","firstPart0"],[1,"lastPart","lastPart0"],["class","no-items-todisplay",4,"ngIf"],[1,"no-items-todisplay"],[1,"table-data"],["noItemsTemplate",""],[1,"monitoringUnavailable"],[1,"monitoringUnavailableEnsure"],["class","monitoringErrorInfoLabel",4,"ngIf"],["class","monitoringErrorInfoMsg",4,"ngIf"],[1,"monitoringErrorInfoLabel"],[1,"monitoringErrorInfoMsg"]],template:function(e,t){if(1&e&&(b.fc(0,"div",0),b.fc(1,"ol",1),b.fc(2,"li"),b.fc(3,"a",2),b.bd(4),b.uc(5,"translate"),b.ec(),b.ec(),b.fc(6,"li"),b.fc(7,"a",3),b.bd(8),b.uc(9,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.Zc(10,Uc,27,25,"ng-container",4),b.Zc(11,Xc,21,20,"ng-template",null,5,b.ad)),2&e){var n=b.Pc(12);b.Lb(4),b.cd(b.vc(5,4,"masthead.administration")),b.Lb(4),b.cd(b.vc(9,6,"monitoring.services.tab")),b.Lb(2),b.Ac("ngIf",t.isChartDataAvailable)("ngIfElse",n)}},directives:[m.h,g.n,f.DateTimerangePanelComponent,g.l,cn,sn,un,hn.a,f.TablePreferencesComponent,_.a,fn.h,D.j,f.FilterOverlayPanelComponent,dc,f.FilterTagsComponent,fn.j,g.m,fn.g,g.o,fn.f,fn.e,fn.i],pipes:[d.c,y.E,y.F,y.g,y.h,y.t],styles:[".breadcrumbs-container[_ngcontent-%COMP%]{padding-top:.8rem;margin-left:2px}.rightSideFixedcontainer[_ngcontent-%COMP%]{padding-top:.8rem;margin-right:25px}.svclistcontainer[_ngcontent-%COMP%]{width:100%;height:100%;padding:1rem 1rem 1rem 1.26rem;overflow:auto}.page-title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-left:-.36rem;font-family:Roboto,Helvetica,Arial,sans-serif;white-space:nowrap;overflow:none;min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content}.page-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.serviceExecution-table[_ngcontent-%COMP%]{margin:10px}.service-table-wrapper[_ngcontent-%COMP%]{padding:5px}.data-table-title[_ngcontent-%COMP%]{font-weight:500;font-size:1.25rem;color:#333;position:relative;display:flex;line-height:2rem;white-space:nowrap}.serviceExecution-table[_ngcontent-%COMP%]   .table-toolbar[_ngcontent-%COMP%]{display:flex;width:100%;height:2rem;align-items:flex-end;justify-content:flex-end}.serviceExecution-table[_ngcontent-%COMP%]   .dlt-form-group[_ngcontent-%COMP%]{max-width:300px}.serviceExecution-table[_ngcontent-%COMP%]   .xs-button[_ngcontent-%COMP%]{line-height:1.75rem;margin:2px 10px 2px 0}.serviceExecution-table[_ngcontent-%COMP%]   .dlt-dropdown[_ngcontent-%COMP%]{line-height:2rem;margin:0 10px 0 0}.serviceExecution-table[_ngcontent-%COMP%]   .dlt-button-icon[_ngcontent-%COMP%]{height:1.75rem!important;width:1.75rem!important}.dashed-line[_ngcontent-%COMP%]{border-top:1px dashed #cccccb}.row1[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-left:-15px;padding-top:22px}.padding-right-10[_ngcontent-%COMP%]{padding-top:10px}.padding-top-5[_ngcontent-%COMP%]{padding-top:5px}.padding-bottom-20[_ngcontent-%COMP%]{padding-bottom:20px}.padding-bottom-30[_ngcontent-%COMP%]{padding-bottom:30px}.margin-left-right-10[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px}.tableHeaderSelectAll[_ngcontent-%COMP%]{width:3em;padding-left:.9em}.hidden[_ngcontent-%COMP%]{display:none}.legend-panel[_ngcontent-%COMP%]{background:#fff none repeat scroll 0 0;height:auto;position:absolute;right:20px;top:60px}.panel[_ngcontent-%COMP%]{margin-top:27px!important;border:1px solid #cccccb;padding:0 10px}.padding-top-30[_ngcontent-%COMP%]{padding-top:30px}.chartContainerSvc[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.row.chart-row[_ngcontent-%COMP%]{box-shadow:0 2px 8px 0 rgba(0,0,0,.15);border:1px solid #dadada;background-color:#fff;margin-bottom:20px;margin-top:10px}.header[_ngcontent-%COMP%]{color:#666;padding-left:2px;padding-right:2px;margin-bottom:0;padding-top:10px}.margin-bottom[_ngcontent-%COMP%]{margin-bottom:20px}.donutInfo[_ngcontent-%COMP%]{color:#666;padding-top:0;padding-bottom:10px;padding-left:10px;font-size:.7rem}.dlt-icon-fullscreen[_ngcontent-%COMP%]:before{content:url(Expand-dialog-vec18.4ec93a215fa9f4638f8b.svg)}.dlt-icon-fullscreen-exit[_ngcontent-%COMP%]:before{content:url(Collapse-dialog-vec18.c764bb320fbb6335e037.svg)}.dlt-inline[_ngcontent-%COMP%]{width:100%;margin-top:10px}.monitoringUnavailable[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-top:2rem}.monitoringUnavailable[_ngcontent-%COMP%], .monitoringUnavailableEnsure[_ngcontent-%COMP%]{width:100%;margin-left:2rem;margin-right:2rem;padding-right:2rem;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringUnavailableEnsure[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;font-weight:400}.monitoringErrorInfoLabel[_ngcontent-%COMP%]{font-weight:500;margin-top:1rem;margin-left:3rem;margin-right:3rem;padding-right:3rem}.monitoringErrorInfoLabel[_ngcontent-%COMP%], .monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;width:100%;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-weight:400;margin-left:4rem;margin-right:4rem;padding-right:4rem}.firstPart0[_ngcontent-%COMP%], .lastPart0[_ngcontent-%COMP%]{color:#000}firstPart[_ngcontent-%COMP%], lastPart[_ngcontent-%COMP%]{color:#34d!important}.dlt-icon-tbl[_ngcontent-%COMP%]{width:40px}.filterCell[_ngcontent-%COMP%]{margin-top:0}.closeWarning[_ngcontent-%COMP%]{cursor:pointer}.side-panel-collapse-icon[_ngcontent-%COMP%]{font-size:24px;line-height:48px}.post-short-meta-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-wrap:wrap;align-items:center}.searchButton[_ngcontent-%COMP%]{display:inline!important}.tb-vert[_ngcontent-%COMP%]{width:2rem!important;height:2rem!important}"]}),Jc);new p.e({"Content-Type":"application/json"});var Yc,er=((Yc=function(){function t(e,i,a){var c=this;n(this,t),this.http=e,this.translateService=i,this.preferencesService=a,this.dataManagementUrl="/admin/monitor",a.getLocaleInfo().subscribe(function(e){c.localeInfo=e})}return a(t,[{key:"getArchiveInfo",value:function(){return this.http.get(this.dataManagementUrl+"/archive/info")}},{key:"getArchiveResults",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"CTRL_INSERT_DT",i=arguments.length>3?arguments[3]:void 0,a=this.dataManagementUrl+"/archive/results",c=(new p.f).set("pageNumber",e).set("pageSize",t).set("sortColumn",n).set("sortAscending",i);return this.http.get(a,{params:c})}},{key:"archiveDelete",value:function(t,n,i,a,c,r){var o=this.dataManagementUrl+"/archive?archiveAction="+t;n&&(o=o+"&days="+n),i&&(o=o+"&todate="+i),a&&(o=o+"&batchSize="+a),c&&(o=o+"&status="+c),o=o+"&region="+encodeURIComponent(this.localeInfo.timeZone);var s,l="",d=e(r);try{for(d.s();!(s=d.n()).done;)l=l+"&dataTypes[]="+s.value}catch(u){d.e(u)}finally{d.f()}return o+=l,this.http.post(o,{})}},{key:"getMonitorStatus",value:function(){return this.http.get("/admin/monitor/status")}},{key:"log",value:function(e){b.fb&&console.log("ServiceApiService: ".concat(e))}}]),t}()).\u0275fac=function(e){return new(e||Yc)(b.mc(p.b),b.mc(d.d),b.mc(f.PreferencesService))},Yc.\u0275prov=b.Vb({token:Yc,factory:Yc.\u0275fac,providedIn:"root"}),Yc),tr=c("VhXZ"),nr=c("c/fn"),ir=["tablePrefs1"],ar=["tablePrefs2"],cr=["archiveInfoCard"],rr=["archiveHistCard"];function or(e,t){if(1&e&&(b.fc(0,"div",79),b.bd(1),b.uc(2,"preferredDateTime"),b.ec()),2&e){var n=b.tc(4);b.Lb(1),b.dd(" ",b.xc(2,1,n.dateDVal,n.preferencesService,n.dateTimePreferenceService)," ")}}function sr(e,t){if(1&e&&(b.fc(0,"div",80),b.bd(1),b.uc(2,"preferredDateTime"),b.ec()),2&e){var n=b.tc(4);b.Lb(1),b.dd(" ",b.xc(2,1,n.dateDVal,n.preferencesService,n.dateTimePreferenceService)," ")}}var lr=function(){return{"min-width":"150px"}};function dr(e,t){if(1&e){var n=b.gc();b.fc(0,"div",20),b.fc(1,"div",21),b.fc(2,"div",22),b.fc(3,"isac-lib-simple-card",23),b.uc(4,"translate"),b.ac(5,"hr",24),b.fc(6,"div"),b.fc(7,"fieldset"),b.fc(8,"table",25),b.ac(9,"col",26),b.ac(10,"col",27),b.ac(11,"col",28),b.fc(12,"tr"),b.fc(13,"td",29),b.fc(14,"div",30),b.fc(15,"div",31),b.fc(16,"div",32),b.fc(17,"input",33,34),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc(3).daysToRetainOption=e}),b.uc(19,"translate"),b.ec(),b.fc(20,"label",35),b.bd(21),b.uc(22,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(23,"td"),b.fc(24,"div",36),b.fc(25,"input",37),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc(3).numDaysRetainVal=e}),b.uc(26,"translate"),b.uc(27,"translate"),b.ec(),b.fc(28,"div",38),b.fc(29,"button",39),b.uc(30,"translate"),b.uc(31,"translate"),b.ac(32,"i",40),b.ec(),b.fc(33,"button",41),b.uc(34,"translate"),b.uc(35,"translate"),b.ac(36,"i",42),b.ec(),b.ec(),b.ec(),b.ec(),b.ac(37,"td"),b.ec(),b.fc(38,"tr"),b.fc(39,"td",29),b.fc(40,"div",30),b.fc(41,"div",31),b.fc(42,"div",32),b.fc(43,"input",43,44),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc(3).daysToRetainOption=e}),b.uc(45,"translate"),b.ec(),b.fc(46,"label",45),b.bd(47),b.uc(48,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(49,"td",46),b.Zc(50,or,3,5,"div",47),b.Zc(51,sr,3,5,"div",48),b.ec(),b.fc(52,"td",46),b.fc(53,"button",49),b.pc("showDaterangepicker",function(e){return b.Rc(n),b.tc(3).showDaterangepicker(e)})("applyDaterangepicker",function(e){return b.Rc(n),b.tc(3).applyDaterangepicker(e)}),b.uc(54,"translate"),b.uc(55,"translate"),b.ac(56,"i",50),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(57,"div",21),b.fc(58,"div",22),b.fc(59,"isac-lib-simple-card",23),b.uc(60,"translate"),b.ac(61,"hr",24),b.fc(62,"div",51),b.fc(63,"div",52),b.fc(64,"table",53),b.ac(65,"col",26),b.ac(66,"col",26),b.ac(67,"col",54),b.ac(68,"col",26),b.fc(69,"tr"),b.fc(70,"td",55),b.fc(71,"div",56),b.fc(72,"input",57,58),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc(3).servicesChecked=e})("change",function(e){return b.Rc(n),b.tc(3).servicesChkChanged(e)}),b.ec(),b.fc(74,"label",59,60),b.bd(76),b.uc(77,"translate"),b.ec(),b.ec(),b.ec(),b.fc(78,"td"),b.fc(79,"p-dropdown",61,62),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc(3).servicesDataTypeVal=e}),b.uc(81,"translate"),b.uc(82,"translate"),b.ec(),b.ec(),b.ac(83,"td"),b.ac(84,"td"),b.ec(),b.fc(85,"tr"),b.fc(86,"td",55),b.fc(87,"div",56),b.fc(88,"input",63),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc(3).documentsChecked=e})("change",function(e){return b.Rc(n),b.tc(3).documentsChkChanged(e)}),b.ec(),b.fc(89,"label",64,65),b.bd(91),b.uc(92,"translate"),b.ec(),b.ec(),b.ec(),b.ac(93,"td"),b.ac(94,"td"),b.ac(95,"td"),b.ec(),b.fc(96,"tr"),b.fc(97,"td",66),b.fc(98,"div",56),b.fc(99,"input",67),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc(3).serverDataChecked=e})("change",function(e){return b.Rc(n),b.tc(3).serverDataChkChanged(e)}),b.ec(),b.fc(100,"label",68),b.bd(101),b.uc(102,"translate"),b.ec(),b.ec(),b.ec(),b.ac(103,"td"),b.fc(104,"td",69),b.fc(105,"label",70),b.bd(106),b.uc(107,"translate"),b.ec(),b.ec(),b.fc(108,"td",71),b.fc(109,"div",36),b.fc(110,"input",72),b.pc("ngModelChange",function(e){return b.Rc(n),b.tc(3).archivingBatchSize=e}),b.uc(111,"translate"),b.ec(),b.fc(112,"div",38),b.fc(113,"button",73),b.uc(114,"translate"),b.uc(115,"translate"),b.ac(116,"i",40),b.ec(),b.fc(117,"button",74),b.uc(118,"translate"),b.uc(119,"translate"),b.ac(120,"i",42),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(121,"div",75),b.fc(122,"button",76),b.pc("click",function(){return b.Rc(n),b.tc(3).archive()}),b.uc(123,"translate"),b.uc(124,"translate"),b.bd(125),b.uc(126,"translate"),b.ec(),b.fc(127,"button",77),b.pc("click",function(){return b.Rc(n),b.tc(3).archive(!0)}),b.uc(128,"translate"),b.uc(129,"translate"),b.bd(130),b.uc(131,"translate"),b.ec(),b.ec(),b.ac(132,"hr",78),b.ec()}if(2&e){var i=b.tc(3);b.Lb(3),b.Bc("label",b.vc(4,53,"monitoring.archive.retention.time.period")),b.Lb(14),b.Ac("ngModel",i.daysToRetainOption),b.Mb("aria-label",b.vc(19,55,"monitoring.archive.retain.number.of.days")),b.Lb(4),b.cd(b.vc(22,57,"monitoring.archive.retain.number.of.days")),b.Lb(3),b.Mb("disabled","retenPd"===i.daysToRetainOption?"disabled":""),b.Lb(1),b.Bc("pTooltip",b.vc(27,61,"monitoring.archive.retain.number.of.days")),b.Ac("ngModel",i.numDaysRetainVal)("disabled","retenPd"===i.daysToRetainOption),b.Mb("aria-label",b.vc(26,59,"monitoring.archive.retain.number.of.days")),b.Lb(4),b.Bc("pTooltip",b.vc(31,65,"common.spinner.increase")),b.Ac("disabled","retenPd"===i.daysToRetainOption),b.Mb("aria-label",b.vc(30,63,"common.spinner.increase")),b.Lb(4),b.Bc("pTooltip",b.vc(35,69,"common.spinner.decrease")),b.Ac("disabled","retenPd"===i.daysToRetainOption),b.Mb("aria-label",b.vc(34,67,"common.spinner.decrease")),b.Lb(10),b.Ac("ngModel",i.daysToRetainOption),b.Mb("aria-label",b.vc(45,71,"monitoring.archive.retention.period.start.date")),b.Lb(4),b.cd(b.vc(48,73,"monitoring.archive.retention.period.start.date")),b.Lb(3),b.Ac("ngIf","numDays"===i.daysToRetainOption),b.Lb(1),b.Ac("ngIf","numDays"!=i.daysToRetainOption),b.Lb(2),b.Bc("pTooltip",b.vc(54,75,"monitoring.archive.calendar.selection")),b.Ac("options",i.dateOptions)("disabled","numDays"===i.daysToRetainOption),b.Mb("aria-label",b.vc(55,77,"monitoring.archive.calendar.selection")),b.Lb(6),b.Bc("label",b.vc(60,79,"monitoring.archive.data.types")),b.Lb(13),b.Ac("ngModel",i.servicesChecked),b.Lb(4),b.dd(" ",b.vc(77,81,"monitoring.archive.data.type.services")," "),b.Lb(3),b.Wc(b.Fc(115,lr)),b.Bc("pTooltip",b.vc(81,83,"monitoring.archive.service.status.tooltip")),b.Ac("options",i.serviceTypeVals)("ngModel",i.servicesDataTypeVal)("disabled",!i.servicesChecked),b.Mb("aria-label",b.vc(82,85,"monitoring.archive.service.status.tooltip")),b.Lb(9),b.Ac("ngModel",i.documentsChecked),b.Lb(3),b.dd(" ",b.vc(92,87,"monitoring.archive.data.type.documents")," "),b.Lb(8),b.Ac("ngModel",i.serverDataChecked),b.Lb(2),b.cd(b.vc(102,89,"monitoring.archive.data.type.server.data")),b.Lb(5),b.dd(" ",b.vc(107,91,"monitoring.archive.archiving.batch.size")," "),b.Lb(4),b.Ac("ngModel",i.archivingBatchSize),b.Mb("aria-label",b.vc(111,93,"monitoring.archive.archiving.batch.size")),b.Lb(3),b.Bc("pTooltip",b.vc(115,97,"common.spinner.increase")),b.Mb("aria-label",b.vc(114,95,"common.spinner.increase")),b.Lb(4),b.Bc("pTooltip",b.vc(119,101,"common.spinner.decrease")),b.Mb("aria-label",b.vc(118,99,"common.spinner.decrease")),b.Lb(5),b.Bc("pTooltip",b.vc(123,103,"monitoring.archive.archive.and.delete")),b.Ac("disabled",!i.servicesChecked&&!i.documentsChecked&&!i.serverDataChecked),b.Mb("aria-label",b.vc(124,105,"monitoring.archive.archive.and.delete")),b.Lb(3),b.dd(" ",b.vc(126,107,"monitoring.archive.archive.and.delete")," "),b.Lb(2),b.Bc("pTooltip",b.vc(128,109,"monitoring.archive.delete.only")),b.Ac("disabled",!i.servicesChecked&&!i.documentsChecked&&!i.serverDataChecked),b.Mb("aria-label",b.vc(129,111,"monitoring.archive.delete.only")),b.Lb(3),b.dd(" ",b.vc(131,113,"monitoring.archive.delete.only")," ")}}var ur=function(e,t){return{width:e,"text-align":t}};function hr(e,t){if(1&e&&(b.fc(0,"th",111),b.uc(1,"translate"),b.fc(2,"div",112),b.fc(3,"label",113),b.bd(4),b.uc(5,"translate"),b.ac(6,"p-sortIcon",114),b.ec(),b.ec(),b.ec()),2&e){var n=b.tc().$implicit;b.Bc("pTooltip",b.vc(1,5,n.header)),b.Ac("pSortableColumn",n.field)("ngStyle",b.Hc(9,ur,n.width,n.hdrAlign)),b.Lb(4),b.dd(" ",b.vc(5,7,n.header)," "),b.Lb(2),b.Ac("field",n.field)}}function fr(e,t){if(1&e&&(b.dc(0),b.Zc(1,hr,7,12,"th",110),b.cc()),2&e){var n=t.$implicit;b.Lb(1),b.Ac("ngIf",!n.hide)}}function gr(e,t){if(1&e&&(b.fc(0,"tr"),b.fc(1,"td",115),b.ac(2,"ac-loader"),b.ec(),b.ec()),2&e){var n=b.tc(5);b.Lb(1),b.Mb("colspan",n.archiveInfoTableInfo.tableColumnInfo.length)}}function pr(e,t){if(1&e&&(b.fc(0,"tr"),b.Zc(1,fr,2,1,"ng-container",108),b.ec(),b.Zc(2,gr,3,1,"tr",109)),2&e){var n=b.tc(4);b.Lb(1),b.Ac("ngForOf",n.archiveInfoTableInfo.tableColumnInfo),b.Lb(1),b.Ac("ngIf",n.fetchingInfoTableData)}}function vr(e,t){if(1&e&&(b.fc(0,"div",119),b.fc(1,"span",120),b.bd(2),b.ec(),b.ec()),2&e){var n=b.tc(2).$implicit,i=b.tc().$implicit;b.Bc("pTooltip",i[n.field]),b.Lb(2),b.cd(i[n.field])}}function mr(e,t){if(1&e&&(b.fc(0,"div",119),b.uc(1,"preferredDateTime"),b.fc(2,"span",120),b.bd(3),b.uc(4,"preferredDateTime"),b.ec(),b.ec()),2&e){var n=b.tc(2).$implicit,i=b.tc().$implicit,a=b.tc(4);b.Bc("pTooltip",b.xc(1,2,i[n.field],a.preferencesService,a.dateTimePreferenceService)),b.Lb(3),b.cd(b.xc(4,6,i[n.field],a.preferencesService,a.dateTimePreferenceService))}}function br(e,t){if(1&e&&(b.fc(0,"td",117),b.fc(1,"span"),b.Zc(2,vr,3,2,"div",118),b.Zc(3,mr,5,10,"div",118),b.ec(),b.ec()),2&e){var n=b.tc().$implicit;b.Ac("ngStyle",b.Hc(3,ur,n.width,n.cellAlign)),b.Lb(2),b.Ac("ngIf","EARLIEST"!=n.field&&"LATEST"!=n.field),b.Lb(1),b.Ac("ngIf","EARLIEST"==n.field||"LATEST"==n.field)}}function yr(e,t){if(1&e&&(b.dc(0),b.Zc(1,br,4,6,"td",116),b.cc()),2&e){var n=t.$implicit;b.Lb(1),b.Ac("ngIf",!n.hide)}}function Cr(e,t){if(1&e&&(b.fc(0,"tr"),b.Zc(1,yr,2,1,"ng-container",108),b.ec()),2&e){var n=b.tc(4);b.Lb(1),b.Ac("ngForOf",n.archiveInfoTableInfo.tableColumnInfo)}}function Sr(e,t){if(1&e&&(b.fc(0,"tr",122),b.fc(1,"td",115),b.bd(2),b.uc(3,"translate"),b.ec(),b.ec()),2&e){var n=b.tc(5);b.Lb(1),b.Mb("colspan",n.archiveInfoTableInfo.tableColumnInfo.length),b.Lb(1),b.dd(" ",b.vc(3,2,"common.table.no.items")," ")}}function xr(e,t){if(1&e&&b.Zc(0,Sr,4,4,"tr",121),2&e){var n=b.tc(4);b.Ac("ngIf",null!=n.archiveInfo)}}var Tr=function(){return{height:"100%"}},wr=function(e){return{zebrastripes:e}};function Lr(e,t){if(1&e){var n=b.gc();b.fc(0,"div",81),b.fc(1,"div",82),b.fc(2,"div"),b.fc(3,"div",83),b.fc(4,"isac-lib-simple-card",84,85),b.uc(6,"translate"),b.fc(7,"table",86),b.fc(8,"tr"),b.fc(9,"td",87),b.fc(10,"section",88),b.fc(11,"div",89),b.fc(12,"section",90),b.fc(13,"div",91),b.fc(14,"div",92),b.fc(15,"button",93),b.pc("click",function(e){b.Rc(n);var t=b.Pc(29),i=b.tc(3);return t.toggle(e),i.showTablePrefs1(e)}),b.uc(16,"translate"),b.uc(17,"translate"),b.ac(18,"i",94),b.ec(),b.ec(),b.fc(19,"div",95),b.fc(20,"button",93),b.pc("click",function(){b.Rc(n);var e=b.Pc(25);return b.tc(3).toggleFullScreenArchiveInfo(e)}),b.uc(21,"translate"),b.uc(22,"translate"),b.uc(23,"translate"),b.ac(24,"i",96,97),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(26,"div",82),b.fc(27,"div",98),b.fc(28,"p-overlayPanel",99,100),b.ac(30,"isac-lib-table-preferences",null,101),b.ec(),b.fc(32,"div",102),b.fc(33,"div",103),b.fc(34,"p-table",104),b.Zc(35,pr,3,2,"ng-template",105),b.Zc(36,Cr,2,1,"ng-template",106),b.Zc(37,xr,1,1,"ng-template",107),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec()}if(2&e){var i=b.tc(3);b.Lb(4),b.Bc("label",b.vc(6,14,"monitoring.archive.info.results")),b.Lb(11),b.Bc("pTooltip",b.vc(16,16,"common.table.settings")),b.Mb("aria-label",b.vc(17,18,"common.table.settings")),b.Lb(5),b.Bc("pTooltip",1==i.archiveInfoFullScreen?b.vc(21,20,"common.exitFullScreen"):b.vc(22,22,"common.showFullScreen")),b.Mb("aria-label",b.vc(23,24,"common.showFullScreen")),b.Lb(8),b.Ac("showTransitionOptions","0ms")("hideTransitionOptions","0ms"),b.Lb(6),b.Wc(b.Fc(26,Tr)),b.Bc("scrollHeight",i.archiveInfoScrollHeight),b.Ac("ngClass",b.Gc(27,wr,i.archiveInfoTableInfo.showZebraStripes))("columns",i.archiveInfoTableInfo.tableColumnInfo)("value",i.archiveInfo)("scrollable",!0)}}function kr(e,t){if(1&e&&(b.fc(0,"th",111),b.uc(1,"translate"),b.fc(2,"div",112),b.fc(3,"label",113),b.bd(4),b.uc(5,"translate"),b.ac(6,"p-sortIcon",114),b.ec(),b.ec(),b.ec()),2&e){var n=b.tc().$implicit;b.Bc("pTooltip",b.vc(1,5,n.header)),b.Ac("pSortableColumn",n.field)("ngStyle",b.Hc(9,ur,n.width,n.hdrAlign)),b.Lb(4),b.dd(" ",b.vc(5,7,n.header)," "),b.Lb(2),b.Ac("field",n.field)}}function Ir(e,t){if(1&e&&(b.dc(0),b.Zc(1,kr,7,12,"th",110),b.cc()),2&e){var n=t.$implicit;b.Lb(1),b.Ac("ngIf",!n.hide)}}function Mr(e,t){if(1&e&&(b.fc(0,"tr"),b.fc(1,"td",131),b.ac(2,"ac-loader"),b.ec(),b.ec()),2&e){var n=b.tc(5);b.Lb(1),b.Mb("colspan",n.archiveHistoryTableInfo.tableColumnInfo.length)}}function Or(e,t){if(1&e&&(b.fc(0,"tr"),b.Zc(1,Ir,2,1,"ng-container",108),b.ec(),b.Zc(2,Mr,3,1,"tr",109)),2&e){var n=b.tc(4);b.Lb(1),b.Ac("ngForOf",n.archiveHistoryTableInfo.tableColumnInfo),b.Lb(1),b.Ac("ngIf",n.fetchingHistTableData)}}function _r(e,t){if(1&e&&(b.fc(0,"div",119),b.fc(1,"span",120),b.bd(2),b.ec(),b.ec()),2&e){var n=b.tc(2).$implicit,i=b.tc().$implicit;b.Bc("pTooltip",i[n.field]),b.Lb(2),b.cd(i[n.field])}}function Pr(e,t){if(1&e&&(b.fc(0,"div",119),b.uc(1,"preferredDateTime"),b.fc(2,"span",120),b.bd(3),b.uc(4,"preferredDateTime"),b.ec(),b.ec()),2&e){var n=b.tc(2).$implicit,i=b.tc().$implicit,a=b.tc(4);b.Bc("pTooltip",b.xc(1,2,i[n.field],a.preferencesService,a.dateTimePreferenceService)),b.Lb(3),b.cd(b.xc(4,6,i[n.field],a.preferencesService,a.dateTimePreferenceService))}}function Dr(e,t){if(1&e&&(b.fc(0,"td",117),b.fc(1,"span"),b.Zc(2,_r,3,2,"div",118),b.Zc(3,Pr,5,10,"div",118),b.ec(),b.ec()),2&e){var n=b.tc().$implicit;b.Ac("ngStyle",b.Hc(3,ur,n.width,n.cellAlign)),b.Lb(2),b.Ac("ngIf","CTRL_INSERT_DT"!=n.field&&"CTRL_UPDATE_DT"!=n.field),b.Lb(1),b.Ac("ngIf","CTRL_INSERT_DT"==n.field||"CTRL_UPDATE_DT"==n.field)}}function Ar(e,t){if(1&e&&(b.dc(0),b.Zc(1,Dr,4,6,"td",116),b.cc()),2&e){var n=t.$implicit;b.Lb(1),b.Ac("ngIf",!n.hide)}}function Rr(e,t){if(1&e&&(b.fc(0,"tr"),b.Zc(1,Ar,2,1,"ng-container",108),b.ec()),2&e){var n=b.tc(4);b.Lb(1),b.Ac("ngForOf",n.archiveHistoryTableInfo.tableColumnInfo)}}function Er(e,t){if(1&e&&(b.fc(0,"tr",122),b.fc(1,"td",115),b.bd(2),b.uc(3,"translate"),b.ec(),b.ec()),2&e){var n=b.tc(5);b.Lb(1),b.Mb("colspan",n.archiveHistoryTableInfo.tableColumnInfo.length),b.Lb(1),b.dd(" ",b.vc(3,2,"common.table.no.items")," ")}}function Fr(e,t){if(1&e&&b.Zc(0,Er,4,4,"tr",121),2&e){var n=b.tc(4);b.Ac("ngIf",null!=n.archiveResults)}}var Br=function(e,t,n){return{first:e,rows:t,totalRecords:n}};function Nr(e,t){if(1&e&&(b.fc(0,"div"),b.bd(1),b.uc(2,"translate"),b.ec()),2&e){var n=b.tc(5);b.Lb(1),b.dd(" ",b.wc(2,1,"common.table.items.page.info",b.Ic(4,Br,n.archiveHistoryTableFirst,n.archiveHistoryTableRows,n.totalArchiveResultRecords))," ")}}function Hr(e,t){1&e&&(b.fc(0,"div"),b.bd(1),b.uc(2,"translate"),b.ec()),2&e&&(b.Lb(1),b.cd(b.vc(2,1,"common.table.zero.items")))}function Vr(e,t){if(1&e&&(b.Zc(0,Nr,3,8,"div",4),b.Zc(1,Hr,3,3,"ng-template",null,132,b.ad)),2&e){var n=b.Pc(2),i=b.tc(4);b.Ac("ngIf",i.totalArchiveResultRecords>0)("ngIfElse",n)}}var Zr=function(){return[20,40,60]};function jr(e,t){if(1&e){var n=b.gc();b.fc(0,"div",81),b.fc(1,"div",82),b.fc(2,"div"),b.fc(3,"div",123),b.fc(4,"isac-lib-simple-card",84,124),b.uc(6,"translate"),b.fc(7,"table",86),b.fc(8,"tr"),b.fc(9,"td",125),b.fc(10,"section",88),b.fc(11,"div",89),b.fc(12,"section",90),b.fc(13,"div",91),b.fc(14,"div",92),b.fc(15,"button",93),b.pc("click",function(e){b.Rc(n);var t=b.Pc(29),i=b.tc(3);return t.toggle(e),i.showTablePrefs2(e)}),b.uc(16,"translate"),b.uc(17,"translate"),b.ac(18,"i",94),b.ec(),b.ec(),b.fc(19,"div",95),b.fc(20,"button",93),b.pc("click",function(){b.Rc(n);var e=b.Pc(25);return b.tc(3).toggleFullScreenArchiveHistory(e)}),b.uc(21,"translate"),b.uc(22,"translate"),b.uc(23,"translate"),b.ac(24,"i",96,126),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.fc(26,"div",82),b.fc(27,"div",98),b.fc(28,"p-overlayPanel",99,127),b.ac(30,"isac-lib-table-preferences",null,128),b.ec(),b.fc(32,"div",102),b.fc(33,"div",103),b.fc(34,"p-table",129),b.pc("onLazyLoad",function(e){return b.Rc(n),b.tc(3).lazyLoadArchiveResults(e)}),b.Zc(35,Or,3,2,"ng-template",105),b.Zc(36,Rr,2,1,"ng-template",106),b.Zc(37,Fr,1,1,"ng-template",107),b.Zc(38,Vr,3,2,"ng-template",130),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.ec()}if(2&e){var i=b.tc(3);b.Lb(4),b.Bc("label",b.vc(6,22,"monitoring.archive.history")),b.Lb(11),b.Bc("pTooltip",b.vc(16,24,"common.table.settings")),b.Mb("aria-label",b.vc(17,26,"common.table.settings")),b.Lb(5),b.Bc("pTooltip",1==i.archiveHistoryFullScreen?b.vc(21,28,"common.exitFullScreen"):b.vc(22,30,"common.showFullScreen")),b.Mb("aria-label",b.vc(23,32,"common.showFullScreen")),b.Lb(8),b.Ac("showTransitionOptions","0ms")("hideTransitionOptions","0ms"),b.Lb(6),b.Wc(b.Fc(34,Tr)),b.Bc("scrollHeight",i.archiveHistoryScrollHeight),b.Ac("ngClass",b.Gc(35,wr,i.archiveHistoryTableInfo.showZebraStripes))("columns",i.archiveHistoryTableInfo.tableColumnInfo)("value",i.archiveResults)("paginator",!0)("rows",i.archiveHistoryTableInfo.pageSize)("totalRecords",i.totalArchiveResultRecords)("rowsPerPageOptions",b.Fc(37,Zr))("paginatorDropdownAppendTo","body")("lazy",!0)("scrollable",!0)("showPageLinks",!1)("showJumpToPageDropdown",!0)}}function zr(e,t){if(1&e&&(b.fc(0,"div",15),b.fc(1,"div",16),b.fc(2,"div",17),b.Zc(3,dr,133,116,"div",18),b.Zc(4,Lr,38,29,"div",19),b.Zc(5,jr,39,38,"div",19),b.ec(),b.ec(),b.ec()),2&e){var n=b.tc(2);b.Lb(3),b.Ac("ngIf",!n.archiveHistoryFullScreen&&!n.archiveInfoFullScreen),b.Lb(1),b.Ac("ngIf",!n.archiveHistoryFullScreen),b.Lb(1),b.Ac("ngIf",!n.archiveInfoFullScreen)}}function Ur(e,t){if(1&e){var n=b.gc();b.dc(0),b.fc(1,"div",6),b.fc(2,"div",7),b.fc(3,"table",8),b.fc(4,"tr"),b.fc(5,"td",9),b.fc(6,"h1"),b.bd(7),b.uc(8,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.ec(),b.Zc(9,zr,6,3,"div",10),b.ec(),b.fc(10,"p-confirmDialog",11,12),b.fc(12,"p-footer"),b.fc(13,"button",13),b.pc("click",function(){return b.Rc(n),b.Pc(11).accept()}),b.uc(14,"translate"),b.uc(15,"translate"),b.ec(),b.fc(16,"button",14),b.pc("click",function(){return b.Rc(n),b.Pc(11).reject()}),b.uc(17,"translate"),b.uc(18,"translate"),b.ec(),b.ec(),b.ec(),b.cc()}if(2&e){var i=b.tc();b.Lb(7),b.cd(b.vc(8,6,"monitoring.archive.archiving.and.removal")),b.Lb(2),b.Ac("ngIf",i.isLocalizationResourcesLoaded),b.Lb(4),b.Bc("label",b.vc(14,8,"common.yes.button.text")),b.Mb("aria-label",b.vc(15,10,"common.yes.button.text")),b.Lb(3),b.Bc("label",b.vc(17,12,"common.no.button.text")),b.Mb("aria-label",b.vc(18,14,"common.no.button.text"))}}function $r(e,t){1&e&&(b.fc(0,"div",137),b.bd(1),b.uc(2,"translate"),b.ec()),2&e&&(b.Lb(1),b.cd(b.vc(2,1,"monitoring.error.information")))}function Qr(e,t){if(1&e&&(b.fc(0,"div",138),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.cd(n.monitoringErrorInformation)}}function Kr(e,t){if(1&e&&(b.fc(0,"div",138),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.cd(n.monitoringErrorMessage1)}}function Wr(e,t){if(1&e&&(b.fc(0,"div",138),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.cd(n.monitoringErrorMessage2)}}function qr(e,t){if(1&e&&(b.fc(0,"div",138),b.bd(1),b.ec()),2&e){var n=b.tc(2);b.Lb(1),b.cd(n.monitoringErrorMessage3)}}function Xr(e,t){if(1&e&&(b.fc(0,"div",133),b.bd(1),b.uc(2,"translate"),b.ec(),b.fc(3,"ul"),b.fc(4,"li",134),b.bd(5),b.uc(6,"translate"),b.ec(),b.fc(7,"li",134),b.bd(8),b.uc(9,"translate"),b.ec(),b.fc(10,"li",134),b.bd(11),b.uc(12,"translate"),b.ec(),b.fc(13,"li",134),b.bd(14),b.uc(15,"translate"),b.ec(),b.ec(),b.Zc(16,$r,3,3,"div",135),b.Zc(17,Qr,2,1,"div",136),b.Zc(18,Kr,2,1,"div",136),b.Zc(19,Wr,2,1,"div",136),b.Zc(20,qr,2,1,"div",136)),2&e){var n=b.tc();b.Lb(1),b.dd(" ",b.vc(2,10,"monitoring.data.management.unavailable.message")," "),b.Lb(4),b.dd(" ",b.vc(6,12,"monitoring.services.unavailable.ensure1")," "),b.Lb(3),b.dd(" ",b.vc(9,14,"monitoring.services.unavailable.ensure2")," "),b.Lb(3),b.dd(" ",b.vc(12,16,"monitoring.services.unavailable.ensure3")," "),b.Lb(3),b.dd(" ",b.vc(15,18,"monitoring.services.unavailable.ensure4")," "),b.Lb(2),b.Ac("ngIf",n.monitoringErrorInformation||n.monitoringErrorMessage1||n.monitoringErrorMessage2||n.monitoringErrorMessage3),b.Lb(1),b.Ac("ngIf",n.monitoringErrorInformation),b.Lb(1),b.Ac("ngIf",n.monitoringErrorMessage1),b.Lb(1),b.Ac("ngIf",n.monitoringErrorMessage2),b.Lb(1),b.Ac("ngIf",n.monitoringErrorMessage3)}}var Jr,Gr,Yr,eo=[{path:"",component:Ei,redirectTo:"services"},{path:"",component:Ei,children:[{path:"services",component:Gc,pathMatch:"full"},{path:"service/:id",component:Qa},{path:"documents",component:Si,pathMatch:"full"},{path:"document/:id",component:Kt,pathMatch:"full"},{path:"data-management",component:(Jr=function(){function e(t,i,a,c,r,o,s,l){var d=this;n(this,e),this.sharedMessageService=i,this.translate=a,this.toastr=c,this.cd=s,this.preferencesService=l,this.destroyed$=new Wt.a,this.DATERANGEPICKER_TIME_FORMAT="MM/DD/YYYY hh:mm a",this.dateOptions={singleDatePicker:!0,timePicker:!0,timePicker24Hour:!0,timePickerSeconds:!0,showCustomRangeLabel:!1,showDropdowns:!0,disableInput:!1,autoUpdateInput:!1,startDate:0,endDate:0,locale:{format:this.DATERANGEPICKER_TIME_FORMAT,firstDay:1}},this.daysToRetainOption="numDays",this.numDaysRetainVal=30,this.archivingBatchSize=100,this.subs=[],this.archiveInfoTableInfo=new y.I("",[]),this.archiveHistoryTableInfo=new y.I("",[]),this.archiveHistoryTableLoading=!1,this.archiveHistoryTableFirst=1,this.archiveHistoryTablePageCount=1,this.archiveHistoryTableRows=0,this.showMaxArchiveResultRowsReachedMsg=!1,this.archiveHistoryFullScreen=!1,this.archiveInfoFullScreen=!1,this.archiveHistoryScrollHeight="220px",this.archiveInfoScrollHeight="220px",this.fetchingInfoTableData=!1,this.fetchingHistTableData=!1,this.servicesChecked=!1,this.documentsChecked=!1,this.serverDataChecked=!1,this.isWmMonitorAvailable=!0,this.archiveMessage={messages:[],errorMessages:[]},this.dataManagementService=t,this.tableSettingsService=r,this.confirmationService=o,this.translate.setDefaultLang("en"),this.subscription=this.sharedMessageService.getMessage().subscribe(function(e){e&&"change-locale"===e.data.action&&d.translate.use(e.data.data.locale)})}return a(e,[{key:"ngOnInit",value:function(){var e={separator:" "+this.translate.instant("common.calendar.separator")+" ",applyLabel:this.translate.instant("common.calendar.applyLabel"),cancelLabel:this.translate.instant("common.calendar.cancelLabel"),fromLabel:this.translate.instant("common.calendar.fromLabel"),toLabel:this.translate.instant("common.calendar.toLabel"),customRangeLabel:this.translate.instant("common.calendar.customRangeLabel"),weekLabel:this.translate.instant("common.calendar.weekLabel"),daysOfWeek:[this.translate.instant("common.calendar.daysOfWeek.Su"),this.translate.instant("common.calendar.daysOfWeek.Mo"),this.translate.instant("common.calendar.daysOfWeek.Tu"),this.translate.instant("common.calendar.daysOfWeek.We"),this.translate.instant("common.calendar.daysOfWeek.Th"),this.translate.instant("common.calendar.daysOfWeek.Fr"),this.translate.instant("common.calendar.daysOfWeek.Sa")],monthNames:[this.translate.instant("common.calendar.monthNames.January"),this.translate.instant("common.calendar.monthNames.February"),this.translate.instant("common.calendar.monthNames.March"),this.translate.instant("common.calendar.monthNames.April"),this.translate.instant("common.calendar.monthNames.May"),this.translate.instant("common.calendar.monthNames.June"),this.translate.instant("common.calendar.monthNames.July"),this.translate.instant("common.calendar.monthNames.August"),this.translate.instant("common.calendar.monthNames.September"),this.translate.instant("common.calendar.monthNames.October"),this.translate.instant("common.calendar.monthNames.November"),this.translate.instant("common.calendar.monthNames.December")]},t=Object.assign(e,this.dateOptions.locale);this.dateOptions.locale=t,this.checkMonitorStatus()}},{key:"initializeDataManagement",value:function(){var e=this;this.setArchiveHistoryTableDefault(),this.fetchingInfoTableData=!1,this.fetchingHistTableData=!1,this.archiveHistoryTableLoading=!0;var t=new Date;t.setDate(t.getDate()-30),this.dateDVal=+t,this.dateOptions.startDate=this.clonedDateTime(this.dateDVal),this.dateOptions.endDate=this.clonedDateTime(this.dateDVal),this.getArchiveInfo(),this.subs.push(this.tableSettingsService.getTableInfo("monitoring.archive.info.results").subscribe(function(t){e.archiveInfoTableInfo=t,e.archiveInfoTableInfo.pageSize||(e.archiveInfoTableInfo.pageSize=20)})),this.subs.push(this.tableSettingsService.getTableInfo("monitoring.archive.history.results").subscribe(function(t){e.archiveHistoryTableInfo=t,e.archiveHistoryTableInfo.pageSize||(e.archiveHistoryTableInfo.pageSize=20)})),this.subs.push(this.translate.get("common.reset").subscribe(function(){e.isLocalizationResourcesLoaded=!0;var t=e.translate.instant("monitoring.archive.data.type.completed"),n=e.translate.instant("monitoring.archive.data.type.completed.failed");e.serviceTypeVals=[{label:t,value:t,title:t},{label:n,value:n,title:n}],e.servicesDataTypeVal=t}))}},{key:"checkMonitorStatus",value:function(){var e=this;this.subs.push(this.dataManagementService.getMonitorStatus().pipe(Object(qt.a)(this.destroyed$)).subscribe(function(t){t&&t.hasOwnProperty("name")&&t.hasOwnProperty("status")&&"WmMonitor"===t.name&&"enabled"===t.status&&e.initializeDataManagement()},function(e){}))}},{key:"ngAfterViewInit",value:function(){this.makeComponentsAccessible()}},{key:"makeComponentsAccessible",value:function(){var e=this;setTimeout(function(){var t=document.getElementById("servicesDataType");t&&y.J.makeDropdownAccessible(t,e.translate.instant("monitoring.archive.service.status.tooltip"));var n=document.getElementsByTagName("p-paginator");if(n&&n.length>0){var i=0;for(i=0;i<n.length;i++)y.J.makePaginatorAccessible(n[i],e.translate.instant("common.table.pagination.go.back.first.page"),e.translate.instant("common.table.pagination.advance.last.page"),e.translate.instant("common.table.pagination.go.back.previous.page"),e.translate.instant("common.table.pagination.advance.next.page"),e.translate.instant("common.table.pagination.select.page"),e.translate.instant("common.table.pagination.select.number.rows"))}},400)}},{key:"servicesChkChanged",value:function(e){this.servicesChecked=e.target.checked}},{key:"documentsChkChanged",value:function(e){this.documentsChecked=e.target.checked}},{key:"serverDataChkChanged",value:function(e){this.serverDataChecked=e.target.checked}},{key:"showTablePrefs1",value:function(e){var t=this;this.tableSettingsService.changeShowHideInfo(this.archiveInfoTableInfo),setTimeout(function(){t.tablePrefs1.setFocus()},10)}},{key:"showTablePrefs2",value:function(e){var t=this;this.tableSettingsService.changeShowHideInfo(this.archiveHistoryTableInfo),setTimeout(function(){t.tablePrefs2.setFocus()},10)}},{key:"toggleFullScreenArchiveHistory",value:function(e){this.archiveHistoryFullScreen=!this.archiveHistoryFullScreen,this.archiveHistoryFullScreen?(e.classList.remove("dlt-icon-fullscreen"),e.classList.add("dlt-icon-fullscreen-exit"),e.parentElement.title=this.translate.instant("common.exitFullScreen"),this.archiveHistoryScrollHeight="1000px"):(e.classList.remove("dlt-icon-fullscreen-exit"),e.classList.add("dlt-icon-fullscreen"),e.parentElement.title=this.translate.instant("common.showFullScreen"),this.archiveHistoryScrollHeight="220px"),this.archiveHistCard.setShowExpandCollapse(!this.archiveHistoryFullScreen)}},{key:"toggleFullScreenArchiveInfo",value:function(e){this.archiveInfoFullScreen=!this.archiveInfoFullScreen,this.archiveInfoFullScreen?(e.classList.remove("dlt-icon-fullscreen"),e.classList.add("dlt-icon-fullscreen-exit"),e.parentElement.title=this.translate.instant("common.exitFullScreen"),this.archiveInfoScrollHeight="1000px"):(e.classList.remove("dlt-icon-fullscreen-exit"),e.classList.add("dlt-icon-fullscreen"),e.parentElement.title=this.translate.instant("common.showFullScreen"),this.archiveInfoScrollHeight="220px"),this.archiveInfoCard.setShowExpandCollapse(!this.archiveInfoFullScreen)}},{key:"archive",value:function(e){var t=this;e?this.confirmationService.confirm({message:this.translate.instant("monitoring.archive.confirm.delete.message"),header:this.translate.instant("monitoring.archive.confirm.delete.title"),icon:"pi pi-info-circle",accept:function(){t.performArchive(!0)},reject:function(){}}):this.performArchive(!1)}},{key:"performArchive",value:function(e){var t,n,i;if(this.servicesChecked||this.documentsChecked||this.serverDataChecked){t=this.servicesChecked,n=this.documentsChecked,i=this.serverDataChecked;var a="ARCHIVE";e&&(a="DELETE");var c,r,o,s=this.daysToRetainOption;"numDays"===s?c=this.numDaysRetainVal:"retenPd"===s&&(r=this.dateDVal);var l=new Array(0);t&&(l.push("service"),o=this.servicesDataTypeVal),n&&l.push("document"),i&&l.push("server"),this.archiveDelete(a,c,r,this.archivingBatchSize,o,l)}else{var d=this.translate.instant("monitoring.archive.select.data.type.err.msg"),u=this.translate.instant("monitoring.archive.select.data.type.err.title");this.toastr.error(d,u)}}},{key:"getArchiveInfo",value:function(){var e=this;this.fetchingInfoTableData=!0,this.dataManagementService.getArchiveInfo().subscribe(function(t){t&&(e.archiveInfo=t.archiveInfo,e.displayMessages()),e.fetchingInfoTableData=!1},function(t){e.fetchingInfoTableData=!1,e.isWmMonitorAvailable=!1,t.message&&(e.monitoringErrorMessage2=t.message),t.error&&t.error.message&&(e.monitoringErrorMessage3=t.error.message)})}},{key:"getArchiveResults",value:function(){var e=this;this.fetchingHistTableData=!0,this.dataManagementService.getArchiveResults(this.archiveHistoryTablePageCount,this.archiveInfoTableInfo.pageSize,this.archiveInfoTableInfo.sortField,"asc"===this.archiveInfoTableInfo.sortOrder?"TRUE":"FALSE").subscribe(function(t){t&&(e.archiveResults=t.archiveResults,e.totalArchiveResultRecords=e.archiveResults&&e.archiveResults.length>0&&t.totalCounts?t.totalCounts:0,e.fetchingHistTableData=!1,e.archiveHistoryTableLoading=!1)},function(t){e.archiveHistoryTableLoading=!1,e.fetchingHistTableData=!1,e.totalArchiveResultRecords=null,e.archiveResults=[],e.toastr.error(Object(y.K)(t,e.translate),e.translate.instant("common.error"))})}},{key:"archiveDelete",value:function(e,t,n,i,a,c){var r=this;this.archiveDeleteComplete=!1,this.archiveHistoryTableLoading=!0,this.fetchingInfoTableData=!0,this.fetchingHistTableData=!0,this.dataManagementService.archiveDelete(e,t,n,i,a,c).subscribe(function(e){e&&(e.message&&(r.archiveMessage.messages=e.message),e.errorMessage&&(r.archiveMessage.errorMessages=e.errorMessage),r.archiveDeleteComplete=!0),r.refreshTables()},function(e){r.archiveDeleteComplete=!0,r.toastr.error(Object(y.K)(e,r.translate),r.translate.instant("monitoring.archive.error.title"),{enableHtml:!0})})}},{key:"refreshTables",value:function(){this.resetPager(),this.getArchiveInfo(),this.getArchiveResults()}},{key:"setArchiveHistoryTableDefault",value:function(){this.archiveHistoryTableLoading=!1,this.archiveInfoTableInfo.sortField=this.archiveInfoTableInfo.defaultSortField,this.archiveInfoTableInfo.sortOrder=this.archiveInfoTableInfo.defaultSortOrder,this.resetPager()}},{key:"resetPager",value:function(){this.archiveHistoryTableFirst=1,this.archiveHistoryTablePageCount=0,this.totalArchiveResultRecords=0,this.archiveInfoTableInfo.pageSize||(this.archiveInfoTableInfo.pageSize=20),this.archiveHistoryTableRows=this.archiveInfoTableInfo.pageSize}},{key:"renderServiceTableResults",value:function(e){e?(this.archiveInfoTableInfo.sortField=e.sortField,this.archiveInfoTableInfo.sortOrder="desc",1===e.sortOrder&&(this.archiveInfoTableInfo.sortOrder="asc"),this.archiveHistoryTableFirst=e.first+1,e.rows&&(this.archiveHistoryTablePageCount=Math.floor(e.first/e.rows),this.archiveInfoTableInfo.pageSize=e.rows)):this.setArchiveHistoryTableDefault(),this.getRowCount(),this.cd.detectChanges()}},{key:"getRowCount",value:function(){this.archiveHistoryTableRows=(this.archiveHistoryTablePageCount+1)*this.archiveInfoTableInfo.pageSize,this.totalArchiveResultRecords>0&&this.totalArchiveResultRecords<this.archiveHistoryTableRows&&(this.archiveHistoryTableRows=this.totalArchiveResultRecords)}},{key:"lazyLoadArchiveResults",value:function(e){this.renderServiceTableResults(e),this.getArchiveResults()}},{key:"clearMessages",value:function(){this.archiveMessage.messages=null,this.archiveMessage.errorMessages=null,this.uncheckDataTypes()}},{key:"uncheckDataTypes",value:function(){this.servicesChecked=!1,this.documentsChecked=!1,this.serverDataChecked=!1}},{key:"displayMessages",value:function(){if(this.archiveMessage.messages&&this.archiveMessage.messages.length>0){for(var e="",t=0;t<this.archiveMessage.messages.length;t++)e+=this.archiveMessage.messages[t],t<this.archiveMessage.messages.length-1&&(e+="<hr>");this.toastr.success(e,this.translate.instant("monitoring.archive.success.title"),{enableHtml:!0})}if(this.archiveMessage.errorMessages&&this.archiveMessage.errorMessages.length>0){for(var n="",i=0;i<this.archiveMessage.errorMessages.length;i++)n+=this.archiveMessage.errorMessages[i],i<this.archiveMessage.errorMessages.length-1&&(n+="<hr>");this.toastr.error(n,this.translate.instant("monitoring.archive.error.title"),{enableHtml:!0})}this.clearMessages()}},{key:"applyDaterangepicker",value:function(e){e&&e.picker&&e.picker.startDate&&e.picker.startDate._d&&(this.dateDVal=Date.parse(e.picker.startDate._d))}},{key:"showDaterangepicker",value:function(e){this.dateOptions.endDate=this.dateDVal,e&&e.picker&&e.picker.setEndDate(this.dateDVal)}},{key:"clonedDateTime",value:function(e){return e&&e.clone?e.clone():x(e)}},{key:"blurHandler",value:function(e){var t=H.validateDate(e.target.value,this.translate),n=this.translate.instant("serviceinput.validate.invalid.entry");t&&this.toastr.error(t,n)}},{key:"showHelp",value:function(){}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.subs.forEach(function(e){return e.unsubscribe()}),this.destroyed$.next(!0),this.destroyed$.complete()}}]),e}(),Jr.\u0275fac=function(e){return new(e||Jr)(b.Zb(er),b.Zb(y.A),b.Zb(d.d),b.Zb(O.b),b.Zb(f.TableSettingsService),b.Zb(D.b),b.Zb(b.h),b.Zb(f.PreferencesService))},Jr.\u0275cmp=b.Tb({type:Jr,selectors:[["app-data-management"]],viewQuery:function(e,t){var n;1&e&&(b.hd(ir,1),b.hd(ar,1),b.hd(cr,1),b.hd(rr,1)),2&e&&(b.Oc(n=b.qc())&&(t.tablePrefs1=n.first),b.Oc(n=b.qc())&&(t.tablePrefs2=n.first),b.Oc(n=b.qc())&&(t.archiveInfoCard=n.first),b.Oc(n=b.qc())&&(t.archiveHistCard=n.first))},decls:13,vars:8,consts:[[1,"breadcrumbs-container"],["aria-label","breadcrumb",1,"dlt-breadcrumbs"],["routerLink","/integration/dashboard/overview","tabindex","0",1,"dlt-links"],["aria-current","page",1,"dlt-links"],[4,"ngIf","ngIfElse"],["monitorUnavailableTemplate",""],[1,"dataManagementContainer"],[1,"dlg-title-wrapper"],["width","100%","role","presentation"],[1,"page-title"],["class","data-mgmt",4,"ngIf"],["header","Confirmation","icon","pi pi-exclamation-triangle"],["cd",""],["type","button","pButton","","icon","pi pi-check",3,"label","click"],["type","button","pButton","","icon","pi pi-times",3,"label","click"],[1,"data-mgmt"],[1,"row","d-flex","justify-content-between"],[1,"col"],["class","row rowone",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","rowone"],[1,"colone"],[1,"data-mgmt-card0"],[3,"label"],[1,"hr1"],["height","100%",1,"margin-left-10-px"],["width","10%"],["width","85%"],["width","5%"],["nowrap",""],[1,"ui-g",2,"margin-left","14px"],[1,"ui-g-12"],[1,"dlt-radio-button"],["type","radio","name","group1","value","numDays","id","numDaysRetainRB",3,"ngModel","ngModelChange"],["numDaysRetainRB",""],["for","numDaysRetainRB",1,"rb-label"],[1,"dlt-form-group"],["id","numDaysRetain","type","number","min","0","max","9999999","aria-labelledby","numDaysRetainRB","showDelay","250",1,"dlt-number-input",3,"ngModel","disabled","pTooltip","ngModelChange"],[1,"number-controls"],["type","button","showDelay","250",1,"number-step-up",3,"disabled","pTooltip"],[1,"dlt-icon-caret-up","number-step-up-icon"],["type","button","showDelay","250",1,"number-step-down",3,"disabled","pTooltip"],[1,"dlt-icon-caret-down","number-step-down-icon"],["type","radio","name","group1","value","retenPd","id","retenPdStartRB",3,"ngModel","ngModelChange"],["retenPdStartRB",""],["for","retenPdStartRB",1,"rb-label"],["nowrap","","align","left"],["class","reten-pd-dt form-control","aria-labelledby","retenPdStartRB","disabled","",4,"ngIf"],["class","reten-pd-dt form-control","aria-labelledby","retenPdStartRB",4,"ngIf"],["id","retenPdCalendar","tabindex","0","type","button","daterangepicker","","showDelay","250",1,"dlt-button","dlt-button-icon","btn-1",3,"pTooltip","options","disabled","showDaterangepicker","applyDaterangepicker"],[1,"dlt-icon-calendar","dlg-icon-btn","dlt-icon"],[1,"col-12",2,"padding-right","30px"],[1,"ui-g",2,"width","100%","margin-top","-1.0rem","margin-left","1.0rem"],[1,"datatypes","margin-right-10-px"],["width","70%"],[1,"leftmiddle"],[1,"dlt-checkbox"],["type","checkbox","id","dtServices","name","dtServices","tabindex","0",3,"ngModel","ngModelChange","change"],["dtServices",""],["for","dtServices","id","dtServicesLbl","name","dtServicesLbl"],["dtServicesLbl",""],["id","servicesDataType","inputId","servicesDataType","name","servicesDataType","aria-labelledby","dtServicesLbl","showDelay","250","dropdownIcon","dlt-icon-caret-down",3,"options","ngModel","pTooltip","disabled","ngModelChange"],["servicesDataType",""],["type","checkbox","id","dtDocuments","name","dtDocuments","tabindex","0",3,"ngModel","ngModelChange","change"],["for","dtDocuments","id","dtDocumentsLbl","name","dtDocumentsLbl"],["dtDocumentsLbl",""],[2,"white-space","nowrap"],["type","checkbox","id","dtServerData","name","","tabindex","0",3,"ngModel","ngModelChange","change"],["for","dtServerData"],[1,"rightmiddle1"],["id","archBatchSizeLabel","for","archBatchSize",1,"leftmiddle"],[1,"rightmiddle2"],["id","archBatchSize","type","number","min","1","max","9999999","aria-labelledby","archBatchSizeLabel",1,"dlt-number-input",3,"ngModel","ngModelChange"],["type","button","showDelay","250",1,"number-step-up",3,"pTooltip"],["type","button","showDelay","250",1,"number-step-down",3,"pTooltip"],[1,"buttons-wrapper"],["type","button","id","archive-and-delete-btn","showDelay","250",1,"dlt-button","dlt-button-secondary",3,"pTooltip","disabled","click"],["type","button","id","delete-only-btn","showDelay","250",1,"dlt-button","dlt-button-secondary",3,"pTooltip","disabled","click"],[1,"hr3"],["aria-labelledby","retenPdStartRB","disabled","",1,"reten-pd-dt","form-control"],["aria-labelledby","retenPdStartRB",1,"reten-pd-dt","form-control"],[1,"row"],[1,"col-12"],[1,"data-mgmt-card1"],["showExpandCollapse","true",3,"label"],["archiveInfoCard",""],[1,"tblToolbar",2,"width","100%","margin-left","-3.0rem","margin-right","-3.0rem"],[2,"vertical-align","middle","margin-top","0.0rem","margin-bottom","0.0rem"],[1,"dlt-table-header"],[1,"dlt-data-table-title"],[1,"dlt-table-toolbar"],[1,"dlt-toolbar-content"],[1,"dlt-dropdown",2,"margin-right","0.5rem"],["showDelay","250","tooltipPosition","left","tabindex","0",1,"dlt-button","dlt-button-icon","btn-1",3,"pTooltip","click"],[1,"dlt-icon-settings","dlg-icon-btn","dlt-icon"],[1,"dlt-dropdown"],[1,"dlt-icon-fullscreen","dlg-icon-btn","dlt-icon"],["expandArchiveInfoTable",""],[1,"archiveresultcontainer"],["appendTo","body",3,"showTransitionOptions","hideTransitionOptions"],["tablePrefsOverlay1",""],["tablePrefs1",""],[1,"dlt-data-table-container"],[1,"dlt-table-wrapper"],[3,"ngClass","columns","value","scrollable","scrollHeight"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[4,"ngFor","ngForOf"],[4,"ngIf"],["tooltipPosition","top",3,"pSortableColumn","ngStyle","pTooltip",4,"ngIf"],["tooltipPosition","top",3,"pSortableColumn","ngStyle","pTooltip"],[1,"table-header-title","width-100-percentage"],[1,"width-55-percentage","m-pull-top-point-7"],["ariaLabel","'common.table.column.sort'|translate","ariaLabelDesc","'common.table.column.sort.descending'|translate","ariaLabelAsc","'common.table.column.sort.ascending'|translate",3,"field"],[1,"table-data"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],["showDelay","250","tooltipPosition","top",3,"pTooltip",4,"ngIf"],["showDelay","250","tooltipPosition","top",3,"pTooltip"],[1,"firstPart0"],["class","no-items-todisplay",4,"ngIf"],[1,"no-items-todisplay"],[1,"data-mgmt-card2"],["archiveHistCard",""],["align","right"],["expandArchiveHistoryTable",""],["tablePrefsOverlay2",""],["tablePrefs2",""],["lazyLoadOnInit","true","sortMode","single","sortOrder","-1","dataKey","CTRL_INSERT_DT",3,"ngClass","columns","value","paginator","rows","totalRecords","rowsPerPageOptions","paginatorDropdownAppendTo","lazy","scrollable","scrollHeight","showPageLinks","showJumpToPageDropdown","onLazyLoad"],["pTemplate","paginatorleft"],[1,"table-data","centerAlignText"],["noItemsTemplate",""],[1,"monitoringUnavailable"],[1,"monitoringUnavailableEnsure"],["class","monitoringErrorInfoLabel",4,"ngIf"],["class","monitoringErrorInfoMsg",4,"ngIf"],[1,"monitoringErrorInfoLabel"],[1,"monitoringErrorInfoMsg"]],template:function(e,t){if(1&e&&(b.fc(0,"div",0),b.fc(1,"ol",1),b.fc(2,"li"),b.fc(3,"a",2),b.bd(4),b.uc(5,"translate"),b.ec(),b.ec(),b.fc(6,"li"),b.fc(7,"a",3),b.bd(8),b.uc(9,"translate"),b.ec(),b.ec(),b.ec(),b.ec(),b.Zc(10,Ur,19,16,"ng-container",4),b.Zc(11,Xr,21,20,"ng-template",null,5,b.ad)),2&e){var n=b.Pc(12);b.Lb(4),b.cd(b.vc(5,4,"masthead.administration")),b.Lb(4),b.cd(b.vc(9,6,"monitoring.data.management.tab")),b.Lb(2),b.Ac("ngIf",t.isWmMonitorAvailable)("ngIfElse",n)}},directives:[m.h,g.n,tr.a,D.f,nr.b,f.SimpleCardComponent,le.u,le.c,le.n,le.q,le.s,_.a,f.DaterangePickerComponent,le.a,se.a,hn.a,f.TablePreferencesComponent,fn.h,g.l,D.j,g.m,fn.g,g.o,fn.f],pipes:[d.c,y.t],styles:[".breadcrumbs-container[_ngcontent-%COMP%]{padding-top:.8rem;margin-left:2px}.rightSideFixedcontainer[_ngcontent-%COMP%]{padding-top:.8rem;margin-right:25px}.dataManagementContainer[_ngcontent-%COMP%]{width:100%;height:100%;padding:1rem 1rem 1rem 1.26rem;overflow:auto}.page-title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-left:-.36rem}.page-title[_ngcontent-%COMP%], .section-title[_ngcontent-%COMP%]{width:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.section-title[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;font-weight:700;margin-top:-1rem;margin-left:0}.hr1[_ngcontent-%COMP%]{margin-top:.4rem}.hr1[_ngcontent-%COMP%], .hr2[_ngcontent-%COMP%]{width:100%;margin-left:1.65rem;margin-right:1.65rem}.hr2[_ngcontent-%COMP%], .hr3[_ngcontent-%COMP%]{margin-top:0}.hr3[_ngcontent-%COMP%]{width:100%;margin-left:0;margin-right:0}.data-mgmt[_ngcontent-%COMP%]{padding-top:1rem}.rowone[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.col-12[_ngcontent-%COMP%]{padding-right:10px;padding-left:10px}.colone[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:1;overflow:hidden;margin-left:10px;margin-right:10px}.data-mgmt-card0[_ngcontent-%COMP%]{min-height:180px}.data-mgmt-card0[_ngcontent-%COMP%], .data-mgmt-card1[_ngcontent-%COMP%]{min-width:560px}.data-mgmt-card0[_ngcontent-%COMP%], .data-mgmt-card1[_ngcontent-%COMP%], .data-mgmt-card2[_ngcontent-%COMP%]{padding-bottom:1rem;width:100%;height:100%;font-family:Roboto,Helvetica,Arial,sans-serif}.datepicker[_ngcontent-%COMP%], .table-condensed[_ngcontent-%COMP%]{width:500px}.reten-pd-dt[_ngcontent-%COMP%]{height:calc(1.5em + .75rem + 2px);padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;display:block;font-family:Roboto,Helvetica,Arial,sans-serif;background-color:#eaeaea;color:#000}.reten-pd-dt[_ngcontent-%COMP%]:disabled, .reten-pd-dt[disabled][_ngcontent-%COMP%]{color:#595959}.tableHeaderSelectAll[_ngcontent-%COMP%]{width:3em;padding-left:.9em}.archiveresultcontainer[_ngcontent-%COMP%]{height:100%;width:100%;padding-left:1.6rem;padding-right:1.6rem;padding-bottom:1rem;overflow:auto}.tblToolbar[_ngcontent-%COMP%]{margin-left:1rem;margin-right:3.5rem;margin-top:-1.9rem}.dataTypeCheckbox[_ngcontent-%COMP%]{padding-top:0;padding-bottom:1rem}label.leftmiddle[_ngcontent-%COMP%]{padding-top:.6rem!important;padding-bottom:0!important}td.leftmiddle[_ngcontent-%COMP%]{vertical-align:middle;align:left;padding-top:8px;padding-bottom:8px}td.rightmiddle1[_ngcontent-%COMP%], td.rightmiddle2[_ngcontent-%COMP%]{vertical-align:middle;text-align:right;padding-right:.4rem;white-space:nowrap}td.rightmiddle2[_ngcontent-%COMP%]{padding-top:4px}table.datatypes[_ngcontent-%COMP%]{width:100%;margin-right:1.5rem}.buttons-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;margin-top:0;margin-bottom:.4rem;width:100%}.dlt-checkbox[_ngcontent-%COMP%]{padding-top:0}.firstPart0[_ngcontent-%COMP%], .lastPart0[_ngcontent-%COMP%]{color:#000}.dlt-icon-fullscreen[_ngcontent-%COMP%]:before{content:url(Expand-dialog-vec18.4ec93a215fa9f4638f8b.svg)}.dlt-icon-fullscreen-exit[_ngcontent-%COMP%]:before{content:url(Collapse-dialog-vec18.c764bb320fbb6335e037.svg)}.monitoringUnavailable[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem;font-weight:500;margin-top:2rem}.monitoringUnavailable[_ngcontent-%COMP%], .monitoringUnavailableEnsure[_ngcontent-%COMP%]{width:100%;margin-left:2rem;margin-right:2rem;padding-right:2rem;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringUnavailableEnsure[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;font-weight:400}.monitoringErrorInfoLabel[_ngcontent-%COMP%]{font-weight:500;margin-top:1rem;margin-left:3rem;margin-right:3rem;padding-right:3rem}.monitoringErrorInfoLabel[_ngcontent-%COMP%], .monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-size:1rem;line-height:1.25rem;width:100%;flex-wrap:wrap;font-family:Roboto,Helvetica,Arial,sans-serif}.monitoringErrorInfoMsg[_ngcontent-%COMP%]{font-weight:400;margin-left:4rem;margin-right:4rem;padding-right:4rem}.margin-left-10-px[_ngcontent-%COMP%]{margin-left:10px}.margin-right-10-px[_ngcontent-%COMP%]{margin-right:10px!important}label.rb-label[_ngcontent-%COMP%]{margin-left:.4rem;margin-right:.6rem}.center[_ngcontent-%COMP%]{margin-left:-1px;margin-top:-1px}.center[_ngcontent-%COMP%], .center1[_ngcontent-%COMP%], .center2[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:18px;height:18px;transform:translate(-50%,-50%);display:block}.center2[_ngcontent-%COMP%]{margin-top:-1px}"]}),Jr),pathMatch:"full"}]}],to=((Gr=function e(){n(this,e)}).\u0275fac=function(e){return new(e||Gr)},Gr.\u0275mod=b.Xb({type:Gr}),Gr.\u0275inj=b.Wb({imports:[[m.i.forChild(eo)],m.i]}),Gr),no=c("nWvw"),io=((Yr=function e(){n(this,e)}).\u0275fac=function(e){return new(e||Yr)},Yr.\u0275mod=b.Xb({type:Yr}),Yr.\u0275inj=b.Wb({imports:[[g.c,le.j,_.b,d.b.forChild({loader:{provide:d.a,useFactory:ao,deps:[p.b]},extend:!0})]]}),Yr);function ao(e){return new y.q(e,[])}var co,ro=c("FjU+"),oo=((co=function e(){n(this,e)}).\u0275fac=function(e){return new(e||co)},co.\u0275mod=b.Xb({type:co}),co.\u0275inj=b.Wb({providers:[g.e,y.t],imports:[[g.c,io,Vi.b,le.j,le.v,y.s,f.Daterangepicker,se.b,ro.b,_.b,d.b.forChild({loader:{provide:d.a,useFactory:so,deps:[p.b]},extend:!0})],Vi.b,y.s]}),co);function so(e){return new y.q(e,[])}var lo,uo=c("YvBs"),ho=((lo=function e(){n(this,e)}).\u0275fac=function(e){return new(e||lo)},lo.\u0275mod=b.Xb({type:lo}),lo.\u0275inj=b.Wb({providers:[y.E,y.F,D.h,no.a,y.g,y.t,y.D,f.D3HelperService,D.b],imports:[[g.c,f.TablesModule,h.a,f.ISACSharedModule,to,y.s,no.c,P.b,u.g,d.b.forChild({loader:{provide:d.a,useFactory:fo,deps:[p.b]},extend:!0}),le.j,le.v,oo,uo.a,ro.b,f.Daterangepicker,tr.b,v.b],y.s]}),lo);function fo(e){return new y.q(e,[])}}}])}();